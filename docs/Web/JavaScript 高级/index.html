<!doctype html>
<html lang="cn" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Web/JavaScript 高级" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">JavaScript 高级 | 小冷の代码世界</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doomwatcher2004.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://doomwatcher2004.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://doomwatcher2004.github.io/docs/Web/JavaScript 高级"><meta data-rh="true" property="og:locale" content="cn"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JavaScript 高级 | 小冷の代码世界"><meta data-rh="true" name="description" content="案例"><meta data-rh="true" property="og:description" content="案例"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doomwatcher2004.github.io/docs/Web/JavaScript 高级"><link data-rh="true" rel="alternate" href="https://doomwatcher2004.github.io/docs/Web/JavaScript 高级" hreflang="cn"><link data-rh="true" rel="alternate" href="https://doomwatcher2004.github.io/docs/Web/JavaScript 高级" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.15cbc4ab.css">
<script src="/assets/js/runtime~main.effe0063.js" defer="defer"></script>
<script src="/assets/js/main.00c018b0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="小冷の代码世界" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="小冷の代码世界" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">小冷の代码世界</b></a><a class="navbar__item navbar__link" href="/docs/Java/Docker 快速入门">Java知识库</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Web/JavaScript 高级">前端知识库</a><a class="navbar__item navbar__link" href="/docs/Godot/">Godot游戏开发</a><a class="navbar__item navbar__link" href="/docs/finish/finishRpc">原创Java微服务生态</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Doomwatcher2004" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Web/JavaScript 高级">JavaScript 高级</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Web/react">React 核心价值与前置知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Web/vue2.x">vue2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Web/小满前端TS笔记">TypeScript 基础笔记(小满版本)</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JavaScript 高级</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>JavaScript 高级</h1></header>
<h1>This 指向规则</h1>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="案例">案例<a href="#案例" class="hash-link" aria-label="Direct link to 案例" title="Direct link to 案例">​</a></h3>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 1 调用方式1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 2 调用方式2 放入对象中调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">foo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 调用方式三 通过 call/apply 调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;abc&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812269.png" alt="image-20230223171236633" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="指向定义">指向定义<a href="#指向定义" class="hash-link" aria-label="Direct link to 指向定义" title="Direct link to 指向定义">​</a></h3>
<p>this 是 js 给函数的一个绑定值。</p>
<ol>
<li>函数在调用时 JavaScript 会默认给 this 绑定一个值；</li>
<li>this 的绑定和定义的位置（编写的位置）没有关系；</li>
<li>this 的绑定和调用方式以及调用的位置有关系</li>
<li>this 是在运行时被绑定的</li>
</ol>
<blockquote>
<p>无严格模式下 为 window 如果打开严格模式 则为 udnefined</p>
</blockquote>
<p>this 的绑定规则如下：</p>
<ol>
<li>
<p>绑定一：默认绑定 PS: 没有绑定到任何对象时 &amp; 函数定义在对象中但是被独立调用 对象也是 window</p>
</li>
<li>
<p>绑定二：隐式绑定 PS：由 JS 绑定到调用对象 指向对象</p>
</li>
<li>
<p>绑定三：new 绑定</p>
<ul>
<li>new 执行过程</li>
<li>1 创建空对象</li>
<li>2 修改 this 指向为空对象</li>
<li>3 执行函数体代码</li>
<li>没有显示返回非空对象时 默认返回这个对象</li>
</ul>
</li>
<li>
<p>绑定四 显示绑定</p>
<ul>
<li>
<p>如果我们不希望在 对象内部 包含这个函数的引用，同时又希望在这个对象上进行强制调用</p>
</li>
<li>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">         </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">       </span><span class="token literal-property property">foo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> foo</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">console 输出内容 </span><span class="token punctuation" style="color:#475569">{</span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&#x27;why&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">foo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> ƒ</span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>call/apply 可以帮助我们完成这个效果</p>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="额外函数补充">额外函数补充<a href="#额外函数补充" class="hash-link" aria-label="Direct link to 额外函数补充" title="Direct link to 额外函数补充">​</a></h3>
<p>Call / Apply 调用方法 两者区别不大 但是又细微差别</p>
<p><code>apply</code>：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> height</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;foo 函数this 指向&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;参数：&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 普通调用  直接入参</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1.22</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// apply</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 第一个参数 绑定 this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 第二个参数 传入额外的实参 以数组的形式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//   foo.apply(&quot;apply&quot;,[&quot;why&quot;, 18, 1.22])</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">apply</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1.22</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>call</code>：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> height</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;foo 函数this 指向&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;参数：&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 第一个参数 绑定 this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 后续参数以 参数列表形式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;call&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;远目鸟&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>两者 相同处 都是调用方法 第一参数都指向 this 唯一区别只在后续传入的参数的形势</p>
<ul>
<li>apply 为数组</li>
<li>call 为列表 以 <code>,</code> 分割</li>
</ul>
<p><code>bind</code> ：会创建 绑定函数 我们希望调用 foo 的时候总是让 this 指向 obj</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;foo 函数this 指向&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 需求 调用foo时 总是绑定 obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> bar </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">bind</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">bar</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。 实际开发中 使用不多 作为参考 了解即可</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="内置函数">内置函数<a href="#内置函数" class="hash-link" aria-label="Direct link to 内置函数" title="Direct link to 内置函数">​</a></h4>
<p>一般 对于浏览器 的内置函数 或者是第三方框架的 this 指向 我们只能用经验去判断 一个一个去源码或者文档查看和并不现实</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="this-优先级">This 优先级<a href="#this-优先级" class="hash-link" aria-label="Direct link to This 优先级" title="Direct link to This 优先级">​</a></h3>
<ol>
<li>默认绑定 优先级最低</li>
<li>显式绑定 高于隐式绑定</li>
<li>new 高于隐式绑定 PS：new 不能和 call/apply 一起使用</li>
<li>new 绑定优先级高于 bind</li>
<li>同显式 bind 优先级高于 call/apply</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="拓展-规则之外">拓展： 规则之外<a href="#拓展-规则之外" class="hash-link" aria-label="Direct link to 拓展： 规则之外" title="Direct link to 拓展： 规则之外">​</a></h3>
<p>**情况一：**如果在显示绑定中，我们传入一个 null 或者 undefined，那么这个显示绑定会被忽略，使用默认规则：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;foo 函数this 指向&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> bar </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">bind</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">bar</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>但是打开严格模式 就会可以使用基础属性 直接显示 null 或者 undefined</p>
<p>**情况二：**创建一个函数的 间接引用，这种情况使用默认绑定规则。</p>
<ul>
<li>这种情况 (obj2.foo = obj1.foo) 会使用默认规则 指向 window</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;obj1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function-variable function" style="color:#0e7490">foo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;foo 函数this 指向&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;obj2&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj1</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj2</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">foo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> obj1</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">foo</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>**情况三：**箭头函数</p>
<ul>
<li>箭头函数不会绑定 this、arguments 属性</li>
<li>箭头函数不能作为构造函数来使用</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// {} 是执行体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arrFn </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// 指向的是对象 需要加小括号才可以做到</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arrFn </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="箭头函数">箭头函数<a href="#箭头函数" class="hash-link" aria-label="Direct link to 箭头函数" title="Direct link to 箭头函数">​</a></h3>
<ul>
<li>
<p>基本写法</p>
<ul>
<li>
<p>()：函数的参数</p>
</li>
<li>
<p>{}:函数的执行体</p>
</li>
<li>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">foo3</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;箭头函数的函数体&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p>优化写法</p>
<ul>
<li>
<p>只有一个参数时, 可以省略()</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">names</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">forEach</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>只有一行代码时, 可以省略{}</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">names</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">forEach</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>只要一行代码时, 表达式的返回值会作为箭头函数默认返回值, 所以可以省略 return</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newNums </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">filter</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> item </span><span class="token operator" style="color:#475569">%</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"> </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newNums </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">filter</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> item </span><span class="token operator" style="color:#475569">%</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"> </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>如果箭头函数默认返回的是对象, 在省略{}的时候, 对象必须使用()包裹 () =&gt; ({name: &quot;why&quot;})</p>
<div class="language-JS language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">arrFn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;abc&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;cba&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">arrFn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 注意: 这里是{}执行体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">arrFn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">arrFn</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
</ul>
<p>箭头函数不使用 this 的四种标准规则（也就是不绑定 this），而是根据外层作用域来决定 this。</p>
<p>我们来看一个模拟网络请求的案例：</p>
<ul>
<li>这里我使用 setTimeout 来模拟网络请求，请求到数据后如何可以存放到 data 中呢？</li>
<li>我们需要拿到 obj 对象，设置 data；</li>
<li>但是直接拿到的 this 是 window，我们需要在外层定义：var _this = this</li>
<li>_在 setTimeout 的回调函数中使用_this 就代表了 obj 对象</li>
<li>但是如果使用箭头函数根据特性他会向上寻找 this 省去了_this = this 的操作</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">data</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function-variable function" style="color:#0e7490">getData</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">request</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;/11&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">data</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">concat</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">request</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">url</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> callbackFn</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> res </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;abc&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;cba&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;nba&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">callbackFn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">getData</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h3>
<ol>
<li>this 的指向问题与优先级 是踏入 JS 的敲门砖，如果不先系统了解之后使用的时候可能会出现奇怪的错误</li>
<li>使用 ES6 的语法 箭头函数 提前熟悉 ES6 语法可以提升开发效率</li>
</ol>
<h1>浏览器渲染原理</h1>
<p>我们通过 url 进入到页面拿到资源以及获得返回资源的过程</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812782.png" alt="image-20230224172914936" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="浏览器内核">浏览器内核<a href="#浏览器内核" class="hash-link" aria-label="Direct link to 浏览器内核" title="Direct link to 浏览器内核">​</a></h3>
<p>常见的浏览器内核有</p>
<ul>
<li>Trident （ 三叉戟）：IE、360 安全浏览器、搜狗高速浏览器、百度浏览器、UC 浏览器；</li>
<li>Gecko（ 壁虎） ：Mozilla Firefox；</li>
<li>Presto（急板乐曲）-&gt; Blink （眨眼）：Opera</li>
<li>Webkit ：Safari、360 极速浏览器、搜狗高速浏览器、移动端浏览器（Android、iOS）</li>
<li>Webkit -&gt; Blink ：Google Chrome，Edge</li>
</ul>
<p>页面渲染流程：</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812783.png" alt="image-20230224173248809" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="浏览器的渲染页面过程">浏览器的渲染页面过程<a href="#浏览器的渲染页面过程" class="hash-link" aria-label="Direct link to 浏览器的渲染页面过程" title="Direct link to 浏览器的渲染页面过程">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="html-解析过程">HTML 解析过程<a href="#html-解析过程" class="hash-link" aria-label="Direct link to HTML 解析过程" title="Direct link to HTML 解析过程">​</a></h3>
<blockquote>
<p>一般情况下服务器会给浏览器返回 xx.html 文件 解析 html 其实就是 Dom 树的构建过程</p>
</blockquote>
<p>我们可以根据以下 html 结构 来简单的分析出 html 的解析过程</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812784.png" alt="image-20230224173537427" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812785.png" alt="image-20230224173452450" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="解析-css-规则树">解析 CSS 规则树<a href="#解析-css-规则树" class="hash-link" aria-label="Direct link to 解析 CSS 规则树" title="Direct link to 解析 CSS 规则树">​</a></h3>
<blockquote>
<p>在解析的过程中，如果遇到 CSS 的 link 元素，那么会由浏览器负责下载对应的 CSS 文件：</p>
<p>PS： 这里下载 CSS 是不会影响到 DOM 树的解析的</p>
</blockquote>
<p>下载完成后 就会对 CSS 文件解析出对应的 规则树 ， 案例如下图 ：</p>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token selector" style="color:#D7BA7D">body</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token property">font-size</span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">16</span><span class="token unit">px</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token selector" style="color:#D7BA7D">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token property">font-weight</span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> bold</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token selector" style="color:#D7BA7D">span</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token color">red</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token selector" style="color:#D7BA7D">p span</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token property">display</span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> none</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token selector" style="color:#D7BA7D">img</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token property">float</span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> right</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812786.png" alt="image-20230224173851072" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="解析步骤-构建-render-tree">解析步骤 构建 Render Tree<a href="#解析步骤-构建-render-tree" class="hash-link" aria-label="Direct link to 解析步骤 构建 Render Tree" title="Direct link to 解析步骤 构建 Render Tree">​</a></h3>
<p>当有了 DOM Tree 和 CSSOM Tree 后，就可以两个结合来构建 Render Tree 了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812787.png" alt="image-20230224173938905" class="img_ev3q"></p>
<p>需要注意的是：</p>
<ul>
<li>link 元素不会阻塞 DOM Tree 的构建过程，但是会阻塞 Render Tree 的构建过程</li>
<li>Render Tree 和 DOM Tree 并不是一一对应的关系，比如对于 display 为 none 的元素，压根不会出现在 render tree 中；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="解析步骤-布局和绘制">解析步骤 布局和绘制<a href="#解析步骤-布局和绘制" class="hash-link" aria-label="Direct link to 解析步骤 布局和绘制" title="Direct link to 解析步骤 布局和绘制">​</a></h3>
<ul>
<li>渲染树（Render Tree）上运行布局（Layout）以计算每个节点的几何体。
<ul>
<li>渲染树会表示显示哪些节点以及其他样式，但是不表示每个节点的尺寸、位置等信息；</li>
<li>布局是确定呈现树中所有节点的宽度、高度和位置信息；</li>
</ul>
</li>
<li>将每个节点绘制（Paint）到屏幕上
<ul>
<li>在绘制阶段，浏览器将布局阶段计算的每个 frame 转为屏幕上实际的像素点；</li>
<li>包括将元素的可见部分进行绘制，比如文本、颜色、边框、阴影、替换元素（比如 img）</li>
</ul>
</li>
</ul>
<p>渲染的流程可以参考下图 ：</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812788.png" alt="image-20230224174204939" class="img_ev3q"></p>
<p>完成以上五步 成功在浏览器渲染出 对应的 xx.html 文件</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="回流和重绘">回流和重绘<a href="#回流和重绘" class="hash-link" aria-label="Direct link to 回流和重绘" title="Direct link to 回流和重绘">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="回流reflow">回流（reflow）<a href="#回流reflow" class="hash-link" aria-label="Direct link to 回流（reflow）" title="Direct link to 回流（reflow）">​</a></h4>
<p><code>reflow</code> ：</p>
<ul>
<li>我们渲染出来的节点大小位置 也就是布局时第一次渲染出之后就确定的</li>
<li>之后对于节点大小和位置重新计算的行为 叫做回流（reflow）</li>
</ul>
<p>回流在什么时候会出现 ：</p>
<ol>
<li>DOM 结构发生变化 （添加 &amp; 移除）</li>
<li>改变了 CSS 样式代码 也就是布局</li>
<li>修改了 窗口尺寸</li>
<li>或者是调用了某些内置函数 获取位置和尺寸信息</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="重绘-reprint">重绘 （reprint）<a href="#重绘-reprint" class="hash-link" aria-label="Direct link to 重绘 （reprint）" title="Direct link to 重绘 （reprint）">​</a></h4>
<ul>
<li>我们渲染的第一次，在之前的流程图中叫做 ==printing==</li>
<li>在之后需要重新渲染的时候 成为重绘</li>
</ul>
<p>重绘怎么出现 ：</p>
<ol>
<li>修改 CSS 如 颜色 文字样式</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="拓展思路">拓展思路<a href="#拓展思路" class="hash-link" aria-label="Direct link to 拓展思路" title="Direct link to 拓展思路">​</a></h4>
<ol>
<li>只要出现回流 就一定会引起重绘 其实看到上述的解释 也很容易就发现 回流也是在出发样式代码或者改变的时候触发</li>
<li>回流的性能并不好 也很明显 重新渲染整个 DOM 很浪费性能</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="总结-1">总结<a href="#总结-1" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h4>
<ul>
<li>修改样式 尽可能减少回流次数 也就是设计好之后，非必要不去改动样式和 DOM 的结构</li>
<li>避免频繁使用 JS 去操作 DOM</li>
<li>尽可能减少函数获取储存位置的信息</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="特殊解析---composite-合成">特殊解析 - composite 合成<a href="#特殊解析---composite-合成" class="hash-link" aria-label="Direct link to 特殊解析 - composite 合成" title="Direct link to 特殊解析 - composite 合成">​</a></h3>
<p>绘制的过程，可以将布局后的元素绘制到多个合成图层中。</p>
<p>会形成新的合成层的属性：</p>
<ul>
<li>3D transforms</li>
<li>video、canvas、iframe</li>
<li>opacity 动画转换时</li>
<li>position: fixed</li>
<li>will-change</li>
<li>animation 或 transition 设置了 opacity、transform</li>
</ul>
<p>PS：分层确实可以提高性能，但是它以内存管理为代价，所以不作为性能优化策略来使用</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="script-元素和页面解析的关系">script 元素和页面解析的关系<a href="#script-元素和页面解析的关系" class="hash-link" aria-label="Direct link to script 元素和页面解析的关系" title="Direct link to script 元素和页面解析的关系">​</a></h3>
<p>JS 在我们渲染过程中的那一步呢？</p>
<ol>
<li>在渲染 html 的时候 js 没有继续构造 DOM 的能力</li>
<li>如果需要需要的部分 会先停止构建，下载 js 执行脚本</li>
<li>把需要构建的东西构建完成后 继续执行构建 DOM</li>
</ol>
<p>这么做有什么好处？</p>
<ol>
<li>JS 有操作和修改 DOM 的作用</li>
<li>为什么会先去执行 js 脚本？ 因为之前提到了 回流时很吃性能的所以最好一次性弄好 减少不必要的回流</li>
</ol>
<blockquote>
<p>代码案例</p>
</blockquote>
<p><code>index.html</code></p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token tag punctuation" style="color:#475569">&lt;</span><span class="token tag" style="color:#0ea5e9">script</span><span class="token tag" style="color:#0ea5e9"> </span><span class="token tag attr-name" style="color:#0c4a6e">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#475569">=</span><span class="token tag attr-value punctuation" style="color:#475569">&quot;</span><span class="token tag attr-value" style="color:#64748b">./js/test.js</span><span class="token tag attr-value punctuation" style="color:#475569">&quot;</span><span class="token tag punctuation" style="color:#475569">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#475569">&lt;/</span><span class="token tag" style="color:#0ea5e9">script</span><span class="token tag punctuation" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token tag punctuation" style="color:#475569">&lt;</span><span class="token tag" style="color:#0ea5e9">body</span><span class="token tag punctuation" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token tag punctuation" style="color:#475569">&lt;</span><span class="token tag" style="color:#0ea5e9">div</span><span class="token tag" style="color:#0ea5e9"> </span><span class="token tag attr-name" style="color:#0c4a6e">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#475569">=</span><span class="token tag attr-value punctuation" style="color:#475569">&quot;</span><span class="token tag attr-value" style="color:#64748b">box</span><span class="token tag attr-value punctuation" style="color:#475569">&quot;</span><span class="token tag punctuation" style="color:#475569">&gt;</span><span class="token tag punctuation" style="color:#475569">&lt;/</span><span class="token tag" style="color:#0ea5e9">div</span><span class="token tag punctuation" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token tag punctuation" style="color:#475569">&lt;/</span><span class="token tag" style="color:#0ea5e9">body</span><span class="token tag punctuation" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token tag punctuation" style="color:#475569">&lt;</span><span class="token tag" style="color:#0ea5e9">script</span><span class="token tag punctuation" style="color:#475569">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#0c4a6e">var</span><span class="token script language-javascript"> boxel </span><span class="token script language-javascript operator" style="color:#475569">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:#0c4a6e">document</span><span class="token script language-javascript punctuation" style="color:#475569">.</span><span class="token script language-javascript method function property-access" style="color:#0e7490">getElementsByClassName</span><span class="token script language-javascript punctuation" style="color:#475569">(</span><span class="token script language-javascript string" style="color:#64748b">&quot;box&quot;</span><span class="token script language-javascript punctuation" style="color:#475569">)</span><span class="token script language-javascript punctuation" style="color:#475569">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name" style="color:#0ea5e9">console</span><span class="token script language-javascript punctuation" style="color:#475569">.</span><span class="token script language-javascript method function property-access" style="color:#0e7490">log</span><span class="token script language-javascript punctuation" style="color:#475569">(</span><span class="token script language-javascript">boxel</span><span class="token script language-javascript punctuation" style="color:#475569">)</span><span class="token script language-javascript punctuation" style="color:#475569">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#475569">&lt;/</span><span class="token tag" style="color:#0ea5e9">script</span><span class="token tag punctuation" style="color:#475569">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>test.js</code></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">debugger</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;hello&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>新的问题：</p>
<ul>
<li>在现在的开发模式中 大多都是使用 vue 和 React 作为开发框架 JS 的占比往往很大 处理事件也会变长</li>
<li>这也导致了 如果解析阻塞 那么在脚本解析完成之前 可能界面什么都不显示</li>
</ul>
<p>这里 js 给我们提供了两个属性 来解决这个问题</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defer-属性">defer 属性<a href="#defer-属性" class="hash-link" aria-label="Direct link to defer 属性" title="Direct link to defer 属性">​</a></h3>
<p>defer 属性告诉浏览器不要等待脚本下载，而继续解析 HTML，构建 DOM Tree，如果脚本提前下载好就等待加载，等 DOM 完成 在触发 DOMContentLoaded 之前执行 defer 中的代码</p>
<blockquote>
<p>PS： defer 按照默认顺序执行 不会影响顺序 且可以操作 DOM</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token dom variable" style="color:#0c4a6e">window</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">addEventListener</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;DOMContentLoaded&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;DOMContentLoaded&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token operator" style="color:#475569">/</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> boxel </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#0c4a6e">document</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">getElementsByClassName</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;box&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">boxel</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token operator" style="color:#475569">/</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">script defer</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;defer-demo&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token operator" style="color:#475569">/</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">debugger</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;hello&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token operator" style="color:#475569">/</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>建议：</p>
<ul>
<li>将 defer 放入 head 中使用 这个属性的特性放在末尾 就本末倒置了</li>
<li>defer 只对外置脚本有效果</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-属性">async 属性<a href="#async-属性" class="hash-link" aria-label="Direct link to async 属性" title="Direct link to async 属性">​</a></h3>
<p>async 特性与 defer 有些类似，它也能够让脚本不阻塞页面。</p>
<p>它的特性：</p>
<ul>
<li>浏览器不会因 async 脚本而阻塞（与 defer 类似）；</li>
<li>async 脚本不能保证顺序，它是独立下载、独立运行，不会等待其他脚本</li>
<li>async 不会能保证在 DOMContentLoaded 之前或者之后执行</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token dom variable" style="color:#0c4a6e">window</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">addEventListener</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;DOMContentLoaded&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;DOMContentLoaded&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token operator" style="color:#475569">/</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">script async</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;defer-demo&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">&lt;</span><span class="token operator" style="color:#475569">/</span><span class="token plain">script</span><span class="token operator" style="color:#475569">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>总结</strong></p>
<ul>
<li>defer 通常用于文档解析操作 DOM 且有顺序要求的 JS 代码</li>
<li>async 通常用于独立脚本 可以理解为没有什么依赖的脚本 如果有依赖 那么不保证一定能提前加载到</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-2">总结<a href="#总结-2" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h3>
<ol>
<li>首先时了解和认识一些浏览器的内核</li>
<li>了解从服务器加载 到渲染页面的流程</li>
<li>细化每一步的大致内容</li>
<li>发现有问题且探索到问题的一些解决方法</li>
</ol>
<h1>JS 运行原理</h1>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="深入了解-v8-引擎原理">深入了解 V8 引擎原理<a href="#深入了解-v8-引擎原理" class="hash-link" aria-label="Direct link to 深入了解 V8 引擎原理" title="Direct link to 深入了解 V8 引擎原理">​</a></h3>
<p>浏览器内核是由两部分组成的，以 webkit 为例：</p>
<ul>
<li>WebCore：负责 HTML 解析、布局、渲染等等相关的工作；</li>
<li>JavaScriptCore：解析、执行 JavaScript 代码；</li>
</ul>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812789.png" alt="image-20230224183949294" class="img_ev3q"></p>
<p>官方对 V8 引擎的定义：</p>
<ul>
<li>V8 是用 C ++编写的 Google 开源高性能 JavaScript 和 WebAssembly 引擎，它用于 Chrome 和 Node.js 等</li>
<li>它实现 ECMAScript 和 WebAssembly，并在 Windows 7 或更高版本，macOS 10.12+和使用 x64，IA-32，ARM 或 MIPS 处理
器的 Linux 系统上运行。</li>
<li>V8 可以独立运行，也可以嵌入到任何 C ++应用程序中。</li>
</ul>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812790.png" alt="image-20230224184029597" class="img_ev3q"></p>
<p>V8 引擎的架构很复杂 ，我们可以先了解它庞大引擎的一些模块</p>
<ul>
<li>Parse 模块会将 JavaScript 代码转换成 AST（抽象语法树），这是因为解释器并不直接认识 JavaScript 代码
<ul>
<li>如果函数没有被调用，那么是不会被转换成 AST</li>
<li>Parse 的 V8 官方文档：<a href="https://v8.dev/blog/scanner" target="_blank" rel="noopener noreferrer">https://v8.dev/blog/scanner</a></li>
</ul>
</li>
<li>Ignition 是一个解释器，会将 AST 转换成 ByteCode（字节码）
<ul>
<li>同时会收集 TurboFan 优化所需要的信息（比如函数参数的类型信息，有了类型才能进行真实的运算）</li>
<li>如果函数只调用一次，Ignition 会解释执行 ByteCode</li>
<li>Ignition 的 V8 官方文档：<a href="https://v8.dev/blog/ignition-interpreter" target="_blank" rel="noopener noreferrer">https://v8.dev/blog/ignition-interpreter</a></li>
</ul>
</li>
<li>TurboFan 是一个编译器，可以将字节码编译为 CPU 可以直接执行的机器码
<ul>
<li>如果一个函数被多次调用，那么就会被标记为热点函数，它会被 TurboFan 转换成优化的机器码，提高代码的执行性能</li>
<li>机器码实际上也会被还原为 ByteCode，这是因为如果后续执行函数的过程中，类型发生了变化（比如 sum 函数原来执
行的是 number 类型，后来执行变成了 string 类型），之前优化的机器码并不能正确的处理运算，就会逆向的转换成字节码</li>
<li>TurboFan 的 V8 官方文档：<a href="https://v8.dev/blog/turbofan-jit" target="_blank" rel="noopener noreferrer">https://v8.dev/blog/turbofan-jit</a></li>
</ul>
</li>
</ul>
<p>V8 架构解析图 来自官方</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812791.png" alt="image-20230224184421893" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812792.png" alt="image-20230224184508091" class="img_ev3q"></p>
<p>解析代码的步骤：</p>
<ol>
<li>获得到代码之后 V8 用流输入通过词法分析，分析成 token</li>
<li>解析/预解析 来生成一个一个执行节点</li>
<li>生成 AST 树</li>
<li>转成字节码 如果有热点方法就会走 turbofan 编译器优化成机械码提升性能</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全局代码执行过程">全局代码执行过程<a href="#全局代码执行过程" class="hash-link" aria-label="Direct link to 全局代码执行过程" title="Direct link to 全局代码执行过程">​</a></h3>
<p>js 引擎会在执行代码之前，会在堆内存中创建一个全局对象：Global Object（GO）</p>
<ul>
<li>该对象 所有的作用域（scope）都可以访问</li>
<li>里面会包含 Date、Array、String、Number、setTimeout、setInterval 等等</li>
<li>其中还有一个 window 属性指向自己</li>
</ul>
<p>js 引擎内部有一个执行上下文栈（Execution Context Stack，简称 ECS），它是用于执行代码的调用栈，</p>
<p>他执行的式全局代码块，它的作用就是：</p>
<ul>
<li>为了执行代码构建一个 Global Execution Context GEC 全局上下文</li>
<li>将这个构建的上下文加入到执行栈中 也就是将 GEC 放入 ECS 中</li>
</ul>
<blockquote>
<p>GEC 被放入到 ECS 中里面包含两部分内容：</p>
<ul>
<li>在代码执行前，在 parser 转成 AST 的过程中，会将全局定义的变量、函数等加入到 GlobalObject 中，但是并不会赋值</li>
<li>在代码执行中，对变量赋值，或者执行其他的函数；</li>
</ul>
</blockquote>
<p>每一个执行上下文会关联一个 VO（Variable Object，变量对象），变量和函数声明会被添加到这个 VO 对象中，当全局代码被执行的时候，VO 就是 GO 对象了</p>
<p>全局上下文三个关键：</p>
<ul>
<li>VO（go）</li>
<li>作用域链</li>
<li>This</li>
</ul>
<p>执行以下代码过程</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> message </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Global Message&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> message </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Foo Message&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> num1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> num2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> res </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> num1 </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> num2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>全局代码执行前</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812793.png" alt="image-20230225230158035" class="img_ev3q"></p>
<blockquote>
<p>执行代码后</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812794.png" alt="image-20230225231518618" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="函数代码执行过程">函数代码执行过程<a href="#函数代码执行过程" class="hash-link" aria-label="Direct link to 函数代码执行过程" title="Direct link to 函数代码执行过程">​</a></h3>
<p>在执行的过程中执行到一个函数时，就会根据函数体创建一个函数执行上下文（Functional Execution Context，简称 FEC），并且压入到 EC Stack 中</p>
<ul>
<li>当进入一个函数执行上下文时，会创建一个 AO 对象（Activation Object）</li>
<li>这个 AO 对象会使用 arguments 作为初始化，并且初始值是传入的参数</li>
<li>这个 AO 对象会作为执行上下文的 VO 来存放变量的初始化</li>
</ul>
<blockquote>
<p>如下函数执行过程</p>
</blockquote>
<p>执行前</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812795.png" alt="image-20230225231940365" class="img_ev3q"></p>
<p>执行后</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812796.png" alt="image-20230225232044143" class="img_ev3q"></p>
<p>流程为：</p>
<ul>
<li>执行前创建 FEC 也就是函数执行上下文</li>
<li>创建 AO 对象 name 为函数名</li>
<li>创建作用域链</li>
<li>生成函数对象存放代码</li>
<li>thisbing（暂无）</li>
<li>之后从上到下执行代码</li>
<li>执行完成后将 name 变为 undefined</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="作用域和作用域链">作用域和作用域链<a href="#作用域和作用域链" class="hash-link" aria-label="Direct link to 作用域和作用域链" title="Direct link to 作用域和作用域链">​</a></h3>
<p>当进入到一个执行上下文时，执行上下文也会关联一个作用域链（Scope Chain）</p>
<ul>
<li>作用域链是一个对象列表，用于变量标识符的求值</li>
<li>当进入一个执行上下文时，这个作用域链被创建，并且根据代码类型，添加一系列的对象</li>
</ul>
<p>PS ： 作用域会提升 在本身 vo 没有情况下 会去上层寻找，我们先输出后声明会输出 undefined， 这里也印证了</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="作用域提升小练习">作用域提升小练习<a href="#作用域提升小练习" class="hash-link" aria-label="Direct link to 作用域提升小练习" title="Direct link to 作用域提升小练习">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> n </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  n </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">200</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>N =200</p>
<p>顺序内存查找图如下 ：</p>
<ul>
<li>全局代码创建函数 找到 n 放入到函数 vo 中 之后调用 foo（）</li>
<li>在函数调用后找到 GO 中的 n 复制</li>
<li>函数结束，之后输出 n</li>
</ul>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812797.png" alt="image-20230226165920435" class="img_ev3q"></p>
<p>作用域链也是我们 JS 闭包的一个重点， js 中闭包就是通过作用域链的方式来完成变量可以跨作用域访问的，为我们加快提升了开发的效率 也省去很多麻烦</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="js-内存管理">JS 内存管理<a href="#js-内存管理" class="hash-link" aria-label="Direct link to JS 内存管理" title="Direct link to JS 内存管理">​</a></h2>
<blockquote>
<p>内存原理：</p>
<p>任何变成语言在执行的时候都需要操作系统来分配内存，只是有些语言需要手动管理分配的内存有些语言有专门来管理内存的方式 如 JVM</p>
</blockquote>
<p>了解以上的概念之后，我们再来了解一下大致的内存周期</p>
<ul>
<li>分配需要的内存</li>
<li>使用内存</li>
<li>在不使用的时候释放内存</li>
</ul>
<p>JS 属于自动管理内存的语言</p>
<p>在我们定义数据的时候 JS 会给我们分配内存，但是内存分配的方式有区别</p>
<ul>
<li>对于原始数据内存分配在执行的时候 直接放在栈空间进行分配</li>
<li>对于复杂的数据类型 会在堆内存中开辟一块空间 并且将这块空间的指针返回值变量引用</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="垃圾回收机制算法">垃圾回收机制算法<a href="#垃圾回收机制算法" class="hash-link" aria-label="Direct link to 垃圾回收机制算法" title="Direct link to 垃圾回收机制算法">​</a></h3>
<blockquote>
<p>概念：</p>
<p>因为内存的大小是有限的，所以当内存不再需要的时候，我们需要对其进行释放，以便腾出更多的内存空间。</p>
</blockquote>
<p>对比手动管理内存释放语言 对于开发者的技术要求非常高，一旦操作不但 效果反而会变得很差，这个也形成了高手可以做到性能很高 但是苦于进阶的选手，所以现在大部分高级语言都实现了 GC 也就是垃圾回收机制/垃圾回收算法</p>
<p>GC 怎么知道哪些对象是不再使用的呢？</p>
<p>对于 GC 的实现是百花齐放的 设计语言的人总能整出花活，这里介绍几个常见的 GC 算法</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="常见-gc---引用计数reference-counting">常见 GC - 引用计数（Reference counting）<a href="#常见-gc---引用计数reference-counting" class="hash-link" aria-label="Direct link to 常见 GC - 引用计数（Reference counting）" title="Direct link to 常见 GC - 引用计数（Reference counting）">​</a></h4>
<ul>
<li>当一个对象有一个引用指向它时，那么这个对象的引用就+1；</li>
<li>当一个对象的引用为 0 时，这个对象就可以被销毁掉；</li>
</ul>
<p>PS： 这个算法的弊端就是会产生循环引用 就是加入 a b 之间互有属性引用 会出现两个对象哦都无法销毁的问题</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812798.png" alt="image-20230226171227258" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="常见的-gc-算法--标记清除mark-sweep">常见的 GC 算法 – 标记清除（mark-Sweep）<a href="#常见的-gc-算法--标记清除mark-sweep" class="hash-link" aria-label="Direct link to 常见的 GC 算法 – 标记清除（mark-Sweep）" title="Direct link to 常见的 GC 算法 – 标记清除（mark-Sweep）">​</a></h4>
<p>这个算法的核心思想是实现可达性</p>
<p>设置一个根对象（root object），垃圾回收器会定期从这个根开始，找所有从根开始有引用到的对象，对于哪些没有引用到的对象，就认为是不可用的对象</p>
<p>PS：这个算法可以很好的解决循环引用的问题</p>
<ul>
<li>他会从一个根对象去不断查找确认查找之后就会标记对象</li>
<li>如果发现找不到 就等于无法引用 那么就会去销毁（如下图）</li>
<li>前提是 RO 对象不会被删除 其实就代表我们 js 中的 window 对象</li>
</ul>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812799.png" alt="image-20230226182903290" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="拓展">拓展<a href="#拓展" class="hash-link" aria-label="Direct link to 拓展" title="Direct link to 拓展">​</a></h4>
<p>其他的 GC 算法</p>
<ul>
<li><strong>标记整理算法（Mark-Compact）</strong> 回收的时候保留存储对象搬运到灰级连续的内存空间，整合空闲空间，避免内存碎片化</li>
<li><strong>分代收集（Generational collection）</strong> 对象分为旧 新 两组 有很多对象在完成工作后就会销毁 长期存活的对象变为<code>老旧</code> 同时他们的检查频次不会那么频繁</li>
<li><strong>增量收集（Incremental collection）</strong>
<ul>
<li>如果有许多对象，并且我们试图一次遍历并标记整个对象集，则可能需要一些时间，并在执行过程中带来明显的延迟</li>
<li>所以引擎试图将垃圾收集工作分成几部分来做，然后将这几部分会逐一进行处理，这样会有许多微小的延迟而不是一个大的延迟</li>
</ul>
</li>
<li>**闲时收集（Idle-time collection）**垃圾收集器只会在 CPU 空闲时尝试运行，以减少可能对代码执行的影响。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="闭包概念">闭包概念<a href="#闭包概念" class="hash-link" aria-label="Direct link to 闭包概念" title="Direct link to 闭包概念">​</a></h3>
<p>闭包是 JavaScript 中一个非常容易让人迷惑的知识点</p>
<p>JS 作为高级语言 是支持函数式编程的，这意味着在 js 中</p>
<ul>
<li>函数操作和使用都非常灵活</li>
<li>函数可以作为另外一个函数的参数，也可以作为另外一个函数的返回值来使用</li>
</ul>
<p>所以 JavaScript 存在很多的高阶函数，我们可以自己编写高阶函数，也可以使用内置的函数</p>
<p>在未来开源框架中也都是趋向于函数式编程</p>
<blockquote>
<p>闭包的定义</p>
</blockquote>
<ul>
<li>最早出现的闭包是 Scheme</li>
<li>闭包实际上是一种存储了函数和关联环境的结构体</li>
<li>他和函数最大的区别就是闭包被捕捉的时候，他的自由变量会被锁定 即使脱离了捕捉时的上下文也可以照常运行</li>
</ul>
<p>他的作用就是让我们可以在函数中访问到外围的变量，替我们省去了很多繁杂的变量处理</p>
<blockquote>
<p>闭包小案例</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">createAdder</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">count</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    funtion </span><span class="token function" style="color:#0e7490">adder</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">num</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> count</span><span class="token operator" style="color:#475569">+</span><span class="token plain">num</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> adder</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> adder5 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">createAdder</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">adder</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 100+5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个例子可以很容易的看出闭包的使用和带来的好处</p>
<p>PS: 使用闭包的时候最好是可以将不需要的函数或者属性置为 null 来帮助 GC 回收释放对象 ，否则内存泄露会加大内存的占用</p>
<p><strong>浏览器对于闭包的优化:</strong> 使用闭包的时候 浏览器会将我们没有使用的多余属性释放来增加性能</p>
<h1>JS 增强</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="js-函数增强">JS 函数增强<a href="#js-函数增强" class="hash-link" aria-label="Direct link to JS 函数增强" title="Direct link to JS 函数增强">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="函数属性">函数属性<a href="#函数属性" class="hash-link" aria-label="Direct link to 函数属性" title="Direct link to 函数属性">​</a></h3>
<p>JavaScript 中函数也是一个对象，那么对象中就可以有属性和方法，他有一些默认的属性</p>
<ul>
<li>name 函数名</li>
<li>length 函数参数个数（ES6 <code>... </code> 语法不会被算在内）</li>
<li>arguments 类似数组对象 可以 i 用索引来获取对象</li>
<li>rset</li>
</ul>
<p>PS： 箭头函数不绑定 Arguments 对象</p>
<blockquote>
<p>arguments 转为数组对象常见方法</p>
</blockquote>
<p>普通的方法 就是将内容一个一个迭代到新数组了</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> newArray </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo1</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">m</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> n</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arg </span><span class="token keyword" style="color:#0c4a6e">of</span><span class="token plain"> arguments</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    newArray</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">push</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// arguments类似数组的对象（它可以通过索引来获得对象）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">newArray</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">foo1</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ES6 中的方法</p>
<ul>
<li>Array.form() 传入一个可迭代对象就可以转为数组</li>
<li>对象结构 <code>...</code> 的方式来复制</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 方法2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newArray1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Array</span><span class="token punctuation" style="color:#475569">.</span><span class="token keyword module" style="color:#0c4a6e">from</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 方法3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newArray </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token spread operator" style="color:#475569">...</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>rset</p>
</blockquote>
<p>如果最后一个参数是 ... 为前缀的，那么它会将剩余的参数放到该参数中，并且作为一个数组</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo1</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">m</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> n</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> </span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">arg</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>arguments 对象包含了传给函数的所有实参但是不是数组对象 需要转换</li>
<li>rest 参数是一个真正的数组，可以进行数组的所有操作</li>
<li>arguments 是早期为了方便去获取所有的参数提供的数据结构，rest 参数是 ES6 中提供并且希望替代 arguments 的方案</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="纯函数理解和应用">纯函数理解和应用<a href="#纯函数理解和应用" class="hash-link" aria-label="Direct link to 纯函数理解和应用" title="Direct link to 纯函数理解和应用">​</a></h3>
<blockquote>
<p>副作用：</p>
<p>执行函数时，除了返回函数值之外，还对调用函数产生了附加的影响，比如修改了全局变量，修改参数或者改变外部的存储</p>
</blockquote>
<p><strong>纯函数的理解</strong></p>
<ul>
<li>输入 相同值的时候产生同样的输出 所以纯函数不能通过闭包的特性调用上层属性，因为会随着上层属性变化函数输出内容</li>
<li>函数的输出和输入值以外的信息无关和设备的外部输出也无关</li>
<li>这个函数不能有语义上可观察到的 “副作用”</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="纯函数辨别案例">纯函数辨别案例<a href="#纯函数辨别案例" class="hash-link" aria-label="Direct link to 纯函数辨别案例" title="Direct link to 纯函数辨别案例">​</a></h4>
<ul>
<li>slice：slice 截取数组时不会对原数组进行任何操作,而是生成一个新的数组</li>
<li>splice：splice 截取数组, 会返回一个新的数组, 也会对原数组进行修改</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> names </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;abc&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;nba&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;nbc&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;cbd&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newNames </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> names</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">slice</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newNames1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> names</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">newNames</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">newNames1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="纯函数的优势">纯函数的优势<a href="#纯函数的优势" class="hash-link" aria-label="Direct link to 纯函数的优势" title="Direct link to 纯函数的优势">​</a></h4>
<ul>
<li>稳定，可以放心使用</li>
<li>保证函数的纯度 简单的实现自己的业务逻辑，和外置的各种因素依赖关系少</li>
<li>用的时候需要保证输入的内容不被任意篡改，并且需要确定输入一定会有确定的输出</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="柯里化的理解和应用">柯里化的理解和应用<a href="#柯里化的理解和应用" class="hash-link" aria-label="Direct link to 柯里化的理解和应用" title="Direct link to 柯里化的理解和应用">​</a></h3>
<p>函数式编程重要概念，他是一个作用于函数的高阶技术，在其他的编程语言也有使用</p>
<p>只传递函数部分参数来调用，让它返回一个函数去处理剩余的参数这个过程就被成为柯里化</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 普通的函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> y</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> z</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">x </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> y </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> z</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 柯里化的结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">kelifoo</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">y</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">z</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">x </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> y </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> z</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">kelifoo</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">20</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">30</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//箭头函数写法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">foo2</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">y</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">z</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">x </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> y </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> z</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="自动柯里化函数">自动柯里化函数<a href="#自动柯里化函数" class="hash-link" aria-label="Direct link to 自动柯里化函数" title="Direct link to 自动柯里化函数">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 需要转化的例子</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">sum</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">num1</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> num2</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">num1 </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> num2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> num1 </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> num2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 自动柯里化函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">hyCurrying</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">fn</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 1 继续返回一个新的函数 继续接受函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 2 直接执行 fn 函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">curryFun</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&gt;=</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token comment" style="color:#6A9955">// 执行第二种操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">apply</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#0c4a6e">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">newArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> curryFun</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">apply</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">concat</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">newArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> curryFun</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 对其他函数柯里化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> sumCurry </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">hyCurrying</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">sum</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">sumCurry</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">sumCurry</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>柯里化函数只有在某些特殊的场景才需要使用。他得性能并不高也可能引起闭包的内存泄漏所以使用的时候需要注意。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="组合函数理解和应用">组合函数理解和应用<a href="#组合函数理解和应用" class="hash-link" aria-label="Direct link to 组合函数理解和应用" title="Direct link to 组合函数理解和应用">​</a></h3>
<p>当我们需要嵌套调用两个函数的时候，为了方便复用，我们可以写一个组合函数</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> sum </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">pow</span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">double</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们可以编写一个通用的组合函数来让我们使用组合函数更加的便捷，其实思路就是很简单的将函数放入数组判断边界顺序执行</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">sum</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">num</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> num </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">pow</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">num</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> num </span><span class="token operator" style="color:#475569">**</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">composeFn</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">fns</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 边界判断</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> length </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> fns</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">length </span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> i </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> i </span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain"> length</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> i</span><span class="token operator" style="color:#475569">++</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> fn </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> fns</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">typeof</span><span class="token plain"> fn </span><span class="token operator" style="color:#475569">!=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;function&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#0c4a6e">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Error</span><span class="token punctuation" style="color:#475569">(</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">index postion </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">i</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string string" style="color:#64748b"> must be function</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//轮流执行函数 返回结果对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> result </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> fns</span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">apply</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> i </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> i </span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain"> length</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> i</span><span class="token operator" style="color:#475569">++</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> fn </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> fns</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      result </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">apply</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">result</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newfn </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">composeFn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">sum</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> pow</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">newfn</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="with-语句eval-函数拓展知识">with 语句、eval 函数（拓展知识）<a href="#with-语句eval-函数拓展知识" class="hash-link" aria-label="Direct link to with 语句、eval 函数（拓展知识）" title="Direct link to with 语句、eval 函数（拓展知识）">​</a></h3>
<p><code>with</code>语句 扩展一个语句的作用域链，不推荐使用有兼容性问题</p>
<p><code> eval</code> 允许执行一个代码字符串。他是一个特殊函数可以将传入的字符串当作 js 代码执行</p>
<ul>
<li>可读性差</li>
<li>有注入风险</li>
<li>必须经过解释器 不会得到引擎的优化</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="严格模式的使用">严格模式的使用<a href="#严格模式的使用" class="hash-link" aria-label="Direct link to 严格模式的使用" title="Direct link to 严格模式的使用">​</a></h3>
<p>js 的局限性 ：</p>
<ul>
<li>JavaScript 不断向前发展且并未带来任何兼容性问题；</li>
<li>新旧代码该新模式对于向下兼容有帮助但是也有问题出现</li>
<li>就是创造者对于 js 的不完善之处会一直保留</li>
</ul>
<p>ES5 标准中提出了严格模式的概念，以更加严格的方式对代码进行检测和执行</p>
<p>只需要在代码的开头或者函数的开头 加入<code>use strict</code>就可以开启严格模式</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="js-对象增强">JS 对象增强<a href="#js-对象增强" class="hash-link" aria-label="Direct link to JS 对象增强" title="Direct link to JS 对象增强">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="数据属性描述符">数据属性描述符<a href="#数据属性描述符" class="hash-link" aria-label="Direct link to 数据属性描述符" title="Direct link to 数据属性描述符">​</a></h3>
<p>我们的属性一般定义在对象的内部或者直接添加到对象内部，但是这种方式我们就不能对属性进行一些限制，比如这个属性是否是可以通过 delete 删除，是否可以 for-in 遍历的时候被遍历出来等等</p>
<p>PS: 一个属性进行比较精准的操作控制,就可以使用属性描述符。</p>
<ul>
<li>通过属性描述符可以精准的添加或修改对象的属性</li>
<li>Object.defineProperty 来对属性进行添加或者修改</li>
</ul>
<p>这个方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性，并返回此对象</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">defineProperty</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="属性描述符分类">属性描述符分类<a href="#属性描述符分类" class="hash-link" aria-label="Direct link to 属性描述符分类" title="Direct link to 属性描述符分类">​</a></h4>
<p>分为两类：</p>
<ul>
<li>数据属性</li>
<li>存取属性</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="数据属性描述符-1">数据属性描述符<a href="#数据属性描述符-1" class="hash-link" aria-label="Direct link to 数据属性描述符" title="Direct link to 数据属性描述符">​</a></h4>
<p><code>Configurable</code>：表示属性是否可以通过 delete 删除属性，是否可以修改它的特性</p>
<ul>
<li>使用对象定义属性的时候为 true</li>
<li>使用属性描述符来定义的时候 默认为 false</li>
</ul>
<p><code>Enumerable</code>：表示属性是否可以通过 for-in 或者 Object.keys()返回该属性；</p>
<ul>
<li>直接对象内定义的时候 为 true</li>
<li>通过属性描述符定义为 false</li>
</ul>
<p><code>Writable</code>：表示是否可以修改属性的值；</p>
<ul>
<li>直接对象内定义的时候 为 true</li>
<li>通过属性描述符定义为 false</li>
</ul>
<p><code>value</code>：属性的 value 值，读取属性时会返回该值，修改属性时，会对其进行修改</p>
<ul>
<li>默认情况下这个值是 undefined</li>
</ul>
<blockquote>
<p>使用案例</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;whit&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">defineProperty</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">configurable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">writable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">value</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;1234&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="存取属性描述符">存取属性描述符<a href="#存取属性描述符" class="hash-link" aria-label="Direct link to 存取属性描述符" title="Direct link to 存取属性描述符">​</a></h4>
<p><code>Configurable&amp;Enumerable </code> 也是存取属性描述符</p>
<p><code>get</code>：获取属性时会执行的函数。默认为 undefined</p>
<p><code>set</code>：设置属性时会执行的函数。默认为 undefined</p>
<blockquote>
<p>同时定义多个属性</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 多个属性调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">defineProperties</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">configurable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">writable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="对象方法补充">对象方法补充<a href="#对象方法补充" class="hash-link" aria-label="Direct link to 对象方法补充" title="Direct link to 对象方法补充">​</a></h3>
<p>获取对象的属性描述符：</p>
<ul>
<li>getOwnPropertyDescriptor</li>
<li>getOwnPropertyDescriptors</li>
</ul>
<p>禁止对象扩展新属性：preventExtensions</p>
<ul>
<li>给一个对象添加新的属性会失败（在严格模式下会报错）；</li>
</ul>
<p>密封对象，不允许配置和删除属性：seal</p>
<ul>
<li>实际是调用 preventExtensions</li>
<li>并且将现有属性的 configurable:false</li>
</ul>
<p>冻结对象，不允许修改现有属性： freeze</p>
<ul>
<li>实际上是调用 seal</li>
<li>并且将现有属性的 writable: false</li>
</ul>
<blockquote>
<p>代码案例</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 阻止对象的拓展</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">preventExtensions</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">address</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//密封对象 不能进行配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">seal</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">delete</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 冻结对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">freeze</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ske&quot;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>ES5&amp;ES6 对象特性</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="es5">ES5<a href="#es5" class="hash-link" aria-label="Direct link to ES5" title="Direct link to ES5">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="对象和函数的原型">对象和函数的原型<a href="#对象和函数的原型" class="hash-link" aria-label="Direct link to 对象和函数的原型" title="Direct link to 对象和函数的原型">​</a></h3>
<p>JS 中每一个对象都有一个特殊的内置属性，这个特殊的对象可以指向其他的对象</p>
<ul>
<li>我们通过引用对象的属性 key 来获取一个 value 时，它会触发 Get 的操作</li>
<li>首先检查该对象是否有对应的属性，如果有的话就使用对象内的</li>
<li>如果对象中没有属性，那么会访问对象的<code>prototype</code></li>
<li>每一个对象都有一个原型属性</li>
</ul>
<p>使用方式有两种：</p>
<ul>
<li>通过对象的 <code>_proto_ </code>属性可以获取到（浏览器自己添加的，存在一定的兼容性问题)</li>
<li>通过 Object.getPrototypeOf 方法可以获取</li>
</ul>
<blockquote>
<p>prototype 属性是函数特有的属性 我们的对象可以通过<code>Object.getPrototypeOf</code>或<code>__proto__</code>来查看原型。</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>当我们这个对象有对多个共同值的时候，可以把相同的东西当如原型里，这样每次创建这个对象的时候，就可以直接调用而不是重新创建。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Student</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 如果我们每个对象都创建那么这两个方法会出现很多的冗余</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// this.running = function () {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//     console.log(this.name + &quot;running&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// this.eating = function () {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//     console.log(this.name + &quot;eating&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Student</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">running</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;running&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Student</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">eating</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;eating&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> stu1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Student</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;jjj&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> stu2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Student</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;hhh&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="constructor-属性">Constructor 属性<a href="#constructor-属性" class="hash-link" aria-label="Direct link to Constructor 属性" title="Direct link to Constructor 属性">​</a></h4>
<p>原型对象上面是有一个属性的：constructor，默认情况下原型都会有一个叫<code>constructor</code>指向当前的对象</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token maybe-class-name">PersonProtype</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token maybe-class-name">PersonProtype</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">PersonProtype</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">constructor</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">PersonProtype</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">constructor</span><span class="token plain"> </span><span class="token operator" style="color:#475569">==</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812800.png" alt="image-20230304222301746" class="img_ev3q"></p>
<p>原型对象是可以重写的，当我们需要给原型添加更多的属性的时候一般我们会选择重写原型对象</p>
<p>我们也可以改变原型对象中 constructor 的指向的使用</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//改变指向对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">constructor</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//修改枚举类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">defineProperty</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;constructor&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这里要注意的是原生的 constructor 是不可枚举的，但是修改 constructor 的时候会让 constructor 的特性被设置为 true 这个时候需要修改一下对象默认属性设置</p>
<p><strong>创建对象的内存表现</strong>：</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812801.png" alt="image-20230304215608997" class="img_ev3q"></p>
<p><strong>如果我们向对象加入属性在之后的变化:</strong></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812802.png" alt="image-20230304215618077" class="img_ev3q"></p>
<p>原型对象默认创建的时候，<strong>proto</strong>都是指向 object 的的 proto 的</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="多种继承方式">多种继承方式<a href="#多种继承方式" class="hash-link" aria-label="Direct link to 多种继承方式" title="Direct link to 多种继承方式">​</a></h3>
<blockquote>
<p>继承</p>
</blockquote>
<p>面向对象有三大特性：封装、继承、多态</p>
<ul>
<li>封装：我们前面将属性和方法封装到一个类中，可以称之为封装的过程</li>
<li>继承：继承是面向对象中非常重要的，不仅仅可以减少重复代码的数量，也是多态前提（纯面向对象中）</li>
<li>多态：不同的对象在执行时表现出不同的形态</li>
</ul>
<p>这里主要将 JS 中的继承，在了解继承之前我们需要了解 JS 中的原型链机制，这个是之后理解的关键</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="原型链">原型链<a href="#原型链" class="hash-link" aria-label="Direct link to 原型链" title="Direct link to 原型链">​</a></h4>
<p>在 js 中我们不断的获取原型对象，原型链最顶层的原型对象就是 Object 的原型对象</p>
<p><code> [Object: null prototype] {}</code>这种提示一般有两个情况：</p>
<ul>
<li>该对象有原型，且这个原型的属性指向 null 或者最顶层了</li>
<li>这个对象有很多的默认属性方法</li>
</ul>
<blockquote>
<p>ps：Object 是所有类的父类</p>
</blockquote>
<p>我们也可以对原型链做一些自定义操作，比如这样：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">__proto__</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">__proto__</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">__proto__</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">__proto__</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">__proto__</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">__proto__</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小冷&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>原型链实现继承</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;l&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> p </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">stu</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//name == l</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">stu</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">studying</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;studying&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们可以通过赋值原型的形式来实现继承，但是有一些弊端</p>
<ol>
<li>直接打印对象是看不到属性的</li>
<li>这个属性会被多个对象共享，如果是引用类型就会造成问题</li>
<li>不能给父类传递参数，没法定制化</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="借用构造函数继承">借用构造函数继承<a href="#借用构造函数继承" class="hash-link" aria-label="Direct link to 借用构造函数继承" title="Direct link to 借用构造函数继承">​</a></h4>
<p>为了解决原型链继承中存在的问题，<code>constructor stealing</code>应运而生 ，借用继承的做法非常简单：在子类型构造函数的内部调用父类型构造函数</p>
<ul>
<li>因为函数可以任意调用</li>
<li>因此通过 apply 和 call 也可以再新创建的对象上实行构造函数</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> height</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> address</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">height</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> height</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">address</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> address</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Student</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> height</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> address</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> sno</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> score</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> address</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">sno</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sno</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">score</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> score</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以使用父类的构造函数来实现创造，解决之前原型链的问题 在 ES6 之前一直是保持的这个方式，但是这个继承方式依然不是很完美</p>
<ul>
<li>无论在什么情况下，都会调用两次父类构造函数。 一次是创建子类原型，一次是构造函数</li>
<li>所有的子类都会有两份父类的属性</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="继承最终方案">继承最终方案<a href="#继承最终方案" class="hash-link" aria-label="Direct link to 继承最终方案" title="Direct link to 继承最终方案">​</a></h4>
<p>在继续的发展中, JSON 的创立者道格拉斯， 提到了新的继承方法，这也是目前 es5 阶段最合适的继承方案 寄生组合继承</p>
<ul>
<li>结合原型类继承和工厂模式</li>
<li>创建一个封装继承过程的函数，在这个函数的内部来增强对象，最后将这个对象返回</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> height</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> address</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">height</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> height</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">address</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> address</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">running</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot; running&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#0e7490">Student</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> height</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> address</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> sno</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> score</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">call</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> address</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">sno</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sno</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">score</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> score</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 原型继承</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">create</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">__proto__</span><span class="token plain"> </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Student</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 上到真是环境 会封装用 为了兼容性可以多一个创造类的方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">object</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">o</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">F</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token class-name" style="color:#0ea5e9">F</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> o</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">F</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">inherit</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter maybe-class-name">Subtype</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">Supertype</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token class-name" style="color:#0ea5e9">Subtype</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">object</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Supertype</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 需要构造方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">defineProperty</span><span class="token punctuation" style="color:#475569">(</span><span class="token maybe-class-name">Subtype</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;constructor&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">configurable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">writable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">value</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Subtype</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">inherit</span><span class="token punctuation" style="color:#475569">(</span><span class="token maybe-class-name">Student</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Student</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">eating</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;eating&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> stu </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Student</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小明&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">stu</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">eating</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="对象方法补充-1">对象方法补充<a href="#对象方法补充-1" class="hash-link" aria-label="Direct link to 对象方法补充" title="Direct link to 对象方法补充">​</a></h3>
<p>hasOwnProperty ： 对象是否有某一个属于自己的属性</p>
<p>in/for in 操作符： 判断某个属性是否在对象或者对象的原型上</p>
<p>instanceof ： 用于检测构造函数的原型，是否出现在某个实例对象的圆形脸上</p>
<p>isPrototypeOf：用于检测某个对象，是否出现在某个实例对象的原型链上</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="es6">ES6<a href="#es6" class="hash-link" aria-label="Direct link to ES6" title="Direct link to ES6">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-定义关键字">class 定义关键字<a href="#class-定义关键字" class="hash-link" aria-label="Direct link to class 定义关键字" title="Direct link to class 定义关键字">​</a></h3>
<p>这个关键字主要是用于区别代码的编写方式的，之前编写中创建类和构造函数过于相似，而且代码并不容易理解</p>
<ul>
<li>在 ES6 的标准中使用了 class 关键字来直接定义类</li>
<li>类本质上依然是前面所讲的构造函数、原型链的语法糖</li>
<li>比较少用 一般情况遇不到</li>
</ul>
<blockquote>
<p>使用方法</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token maybe-class-name">Student</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="类的构造函数">类的构造函数<a href="#类的构造函数" class="hash-link" aria-label="Direct link to 类的构造函数" title="Direct link to 类的构造函数">​</a></h3>
<p>在创建对象的时候给类传递一些参数</p>
<ul>
<li>每个类都可以有一个自己的构造函数（方法），这个方法的名称是固定的 constructor</li>
<li>当我们通过 new 操作符，操作一个类的时候会调用这个类的构造函数 constructor</li>
<li>构造函数时唯一的 不能出现多个</li>
</ul>
<p>通过 new 关键字操作类的时候，会调用这个 constructor 函数</p>
<ol>
<li>在内存中创建一个新的空对象</li>
<li>对象内部的[[prototype]]属性会被赋值为该类的 prototype 属性</li>
<li>构造函数内部的 this，会指向创建出来的新对象</li>
<li>执行构造函数的内部代码</li>
<li>如果构造函数没有返回非空对象，则返回创建出来的新对象</li>
</ol>
<blockquote>
<p>语法使用</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;running&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">eating</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;eating&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> p1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">p1</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> p1</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>class 创建的类和 function 直接创造构造方法创建的类时没有什么区别的</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义访问器">定义访问器<a href="#定义访问器" class="hash-link" aria-label="Direct link to 定义访问器" title="Direct link to 定义访问器">​</a></h3>
<p>对象的属性描述符时有讲过对象可以添加 setter 和 getter 函数的，类同样也是可以的</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> ojb </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">_name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">set</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">name</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">_name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">get</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">name</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">_name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="类的静态方法">类的静态方法<a href="#类的静态方法" class="hash-link" aria-label="Direct link to 类的静态方法" title="Direct link to 类的静态方法">​</a></h3>
<p>静态方法通常用于定义直接使用类来执行的方法，不需要有类的实例，使用 static 关键字来定义</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">static</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">create</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token known-class-name class-name" style="color:#0ea5e9">Math</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">floor</span><span class="token punctuation" style="color:#475569">(</span><span class="token known-class-name class-name" style="color:#0ea5e9">Math</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">random</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extends-继承">extends 继承<a href="#extends-继承" class="hash-link" aria-label="Direct link to extends 继承" title="Direct link to extends 继承">​</a></h3>
<blockquote>
<p>ps ： js 的继承属于只支持单继承</p>
</blockquote>
<p>之前我们在 es5 中经过原型链继承，组合继承等等操作才解决继承的一些问题，但是在 ES6 中 他给我们提供了一个关键字 : <code>extends</code></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;running&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">eating</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;eating&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Teacher</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> title</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// this.name = name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// this.age = age</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">super</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">title</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">title</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> title</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function maybe-class-name" style="color:#0e7490">Teaching</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Teaching&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Student</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> sno</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// this.name = name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// this.age = age</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">super</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">sno</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sno</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">studying</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;studying&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> p1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Student</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">p1</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> p1</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">p1</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">eating</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们只需要在类之后用 extends 指向需要被继承的类 就可以实现继承</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="super-关键字">Super 关键字<a href="#super-关键字" class="hash-link" aria-label="Direct link to Super 关键字" title="Direct link to Super 关键字">​</a></h4>
<p>Class 为我们的方法中还提供了 super 关键字</p>
<ul>
<li>执行 super.method(...) 来调用一个父类方法</li>
<li>执行 super(...) 来调用一个父类 constructor（只能在我们的 constructor 中）</li>
<li>super 使用的位置有三个 子类构造函数，实例方法，静态方法</li>
</ul>
<p>PS： 在子类的构造函数中使用 this 或者返回默认对象之前，必须先通过 super 调用父类的构造函数</p>
<p>在 JS 中 我们子类也是可以重写父类的方法的，但是当我们既想让子类有自己的操作，还想复用父类的实现，就可以使用 super 关键字</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Animal</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;running&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">dog</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Animal</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;dog four jio&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">super</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> dog </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">dog</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">dog</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="继承内置类">继承内置类<a href="#继承内置类" class="hash-link" aria-label="Direct link to 继承内置类" title="Direct link to 继承内置类">​</a></h4>
<p>同样 我们可以继承内置类，比如数组 Array 类 加入我们想给数组加一些拓展比如获得第一位 获得最后一位 我们就可以继承数组对象添加我们想要定义的拓展</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 继承内置类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">CodeArray</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Array</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">get</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">lasItem</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">[</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#475569">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">get</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">firstItem</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">CodeArray</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">14</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">15</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">16</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">lasItem</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="类的混入-mixin">类的混入 mixin<a href="#类的混入-mixin" class="hash-link" aria-label="Direct link to 类的混入 mixin" title="Direct link to 类的混入 mixin">​</a></h3>
<p>JavaScript 的类只支持单继承，混入的思想可以帮助我们利用函数的方式实现嵌套继承，</p>
<ul>
<li>它可以通过编写混入函数以返回新对象的方式实现多个继承</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">swimming</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">first</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">mixinRunner</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter maybe-class-name">BaseClass</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">extends</span><span class="token plain"> </span><span class="token maybe-class-name">BaseClass</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot; running~&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">mixinEater</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter maybe-class-name">BaseClass</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">extends</span><span class="token plain"> </span><span class="token maybe-class-name">BaseClass</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">eating</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot; eating~&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">NewPerson</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">mixinEater</span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">mixinRunner</span><span class="token punctuation" style="color:#475569">(</span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">NP</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">NewPerson</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token constant" style="color:#0f172a">NP</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">swimming</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="es6-新的语法糖">ES6 新的语法糖<a href="#es6-新的语法糖" class="hash-link" aria-label="Direct link to ES6 新的语法糖" title="Direct link to ES6 新的语法糖">​</a></h3>
<p>ES6 中对 对象字面量 进行了增强，称之为 Enhanced object literals</p>
<p>主要包括：</p>
<ul>
<li>属性的简写：Property Shorthand</li>
<li>方法的简写：Method Shorthand</li>
<li>计算属性名：Computed Property Names</li>
</ul>
<blockquote>
<p>属性的简写</p>
</blockquote>
<p>当属性和变量名字完全一样的时候 可以将他省略 之后生成的代码还是和之前无差</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">/*</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    1. 属性的简写</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>方法的简写</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">/*</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    1. 属性的增强</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function-variable function" style="color:#0e7490">running</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//简写为</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">running</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>计算属性名</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> address </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;us&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">address</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;北京&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="解构-destructuring">解构 Destructuring<a href="#解构-destructuring" class="hash-link" aria-label="Direct link to 解构 Destructuring" title="Direct link to 解构 Destructuring">​</a></h4>
<p>ES6 中新增了一个从数组或对象中方便获取数据的方法，它是一种特殊语法</p>
<p>数组的解构：</p>
<ul>
<li>基本解构过程</li>
<li>顺序解构</li>
<li>解构出数组：…语法</li>
<li>默认值: undefind</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> names </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;nnn&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;qqq&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;lll&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;fff&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">names1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> names2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#475569">...</span><span class="token plain">names</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> names</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//输出结果 nnn,qqq,[lll,fff]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>对象的解构：</p>
<ul>
<li>基本解构过程</li>
<li>任意顺序</li>
<li>重命名</li>
<li>默认值</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;uuu&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">height</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1.88</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> height</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> name </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//需要重命名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">height</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> hei</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> name </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">默认值</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">grilfrineds</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> gf </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;lucy&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>对象解构的应用:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">getPostion</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter punctuation" style="color:#475569">{</span><span class="token parameter"> x</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> y </span><span class="token parameter punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> x </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> y</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">getPostion</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">x</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">y</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="实现函数-apply-call--bind">实现函数 apply /call / bind<a href="#实现函数-apply-call--bind" class="hash-link" aria-label="Direct link to 实现函数 apply /call / bind" title="Direct link to 实现函数 apply /call / bind">​</a></h2>
<blockquote>
<p>实现函数内容</p>
</blockquote>
<p>首先我们要遵循封装的思想 ， apply 和 call 方法 其实就是调用的方式不同而已</p>
<p>所以我们可以将这两个方法调用的共同点封装成一个函数 接下来只需要用不同的方式调用就可以了</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">name</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// foo.apply(&quot;aaa&quot;, [&quot;hyc&quot;, 12])</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// foo.call(&quot;aaa&quot;, &quot;lebron&quot;, 38)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">execFn</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">thisArg</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> otherArgs</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> fn</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 1、 获取 thisArg 确保是一个对象类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  thisArg </span><span class="token operator" style="color:#475569">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    thisArg </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token plain"> </span><span class="token operator" style="color:#475569">||</span><span class="token plain"> thisArg </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token dom variable" style="color:#0c4a6e">window</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">thisArg</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// thisArg 传入的第一参数是要绑定的this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">defineProperty</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">thisArg</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;fn&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">configurable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">value</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  thisArg</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token spread operator" style="color:#475569">...</span><span class="token plain">otherArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">delete</span><span class="token plain"> thisArg</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">fn</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Function</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">hycApply</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">thisArg</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> otherArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">execFn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">thisArg</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> otherArgs</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Function</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">hyccall</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">thisArg</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> </span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">otherArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">execFn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">thisArg</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> otherArgs</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">hycApply</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;hyc&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;james&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">25</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">hyccall</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Function</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token method-variable function-variable method function property-access" style="color:#0e7490">hycbind</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">thisArg</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> </span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">otherArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  thisArg </span><span class="token operator" style="color:#475569">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    thisArg </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token plain"> </span><span class="token operator" style="color:#475569">||</span><span class="token plain"> thisArg </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token dom variable" style="color:#0c4a6e">window</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">thisArg</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">defineProperty</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">thisArg</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;fn&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">configurable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">writable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">value</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">newArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// var allArgs = otherArgs.concat(newArgs)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> allArgs </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token spread operator" style="color:#475569">...</span><span class="token plain">otherArgs</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#475569">...</span><span class="token plain">newArgs</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    thisArg</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token spread operator" style="color:#475569">...</span><span class="token plain">allArgs</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> newFoo </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">hycbind</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;abc&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;hyc&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// newFoo(1.88,&quot;广州&quot;)、</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">newFoo</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>ES6-ES13</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="es6-1">es6<a href="#es6-1" class="hash-link" aria-label="Direct link to es6" title="Direct link to es6">​</a></h2>
<p>JS 代码执行过程中需要了解的 ECMA 文档的术语</p>
<ul>
<li>执行上下文栈：Execution Context Stack，用于执行上下文的栈结构；</li>
<li>执行上下文：Execution Context，代码在执行之前会先创建对应的执行上下文；</li>
<li>变量对象：Variable Object，上下文关联的 VO 对象，用于记录函数和变量声明；</li>
<li>全局对象：Global Object，全局执行上下文关联的 VO 对象；</li>
<li>激活对象：Activation Object，函数执行上下文关联的 VO 对象；</li>
<li>作用域链：scope chain，作用域链，用于关联指向上下文的变量查找；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="letconst-基本使用">let/const 基本使用<a href="#letconst-基本使用" class="hash-link" aria-label="Direct link to let/const 基本使用" title="Direct link to let/const 基本使用">​</a></h3>
<p>ES6 开始新增了两个关键字可以声明变量：let、const</p>
<ul>
<li>let、const 不允许重复声明变量</li>
<li>let 不会作用域提升</li>
<li>let、const 在执行声明代码前是不刻意访问的</li>
</ul>
<blockquote>
<p>var、let、const 的选择</p>
</blockquote>
<ol>
<li>在未来的开发中 很少会使用 var 来声明变量来开发了</li>
<li>let const 比较推荐在开发中使用</li>
<li>推荐优先 使用 const 保证数据的安全性不会被随意的篡改</li>
<li>只有需要重复赋值的时候才使用 let</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="模板字符串">模板字符串<a href="#模板字符串" class="hash-link" aria-label="Direct link to 模板字符串" title="Direct link to 模板字符串">​</a></h3>
<p>ES6 允许我们使用字符串模板来嵌入 JS 的变量或者表达式来进行拼接，使用 ``` `符号来编写字符串，称之为模板字符串</p>
<p>可以在模板字符串的时候用 <code>${}</code> 来嵌入动态内容</p>
<p>``` ` 符号还可以调用方法自动传入参数</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;hyc&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;111&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">foo</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">my name is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string string" style="color:#64748b">,age is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">age</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string string" style="color:#64748b">,height is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation number" style="color:#B5CEA8">1.88</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/202305081812803.png" alt="image-20230402205907991" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="函数默认值">函数默认值<a href="#函数默认值" class="hash-link" aria-label="Direct link to 函数默认值" title="Direct link to 函数默认值">​</a></h3>
<p>ES6 之后 函数允许给参数一个默认值</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">test</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">x </span><span class="token parameter operator" style="color:#475569">=</span><span class="token parameter"> </span><span class="token parameter number" style="color:#B5CEA8">10</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> y </span><span class="token parameter operator" style="color:#475569">=</span><span class="token parameter"> </span><span class="token parameter number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以使用这种方式来给函数的参数加入默认值，允许我们使用表达式比如</p>
<p><code>x = 1 || x &gt; 1</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="symbol-的基本使用">Symbol 的基本使用<a href="#symbol-的基本使用" class="hash-link" aria-label="Direct link to Symbol 的基本使用" title="Direct link to Symbol 的基本使用">​</a></h3>
<p>在 ES6 之前，对象的属性名都是字符串形式，那么很容易造成属性名的冲突</p>
<ul>
<li>比如在新旧值同名的情况下混入 会有一个值被覆盖掉</li>
<li>比如之前有的 fn 属性 如果新添加一个 fn 属性 内部原有的 fn 会怎么样?</li>
</ul>
<p>Symbol 就是为了解决上面的问题，用来生成一个独一无二的值。</p>
<ol>
<li>Symbol 值是通过 Symbol 函数来生成的，生成后可以作为属性名</li>
<li>在 ES6 中，对象的属性名可以使用字符串，也可以使用 Symbol 值</li>
</ol>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> s1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Symbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> s2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Symbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">s1</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;aaa&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">s2</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;aaa&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 获取 symbol 值 对应的key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token known-class-name class-name" style="color:#0ea5e9">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">getOwnPropertySymbols</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-的基本使用">Set 的基本使用<a href="#set-的基本使用" class="hash-link" aria-label="Direct link to Set 的基本使用" title="Direct link to Set 的基本使用">​</a></h3>
<p>在 ES6 之前，我们存储数据的结构主要有两种：数组、对象。</p>
<p>在 ES6 中新增了另外两种数据结构：Set、Map，以及它们的另外形式 WeakSet、WeakMap。Set 中数据是不能重复的</p>
<blockquote>
<p>常用方法</p>
</blockquote>
<p>set 支持 for of</p>
<p>Set 常见的属性：</p>
<ul>
<li>size：返回 Set 中元素的个数；</li>
</ul>
<p>Set 常用的方法：</p>
<ul>
<li>add(value)：添加某个元素，返回 Set 对象本身；</li>
<li>delete(value)：从 set 中删除和这个值相等的元素，返回 boolean 类型；</li>
<li>has(value)：判断 set 中是否存在某个元素，返回 boolean 类型；</li>
<li>clear()：清空 set 中所有的元素，没有返回值；</li>
<li>forEach(callback, [, thisArg])：通过 forEach 遍历 set；</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 创建 set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> set1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Set</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">set1</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">11</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">set1</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">12</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">set1</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">13</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">set1</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">11</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">set1</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">size</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="weakset-使用">WeakSet 使用<a href="#weakset-使用" class="hash-link" aria-label="Direct link to WeakSet 使用" title="Direct link to WeakSet 使用">​</a></h3>
<p>WeakSet 和 Set 有什么区别</p>
<ul>
<li>WeakSet 不可以遍历</li>
<li>WeakSet 中只能存放对象类型，不能存放基本数据类型</li>
<li>WeakSet 对元素的引用是弱引用，如果没有其他引用对某个对象进行引用，那么 GC 可以对该对象进行回收；</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;why&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;hyc&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> weakset </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">WeakSet</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">weakset</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">weakset</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="map-基本使用">Map 基本使用<a href="#map-基本使用" class="hash-link" aria-label="Direct link to Map 基本使用" title="Direct link to Map 基本使用">​</a></h3>
<p>Map，用于存储映射关系</p>
<p>之前我们可以使用对象来存储映射关系，他们有什么区别</p>
<ul>
<li>在之前的学习中对象存储映射关系只能用字符串（ES6 新增了 Symbol）作为属性名（key）</li>
<li>某些情况下我们可能希望通过其他类型作为 key，比如对象，这个时候会自动将对象转成字符串来作为 key；</li>
</ul>
<p>这个时候就可以使用 map</p>
<div class="language-JS language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> info </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;hyc&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> map </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Map</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    map</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">info</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;aaaa&quot;</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Map 的常用方法</p>
</blockquote>
<p>Map 常见的属性：</p>
<ul>
<li>size：返回 Map 中元素的个数；</li>
</ul>
<p>Map 常见的方法:</p>
<ul>
<li>set(key, value)：在 Map 中添加 key、value，并且返回整个 Map 对象；</li>
<li>get(key)：根据 key 获取 Map 中的 value；</li>
<li>has(key)：判断是否包括某一个 key，返回 Boolean 类型；</li>
<li>delete(key)：根据 key 删除一个键值对，返回 Boolean 类型；</li>
<li>clear()：清空所有的元素；</li>
<li>forEach(callback, [, thisArg])：通过 forEach 遍历 Map；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="weakmap-的使用">WeakMap 的使用<a href="#weakmap-的使用" class="hash-link" aria-label="Direct link to WeakMap 的使用" title="Direct link to WeakMap 的使用">​</a></h3>
<p>WeakMap，也是以键值对的形式存在的。</p>
<p>WeakMap 和 map 的区别</p>
<ol>
<li>WeakMap 的 key 只能使用对象，不接受其他的类型作为 key；</li>
<li>WeakMap 的 key 对对象想的引用是弱引用</li>
<li>WeakMap 不能遍历</li>
</ol>
<p>WeakMap 常见的方法有四个：</p>
<ul>
<li>set(key, value)：在 Map 中添加 key、value，并且返回整个 Map 对象；</li>
<li>get(key)：根据 key 获取 Map 中的 value；</li>
<li>has(key)：判断是否包括某一个 key，返回 Boolean 类型；</li>
<li>delete(key)：根据 key 删除一个键值对，返回 Boolean 类型；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="拓展知识">拓展知识<a href="#拓展知识" class="hash-link" aria-label="Direct link to 拓展知识" title="Direct link to 拓展知识">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="数值的表示">数值的表示<a href="#数值的表示" class="hash-link" aria-label="Direct link to 数值的表示" title="Direct link to 数值的表示">​</a></h4>
<p>允许使用二进制 八进制来赋值</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> num1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> num2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0b100</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ES2021 新增数字过长可以用 _ 来连接</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> num1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100_000_000</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Web/react"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">React 核心价值与前置知识</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#案例" class="table-of-contents__link toc-highlight">案例</a></li><li><a href="#指向定义" class="table-of-contents__link toc-highlight">指向定义</a></li><li><a href="#额外函数补充" class="table-of-contents__link toc-highlight">额外函数补充</a></li><li><a href="#this-优先级" class="table-of-contents__link toc-highlight">This 优先级</a></li><li><a href="#拓展-规则之外" class="table-of-contents__link toc-highlight">拓展： 规则之外</a></li><li><a href="#箭头函数" class="table-of-contents__link toc-highlight">箭头函数</a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#浏览器内核" class="table-of-contents__link toc-highlight">浏览器内核</a></li><li><a href="#浏览器的渲染页面过程" class="table-of-contents__link toc-highlight">浏览器的渲染页面过程</a><ul><li><a href="#html-解析过程" class="table-of-contents__link toc-highlight">HTML 解析过程</a></li><li><a href="#解析-css-规则树" class="table-of-contents__link toc-highlight">解析 CSS 规则树</a></li><li><a href="#解析步骤-构建-render-tree" class="table-of-contents__link toc-highlight">解析步骤 构建 Render Tree</a></li><li><a href="#解析步骤-布局和绘制" class="table-of-contents__link toc-highlight">解析步骤 布局和绘制</a></li><li><a href="#回流和重绘" class="table-of-contents__link toc-highlight">回流和重绘</a></li><li><a href="#特殊解析---composite-合成" class="table-of-contents__link toc-highlight">特殊解析 - composite 合成</a></li><li><a href="#script-元素和页面解析的关系" class="table-of-contents__link toc-highlight">script 元素和页面解析的关系</a></li><li><a href="#defer-属性" class="table-of-contents__link toc-highlight">defer 属性</a></li><li><a href="#async-属性" class="table-of-contents__link toc-highlight">async 属性</a></li><li><a href="#总结-2" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#深入了解-v8-引擎原理" class="table-of-contents__link toc-highlight">深入了解 V8 引擎原理</a></li><li><a href="#全局代码执行过程" class="table-of-contents__link toc-highlight">全局代码执行过程</a></li><li><a href="#函数代码执行过程" class="table-of-contents__link toc-highlight">函数代码执行过程</a></li><li><a href="#作用域和作用域链" class="table-of-contents__link toc-highlight">作用域和作用域链</a></li></ul></li><li><a href="#js-内存管理" class="table-of-contents__link toc-highlight">JS 内存管理</a><ul><li><a href="#垃圾回收机制算法" class="table-of-contents__link toc-highlight">垃圾回收机制算法</a></li><li><a href="#闭包概念" class="table-of-contents__link toc-highlight">闭包概念</a></li></ul></li><li><a href="#js-函数增强" class="table-of-contents__link toc-highlight">JS 函数增强</a><ul><li><a href="#函数属性" class="table-of-contents__link toc-highlight">函数属性</a></li><li><a href="#纯函数理解和应用" class="table-of-contents__link toc-highlight">纯函数理解和应用</a></li><li><a href="#柯里化的理解和应用" class="table-of-contents__link toc-highlight">柯里化的理解和应用</a></li><li><a href="#组合函数理解和应用" class="table-of-contents__link toc-highlight">组合函数理解和应用</a></li><li><a href="#with-语句eval-函数拓展知识" class="table-of-contents__link toc-highlight">with 语句、eval 函数（拓展知识）</a></li><li><a href="#严格模式的使用" class="table-of-contents__link toc-highlight">严格模式的使用</a></li></ul></li><li><a href="#js-对象增强" class="table-of-contents__link toc-highlight">JS 对象增强</a><ul><li><a href="#数据属性描述符" class="table-of-contents__link toc-highlight">数据属性描述符</a></li><li><a href="#对象方法补充" class="table-of-contents__link toc-highlight">对象方法补充</a></li></ul></li><li><a href="#es5" class="table-of-contents__link toc-highlight">ES5</a><ul><li><a href="#对象和函数的原型" class="table-of-contents__link toc-highlight">对象和函数的原型</a></li><li><a href="#多种继承方式" class="table-of-contents__link toc-highlight">多种继承方式</a></li><li><a href="#对象方法补充-1" class="table-of-contents__link toc-highlight">对象方法补充</a></li></ul></li><li><a href="#es6" class="table-of-contents__link toc-highlight">ES6</a><ul><li><a href="#class-定义关键字" class="table-of-contents__link toc-highlight">class 定义关键字</a></li><li><a href="#类的构造函数" class="table-of-contents__link toc-highlight">类的构造函数</a></li><li><a href="#定义访问器" class="table-of-contents__link toc-highlight">定义访问器</a></li><li><a href="#类的静态方法" class="table-of-contents__link toc-highlight">类的静态方法</a></li><li><a href="#extends-继承" class="table-of-contents__link toc-highlight">extends 继承</a></li><li><a href="#类的混入-mixin" class="table-of-contents__link toc-highlight">类的混入 mixin</a></li><li><a href="#es6-新的语法糖" class="table-of-contents__link toc-highlight">ES6 新的语法糖</a></li></ul></li><li><a href="#实现函数-apply-call--bind" class="table-of-contents__link toc-highlight">实现函数 apply /call / bind</a></li><li><a href="#es6-1" class="table-of-contents__link toc-highlight">es6</a><ul><li><a href="#letconst-基本使用" class="table-of-contents__link toc-highlight">let/const 基本使用</a></li><li><a href="#模板字符串" class="table-of-contents__link toc-highlight">模板字符串</a></li><li><a href="#函数默认值" class="table-of-contents__link toc-highlight">函数默认值</a></li><li><a href="#symbol-的基本使用" class="table-of-contents__link toc-highlight">Symbol 的基本使用</a></li><li><a href="#set-的基本使用" class="table-of-contents__link toc-highlight">Set 的基本使用</a></li><li><a href="#weakset-使用" class="table-of-contents__link toc-highlight">WeakSet 使用</a></li><li><a href="#map-基本使用" class="table-of-contents__link toc-highlight">Map 基本使用</a></li><li><a href="#weakmap-的使用" class="table-of-contents__link toc-highlight">WeakMap 的使用</a></li><li><a href="#拓展知识" class="table-of-contents__link toc-highlight">拓展知识</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">  来自冷环渊的技术支持与文档创作 @2025</div></div></div></footer></div>
</body>
</html>