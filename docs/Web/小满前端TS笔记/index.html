<!doctype html>
<html lang="cn" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Web/小满前端TS笔记" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">TypeScript 基础笔记(小满版本) | 小冷の代码世界</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doomwatcher2004.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://doomwatcher2004.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://doomwatcher2004.github.io/docs/Web/小满前端TS笔记"><meta data-rh="true" property="og:locale" content="cn"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TypeScript 基础笔记(小满版本) | 小冷の代码世界"><meta data-rh="true" name="description" content="### 作者：925 -- 小余同学"><meta data-rh="true" property="og:description" content="### 作者：925 -- 小余同学"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doomwatcher2004.github.io/docs/Web/小满前端TS笔记"><link data-rh="true" rel="alternate" href="https://doomwatcher2004.github.io/docs/Web/小满前端TS笔记" hreflang="cn"><link data-rh="true" rel="alternate" href="https://doomwatcher2004.github.io/docs/Web/小满前端TS笔记" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.15cbc4ab.css">
<script src="/assets/js/runtime~main.4abb65a5.js" defer="defer"></script>
<script src="/assets/js/main.7b9af782.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="小冷の代码世界" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="小冷の代码世界" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">小冷の代码世界</b></a><a class="navbar__item navbar__link" href="/docs/Java/Docker 快速入门">Java知识库</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Web/JavaScript 高级">前端知识库</a><a class="navbar__item navbar__link" href="/docs/Godot/">Godot游戏开发</a><a class="navbar__item navbar__link" href="/docs/finish/finishRpc">Finish系列手写中间件</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Doomwatcher2004" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Web/JavaScript 高级">JavaScript 高级</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Web/react">React 核心价值与前置知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Web/vue2.x">vue2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Web/小满前端TS笔记">TypeScript 基础笔记(小满版本)</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TypeScript 基础笔记(小满版本)</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>TypeScript 基础笔记(小满版本)</h1></header>
<blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="作者925----小余同学">作者：925 -- 小余同学<a href="#作者925----小余同学" class="hash-link" aria-label="Direct link to 作者：925 -- 小余同学" title="Direct link to 作者：925 -- 小余同学">​</a></h3>
</blockquote>
<h1>基础类型(TS -- 1)</h1>
<blockquote>
<p>我认为这个 TypeScript 跟 C 语言是很像的，对语言的定义都有严格的规范。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> str</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;这是字符串类型&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//上方我们将str这个变量定义为了string类型，如果对他输入其他类型的内容就会报错，例如：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> str</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">666</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//这个就会报错了，会提示你不能将类型&quot;number&quot;分配给类型&quot;string&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> muban</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">web</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">str</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//我们也可以使用ES6中的模板字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> u</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> u</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//空值类型能够有这两种内容。void的内容也是不能去赋值给别人的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//某种程度上来说，void 类型像是与 any 类型相反，它表示没有任何类型。 当一个函数没有返回值时，你通常会见到其返回值类型是 void</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fnvoid</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//函数也可以定义为空值，如果定义了void则不能返回内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//undefined跟null类型的也可以交换着用的，具体区别放在了下面</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="八种内置类型">八种内置类型<a href="#八种内置类型" class="hash-link" aria-label="Direct link to 八种内置类型" title="Direct link to 八种内置类型">​</a></h2>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> str</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;jimmy&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> num</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">24</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> bool</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这里接收的是布尔值，不是布尔值对象(let b:boolean = new Boolean())</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> u</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">undefined</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> n</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">null</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> object </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> x</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> big</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> bigint </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100n</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> sym</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">symbol</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">Symbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;me&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="注意点">注意点<a href="#注意点" class="hash-link" aria-label="Direct link to 注意点" title="Direct link to 注意点">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="null-和-undefined">null 和 undefined<a href="#null-和-undefined" class="hash-link" aria-label="Direct link to null 和 undefined" title="Direct link to null 和 undefined">​</a></h3>
<p>默认情况下 <code>null</code> 和 <code>undefined</code> 是所有类型的子类型。 就是说你可以把 <code>null</code> 和 <code>undefined</code> 赋值给其他类型。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// null和undefined赋值给string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">str</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;666&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// null和undefined赋值给number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">num</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">666</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">num </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">num </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// null和undefined赋值给object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">obj</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> object </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// null和undefined赋值给Symbol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">sym</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> symbol </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Symbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;me&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">sym </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">sym </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// null和undefined赋值给boolean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">isDone</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> boolean </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">isDone </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">isDone </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// null和undefined赋值给bigint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">big</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> bigint </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100n</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">big </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">big </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果你在 tsconfig.json 指定了 <code>&quot;strictNullChecks&quot;:true</code> ，<code>null</code> 和 <code>undefined</code> 只能赋值给 <code>void</code> 和它们各自的类型。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="number-和-bigint">number 和 bigint<a href="#number-和-bigint" class="hash-link" aria-label="Direct link to number 和 bigint" title="Direct link to number 和 bigint">​</a></h3>
<p>虽然 <code>number</code> 和 <code>bigint</code> 都表示数字，但是这两个类型不兼容。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">big</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> bigint </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100n</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token literal-property property">num</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">6</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">big </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> num</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">num </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> big</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>会抛出一个类型不兼容的 ts (2322) 错误。</p>
<h1>任意类型(TS -- 2)</h1>
<blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">npm install </span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">types</span><span class="token operator" style="color:#475569">/</span><span class="token plain">node </span><span class="token operator" style="color:#475569">-</span><span class="token constant" style="color:#0f172a">D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">npm install ts</span><span class="token operator" style="color:#475569">-</span><span class="token plain">node </span><span class="token operator" style="color:#475569">-</span><span class="token function" style="color:#0e7490">g</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">装全局的</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="类型任意值----any">类型(任意值) -- any<a href="#类型任意值----any" class="hash-link" aria-label="Direct link to 类型(任意值) -- any" title="Direct link to 类型(任意值) -- any">​</a></h2>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> anys</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满穿黑丝&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">anys </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">anys </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">anys </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">anys </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">Symbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;666&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//any类型就跟原生的是一样的，能够给任意的类型进行定义，所以在在 TypeScript 中，任何类型都可以被归为 any 类型。这让 any 类型成为了类型系统的 顶级类型 (也被称作 全局超级类型 )。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>作用的地方：</p>
<ol>
<li>
<p>有时候，我们会想要为那些在编程阶段还不清楚类型的变量指定一个类型。 这些值可能来自于动态的内容，比如来自用户输入或第三方代码库。 这种情况下，我们不希望类型检查器对这些值进行检查而是直接让它们通过编译阶段的检查。 那么我们可以使用 <code>any</code> 类型来标记这些变量</p>
</li>
<li>
<p>在对现有代码进行改写的时候，<code>any</code> 类型是十分有用的，它允许你在编译时可选择地包含或移除类型检查。 你可能认为 <code>Object</code> 有相似的作用，就像它在其它语言中那样。 但是 <code>Object</code> 类型的变量只是允许你给它赋任意值 - 但是却不能够在它上面调用任意的方法，即便它真的有这些方法</p>
</li>
<li>
<p>当你只知道一部分数据的类型时，<code>any</code> 类型也是有用的。 比如，你有一个数组，它包含了不同的类型的数据</p>
</li>
</ol>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="unknown-类型">unknown 类型<a href="#unknown-类型" class="hash-link" aria-label="Direct link to unknown 类型" title="Direct link to unknown 类型">​</a></h2>
<blockquote>
<p>unknown 类型比 any 类型更安全</p>
<p>就像所有类型都可以被归为 <code>any</code>，所有类型也都可以被归为 <code>unknown</code>。这使得 <code>unknown</code> 成为 TypeScript 类型系统的另一种顶级类型（另一种的<code>any</code>）</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> unknow</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">unknown</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> a</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">unknow</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">a</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//unkonwn类型是不能够去调用属性跟函数的，它是 any 类型对应的安全类型</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>接口和对象类型(TS -- 3)</h1>
<blockquote>
<p>在 <a href="https://so.csdn.net/so/search?from=pc_blog_highlight&amp;q=typescript" target="_blank" rel="noopener noreferrer">typescript</a> 中，我们定义对象的方式要用关键字 <strong>interface</strong>（接口），小满的理解是使用 <strong>interface</strong> 来定义一种约束，让数据的结构满足约束的格式。</p>
<p>我的理解是 interface 是一个国企部门只招一个人的话，他们会针对走后门的那个人量身定制招聘要求，到面试的时候，这些条件少一个都不行，多了也不行，毕竟已经内定了，再叼、这些条件不仅满足了而且还会更多的技能也没用，别人就是不要你。(留下心酸的眼泪)</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interface-类型">interface 类型<a href="#interface-类型" class="hash-link" aria-label="Direct link to interface 类型" title="Direct link to interface 类型">​</a></h2>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token keyword" style="color:#0c4a6e">readonly</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token comment" style="color:#6A9955">//这个readonly是只读属性，意思就是说只能读取，不能将其他值赋值给他</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token comment" style="color:#6A9955">//这个问号就是可选的意思，条件稍微宽松了一些，下面引用这个age的话有没有这个属性都可以，不会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满嗷嗷叫&quot;</span><span class="token comment" style="color:#6A9955">//这里如果不写name就会报错，因为我们在上面定义了A类型集合，并且在这个变量中引入了(里面必须要有name属性且类型为字符串)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age	 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>注意：这个规定的属性不能多也不能少，参考我上面的案例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="可选属性----操作符">可选属性 -- <code>?</code>操作符<a href="#可选属性----操作符" class="hash-link" aria-label="Direct link to 可选属性----操作符" title="Direct link to 可选属性----操作符">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token keyword" style="color:#0c4a6e">readonly</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token comment" style="color:#6A9955">//这个问号就是可选的意思，条件稍微宽松了一些，下面引用这个age的话有没有这个属性都可以，不会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满嗷嗷叫&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age	 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token comment" style="color:#6A9955">//age写不写无所谓</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意属性----propname">任意属性 -- [propName:string]<a href="#任意属性----propname" class="hash-link" aria-label="Direct link to 任意属性 -- [propName:string]" title="Direct link to 任意属性 -- [propName:string]">​</a></h3>
<blockquote>
<p>需要注意的是，<strong>一旦定义了任意属性，那么确定属性和可选属性的类型都必须是它的类型的子集</strong></p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">propName</span><span class="token operator" style="color:#475569">:</span><span class="token plain">stirng</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token operator" style="color:#475569">|</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token comment" style="color:#6A9955">//这个属性一旦定义了，引用这个Person的对象就能够写入任意属性，属性的形式主要看冒号后面你定义了什么类型，比如在这里定义的类型就是string和number类型，不是这两者的类型就会报错，包括在Person里面定义除了string跟number之外其他类型也会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//可以理解为这个 [propName:stirng]任意属性的优先度相当高</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    注意</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain">与</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain">中间的 </span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">|</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token plain"> 符号，小飞棍来咯，这是联合类型，后面笔记会写，这里就当作将</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain">和</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain">类型关系到了一块，有点像逻辑或，满足联合起来的其中一个条件都行，两个也可以</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="只读属性----readonly">只读属性 -- readonly<a href="#只读属性----readonly" class="hash-link" aria-label="Direct link to 只读属性 -- readonly" title="Direct link to 只读属性 -- readonly">​</a></h3>
<blockquote>
<p>只读属性必须在声明时或构造函数里被初始化。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">readonly</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这个readonly是只读属性，意思就是说只能读取，不能将其他值赋值给他</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满嗷嗷叫&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满芳龄18&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//能够读取</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> name1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="继承属性----extends">继承属性 -- extends<a href="#继承属性----extends" class="hash-link" aria-label="Direct link to 继承属性 -- extends" title="Direct link to 继承属性 -- extends">​</a></h3>
<blockquote>
<p>儿子在前面，父亲在后面。也就是说顺序是 儿子 继承于 父亲</p>
<p>父亲的部分会继承给儿子，父亲的部分如果没有使用?操作符的话，引用儿子的 对象 是必须将父亲的部分都写下去。一说到这个就想到现在有的地方买房子，出政策能够绑定 3 代人一起还款，父债子还，跑不掉的，连债务都继承了还不能摆脱，这政策太鸡儿黑心了，绝户计</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> p</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;有看到小满的裤子吗？&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">88</span><span class="token comment" style="color:#6A9955">//两种类型都要写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>数组类型(TS -- 4)</h1>
<blockquote>
<p>普通的声明方式</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//类型加中括号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//这样会报错定义了数字类型出现字符串是不允许的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//操作方法添加也是不允许的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//数字类型的数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr2</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;2&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;3&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;4&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//字符串类型的数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr3</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;2&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//任意类型的数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr4</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//这个也能够决定你二维数组还是三维数组想要套几层就写几层</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="泛型----array-类型">泛型 -- Array &lt;类型&gt;<a href="#泛型----array-类型" class="hash-link" aria-label="Direct link to 泛型 -- Array &lt;类型&gt;" title="Direct link to 泛型 -- Array &lt;类型&gt;">​</a></h2>
<blockquote>
<p>规则 Array &lt;类型&gt;</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr1</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr2</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;1,2,3,4,5&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr3</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//泛型数组套娃写法(还能够决定数组里面数组的类型之类的)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr4</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">456</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="类数组----arguments">类数组 -- arguments<a href="#类数组----arguments" class="hash-link" aria-label="Direct link to 类数组 -- arguments" title="Direct link to 类数组 -- arguments">​</a></h2>
<blockquote>
<p>是所有参数的一个集合</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">Arr</span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//...args为ES6的解构方式，任意类型，voidwei不能有返回值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输出{&#x27;0&#x27;:4,&#x27;1&#x27;:56,&#x27;2&#x27;:789}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> arguments</span><span class="token comment" style="color:#6A9955">//会报错，报缺少类型number[]的以下属性：pop,push,concat,join</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain">IArguments </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> arguments</span><span class="token comment" style="color:#6A9955">//解决方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//其中 IArguments 是 TypeScript 中定义好了的类型，它实际上就是：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">IArguments</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">index</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    length</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    callee</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">Arr</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">56</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">789</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="接口表示数组">接口表示数组<a href="#接口表示数组" class="hash-link" aria-label="Direct link to 接口表示数组" title="Direct link to 接口表示数组">​</a></h2>
<blockquote>
<p>一般用来描述类数组</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">ArrNumber</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">index</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//后面的才是定义类型的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//[index: number]: string;这个就是定义字符串的了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> Arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> ArrNumber </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//let Arr: ArrNumber = [&quot;1, 2, 3, 4, 5&quot;];</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//表示：只要索引的类型是数字时，那么值的类型必须是数字。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>函数扩展(TS -- 5)</h1>
<blockquote>
<p>函数内参数类型也是可以定义的</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;小满&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">10000</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输入不符合上述参数内定义的类型就会出错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输出小满10000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">666</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//如果在下面使用的时候，没有参数传进来就会以你在这里设置的默认参数执行，比如这个666</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;小满&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输入不符合上述参数内定义的类型就会出错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输出小满666</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">666</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//也可以使用这个`?`操作符，age传不传就变成可选的了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;小满穿女仆装&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输入不符合上述参数内定义的类型就会出错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输出小满穿女仆装</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="对象形式的定义">对象形式的定义<a href="#对象形式的定义" class="hash-link" aria-label="Direct link to 对象形式的定义" title="Direct link to 对象形式的定义">​</a></h2>
<blockquote>
<p>跟定义对象差不多，但是在针对多个参数的时候会更加的方便，且记得引用的时候要写成({xxxx})形式，不然会报错，输出的是数组形式的</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">User</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">user</span><span class="token operator" style="color:#475569">:</span><span class="token plain">User</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain">User</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//这里的参数填写方式就变得简单了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> user</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;&#x27;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输入不符合上述参数内定义的类型就会出错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//输出{name:&#x27;小满&#x27;,age:18}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="函数重载">函数重载<a href="#函数重载" class="hash-link" aria-label="Direct link to 函数重载" title="Direct link to 函数重载">​</a></h2>
<blockquote>
<p>重载是方法名字相同，而参数不同，返回类型可以相同也可以不同。</p>
<p>如果参数类型不同，则参数类型应设置为 <strong>any</strong>。</p>
<p>参数数量不同你可以将不同的参数设置为可选。</p>
<p>为了让编译器能够选择正确的检查类型，它与 JavaScript 里的处理流程相似。 它查找重载列表，尝试使用第一个重载定义。 如果匹配的话就使用这个。 因此，在定义重载的时候，一定要把最精确的定义放在最前面。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">params</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//第一套规则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">params</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> params2</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//第二套规则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">params</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> params</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">params2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//输出1跟undefined，因为遵循的是第一套规则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//输出&quot;1&quot;跟1，遵循的是第二套规则</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>联合类型|类型断言|交叉类型(TS -- 6)</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="联合类型">联合类型<a href="#联合类型" class="hash-link" aria-label="Direct link to 联合类型" title="Direct link to 联合类型">​</a></h2>
<blockquote>
<p>联合类型能够让我们可选我们自己需要的类型部分，如果需要的类型超过或者达到 2 个，那就可以使用。</p>
<p>那为什么不使用 any 呢？那是因为我们需要的并不是所有类型都能通过，我只希望这两个或者 3 个类型能够通过，如果需要的类型超过或着达到两个都使用 any 的话，那就和 JavaScript 原生没有区别了</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//例如我们的手机号通常是13XXXXXXX 为数字类型 这时候产品说需要支持座机</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//所以我们就可以使用联合类型支持座机字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> myPhone</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;010-820&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//这样写是会报错的应为我们的联合类型只有数字和字符串并没有布尔值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> myPhone</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//报错</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="函数使用联合类型">函数使用联合类型<a href="#函数使用联合类型" class="hash-link" aria-label="Direct link to 函数使用联合类型" title="Direct link to 函数使用联合类型">​</a></h3>
<blockquote>
<p>这个!!是怎么回事呢？</p>
<p>我们知道一串数字想变成字符串只要加上&quot;&quot;就能隐式转换成字符串。</p>
<p>那一个类型只要<code>!</code>就能进行反转，!只有正反，也就是 false 跟 true，这种就有点类似隐式转换了，我们连续转两次就相当于当前形式的布尔值类型了</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">fn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token operator" style="color:#475569">!</span><span class="token operator" style="color:#475569">!</span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token comment" style="color:#6A9955">//将type强行转化为布尔值类型，如果没用进行转化的话是会报错的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">fn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">|</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token operator" style="color:#475569">!</span><span class="token operator" style="color:#475569">!</span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token comment" style="color:#6A9955">//将type强行转化为布尔值类型，如果没用进行转化的话是会报错的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> result </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="交叉类型">交叉类型<a href="#交叉类型" class="hash-link" aria-label="Direct link to 交叉类型" title="Direct link to 交叉类型">​</a></h2>
<blockquote>
<p>多种类型的集合，联合对象将具有所联合类型的所有成员</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Pople</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Man</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    sex</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> xiaoman </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">man</span><span class="token operator" style="color:#475569">:</span><span class="token plain">Pople </span><span class="token operator" style="color:#475569">&amp;</span><span class="token plain"> Man</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//这里通过了&amp;将Pople跟Man交叉在了一起，则man需要处理Pople也要处理Man。还可以继续跟更多个interface</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token class-name builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">man</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">xiaoman</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小满今天坏掉了&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    sex</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">1</span><span class="token comment" style="color:#6A9955">//如果sex不写是会报错的，会提示你少写了一个sex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="类型断言">类型断言<a href="#类型断言" class="hash-link" aria-label="Direct link to 类型断言" title="Direct link to 类型断言">​</a></h2>
<blockquote>
<p>语法格式，值 as 类型 或者 &lt;类型&gt;值</p>
<p>需要注意的是，类型断言只能够「欺骗」TypeScript 编译器，无法避免运行时的错误，反而滥用类型断言可能会导致运行时错误</p>
<p>覆盖它的推断，并且能以你任何你想要的方式分析它，这种机制被称为「类型断言」。TypeScript 类型断言用来告诉编译器你比它更了解这个类型，并且它不应该再发出错误</p>
<p>当 <code>S</code> 类型是 <code>T</code> 类型的子集，或者 <code>T</code> 类型是 <code>S</code> 类型的子集时，<code>S</code> 能被成功断言成 <code>T</code>。这是为了在进行类型断言时提供额外的安全性，完全毫无根据的断言是危险的，如果你想这么做，你可以使用 <code>any</code>。</p>
<p>2、类型断言的用途</p>
<p>（1）将一个联合类型推断为其中一个类型</p>
<p>（2）将一个父类断言为更加具体的子类</p>
<p>（3）将任何一个类型断言为 any</p>
<p>（4）将 any 断言为一个具体的类型</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">原型：</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">fn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">num</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">num</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//这里会报错，因为我们确实没有.length这个内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;12345&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token operator" style="color:#475569">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">断言写法</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">fn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">num</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">num </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//用括号括起来，as断言他是string类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;12345&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//这样会打印出5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">12345</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//这样会打印出undefined</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>另一个例子</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    run</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    build</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">A</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain">type</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    build</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token comment" style="color:#6A9955">//这里是没办法传过去的，断言是不能够滥用的，因为我们确实没有.run这个内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="临时断言">临时断言<a href="#临时断言" class="hash-link" aria-label="Direct link to 临时断言" title="Direct link to 临时断言">​</a></h2>
<blockquote>
<p>1.使用 any 临时断言</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">window</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">abc </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//这样写会报错因为window没有abc这个东西</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  window </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">abc </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//可以使用any临时断言在 any 类型的变量上，访问任何属性都是允许的。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>在下面的例子中，将 something 断言为 boolean 虽然可以通过编译，但是并没有什么用 并不会影响结果，因为编译过程中会删除类型断言</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">toBoolean</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">something</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> something </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> bbb </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">toBoolean</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">bbb</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 返回值为 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="as-const"><code>as const</code><a href="#as-const" class="hash-link" aria-label="Direct link to as-const" title="Direct link to as-const">​</a></h3>
<blockquote>
<p>是对字面值的<strong>断言</strong>，与 const 直接定义常量是有区别的</p>
<p>如果是普通类型跟直接 const 声明是一样的</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> names </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">names </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;aa&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//无法修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> names2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">names2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;aa&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//无法修改</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> a2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">a1</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">unshift</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">30</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 错误，此时已经断言字面量为[10, 20],数据无法做任何修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">a2</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">unshift</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">30</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 通过，没有修改指针。之所以没有修改指针是因为const的性质是决定了指针指向的位置是已经固定不会发生改变的了，这个30想要添加进去除非直接修改存储值的地方</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>内置对象(TS -- 7)</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ecmascript-的内置对象">ECMAScript 的内置对象<a href="#ecmascript-的内置对象" class="hash-link" aria-label="Direct link to ECMAScript 的内置对象" title="Direct link to ECMAScript 的内置对象">​</a></h2>
<blockquote>
<p>JavaScript 中有很多内置对象，它们可以直接在 <code>TypeScript</code>中当做定义好了的类型。</p>
<p><strong><code>Boolean</code>、Number、<code>string</code>、<code>RegExp</code>、<code>Date</code>、<code>Error</code></strong></p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> regexp</span><span class="token operator" style="color:#475569">:</span><span class="token plain">Regexp </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex char-set class-name" style="color:#0ea5e9">\w</span><span class="token regex regex-source language-regex char-set class-name" style="color:#0ea5e9">\d</span><span class="token regex regex-source language-regex char-set class-name" style="color:#0ea5e9">\s</span><span class="token regex regex-delimiter">/</span><span class="token operator" style="color:#475569">/</span><span class="token operator" style="color:#475569">/</span><span class="token plain">声明正则</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> date</span><span class="token operator" style="color:#475569">:</span><span class="token plain">Date </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Date</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//对象类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//const date:Date = new Date().getTime()  number类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> error</span><span class="token operator" style="color:#475569">:</span><span class="token function" style="color:#0e7490">Error</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;错误&#x27;</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>总结</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> b</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Boolean </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Boolean</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> n</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Number </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Number</span><span class="token punctuation" style="color:#475569">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> String </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">String</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满今天穿白丝&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> d</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Date </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Date</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">d</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> r</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> RegExp </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex anchor function" style="color:#0e7490">^</span><span class="token regex regex-source language-regex">1</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> e</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Error </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Error</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;error!&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dom-和-bom-的内置对象">DOM 和 BOM 的内置对象<a href="#dom-和-bom-的内置对象" class="hash-link" aria-label="Direct link to DOM 和 BOM 的内置对象" title="Direct link to DOM 和 BOM 的内置对象">​</a></h2>
<blockquote>
<p><strong><code>Document</code>、<code>HTMLElement</code>、<code>Event</code>、<code>NodeList</code> 等</strong></p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> list</span><span class="token operator" style="color:#475569">:</span><span class="token plain">NodeList </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">querySelectorAll</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;#list li&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//NodeList 实例对象是一个类似数组的对象，它的成员是节点对象。Node.childNodes、document.querySelectorAll () 返回的都是 NodeList 实例对象。 [1]  NodeList 对象代表一个有序的节点列表。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> body</span><span class="token operator" style="color:#475569">:</span><span class="token plain">HTMLElement </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">body</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">body</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> div</span><span class="token operator" style="color:#475569">:</span><span class="token plain">HTMLDivElement </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">querySelector</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;div&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">div</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">document</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">addEventListener</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;click&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">e</span><span class="token operator" style="color:#475569">:</span><span class="token plain">MouseEvent</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">promise</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Promise</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//Promise是类型,number是泛型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name builtin" style="color:#0c4a6e">Promise</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name builtin" style="color:#0c4a6e">number</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">resolve</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">rejuct</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token function" style="color:#0e7490">resolve</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//如果不进行断言的话会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">promise</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">then</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">res</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//返回1，这里会提示你res应该输入number类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> body</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> allDiv</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> NodeList </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">querySelectorAll</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;div&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//读取div 这种需要类型断言 或者加个判断应为读不到返回null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> div</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">querySelector</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;div&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> HTMLDivElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">document</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">addEventListener</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;click&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">e</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> MouseEvent</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//dom元素的映射表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">HTMLElementTagNameMap</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  a</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLAnchorElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  abbr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  address</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  applet</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLAppletElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  area</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLAreaElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  article</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  aside</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  audio</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLAudioElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  b</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  base</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLBaseElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  bdi</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  bdo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  blockquote</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLQuoteElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  body</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLBodyElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  br</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLBRElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  button</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLButtonElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  canvas</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLCanvasElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  caption</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableCaptionElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  cite</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  code</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  col</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableColElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  colgroup</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableColElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  data</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLDataElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  datalist</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLDataListElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  dd</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  del</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLModElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  details</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLDetailsElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  dfn</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  dialog</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLDialogElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  dir</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLDirectoryElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  div</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLDivElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  dl</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLDListElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  dt</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  em</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  embed</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLEmbedElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  fieldset</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLFieldSetElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  figcaption</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  figure</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  font</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLFontElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  footer</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  form</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLFormElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  frame</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLFrameElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  frameset</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLFrameSetElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  h1</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHeadingElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  h2</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHeadingElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  h3</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHeadingElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  h4</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHeadingElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  h5</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHeadingElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  h6</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHeadingElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  head</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHeadElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  header</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  hgroup</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  hr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHRElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  html</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLHtmlElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  i</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  iframe</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLIFrameElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  img</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLImageElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  input</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLInputElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  ins</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLModElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  kbd</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  label</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLLabelElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  legend</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLLegendElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  li</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLLIElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  link</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLLinkElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  main</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  map</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLMapElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  mark</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  marquee</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLMarqueeElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  menu</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLMenuElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  meta</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLMetaElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  meter</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLMeterElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  nav</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  noscript</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  object</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLObjectElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  ol</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLOListElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  optgroup</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLOptGroupElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  option</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLOptionElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  output</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLOutputElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  p</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLParagraphElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  param</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLParamElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  picture</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLPictureElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  pre</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLPreElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  progress</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLProgressElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  q</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLQuoteElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  rp</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  rt</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  ruby</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  s</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  samp</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  script</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLScriptElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  section</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  select</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLSelectElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  slot</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLSlotElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  small</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  source</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLSourceElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  span</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLSpanElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  strong</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  style</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLStyleElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  sub</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  summary</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  sup</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  table</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  tbody</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableSectionElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  td</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableDataCellElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  template</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTemplateElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  textarea</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTextAreaElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  tfoot</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableSectionElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  th</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableHeaderCellElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  thead</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableSectionElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  time</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTimeElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTitleElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  tr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTableRowElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  track</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLTrackElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  u</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  ul</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLUListElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  video</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLVideoElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  wbr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Class 类(TS -- 8)</h1>
<blockquote>
<p><code>ES6 </code>提供了更接近传统语言的写法，引入了 Class（类）这个概念，作为对象的模板。通过 <code>class</code> 关键字，可以定义类。基本上，ES6 的 <code>class</code> 可以看作只是一个<code>语法糖</code>，它的绝大部分功能，ES5 都可以做到，新的 <code>class</code> 写法只是让对象原型的写法更加清晰、更像<code>面向对象</code>编程的语法而已。上面的代码用 ES6 的 “类” 改写</p>
</blockquote>
<blockquote>
<p>JavaScript 写法</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//定义类      JavaScript写法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> sub</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>TypeScript 写法</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//在TypeScript中是需要提前声明类型的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  sub</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//没错，没使用标红的是这些</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> sub</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//上面定义了变量就需要使用，如果没用使用的话声明的变量就会标红(就算不标红不提示，真运行下去也会报错)，不能就那么放着，要么就用上，要么就给他个默认值0塞着</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="public">public<a href="#public" class="hash-link" aria-label="Direct link to public" title="Direct link to public">​</a></h3>
<blockquote>
<p>public 内部外部都可以访问，如果定义了 public，像 p 就能够访问 constructor 内部的变量了。当然，默认情况下也是 public</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//在TypeScript中是需要提前声明类型的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> sub</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token comment" style="color:#6A9955">//没错，没使用标红的是这些</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">sub</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> 		</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sub</span><span class="token comment" style="color:#6A9955">//上面定义了变量就需要使用，如果没用使用的话声明的变量就会标红(就算不标红不提示，真运行下去也会报错)，不能就那么放着，要么就用上，要么就给他个默认值0塞着</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> p </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">,</span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub</span><span class="token comment" style="color:#6A9955">//都可以访问</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="private">private<a href="#private" class="hash-link" aria-label="Direct link to private" title="Direct link to private">​</a></h3>
<blockquote>
<p>private 私有变量只能在内部访问</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//在TypeScript中是需要提前声明类型的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">private</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">private</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">private</span><span class="token plain"> sub</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token comment" style="color:#6A9955">//没错，没使用标红的是这些</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">sub</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> 		</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sub</span><span class="token comment" style="color:#6A9955">//上面定义了变量就需要使用，如果没用使用的话声明的变量就会标红(就算不标红不提示，真运行下去也会报错)，不能就那么放着，要么就用上，要么就给他个默认值0塞着</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> p </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">,</span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub</span><span class="token comment" style="color:#6A9955">//都访问不到了</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="protected">protected<a href="#protected" class="hash-link" aria-label="Direct link to protected" title="Direct link to protected">​</a></h3>
<blockquote>
<p>protected 内部和子类中访问</p>
<p>provate 跟 protectd 他们的区别是一个是只能在内部使用，一个是内部与子类访问，例子如下</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//在TypeScript中是需要提前声明类型的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">protected</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">private</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> sub</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token comment" style="color:#6A9955">//没错，没使用标红的是这些</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">sub</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> 		</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sub</span><span class="token comment" style="color:#6A9955">//上面定义了变量就需要使用，如果没用使用的话声明的变量就会标红(就算不标红不提示，真运行下去也会报错)，不能就那么放着，要么就用上，要么就给他个默认值0塞着</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Man</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">super</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">,</span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub</span><span class="token comment" style="color:#6A9955">//这两个都可以访问到，this.age访问不到。因为age是private，private只能在内部使用而不能在子类访问，Man是Person的子类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> p </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">,</span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name p</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="static-静态属性-和-静态方法">static 静态属性 和 静态方法<a href="#static-静态属性-和-静态方法" class="hash-link" aria-label="Direct link to static 静态属性 和 静态方法" title="Direct link to static 静态属性 和 静态方法">​</a></h2>
<blockquote>
<ul>
<li>
<p><strong>静态属性和非静态属性的区别：</strong></p>
<ul>
<li>在内存中存放的位置不同：所有 static 修饰的属性和方法都存放在内存的方法区里，而非静态的都存在堆内存中</li>
<li>出现的时机不同：静态属性和方法在没创建对象之前就存在，而非静态的需要在创建对象才存在</li>
<li>静态属性是整个类都公用的</li>
<li>生命周期不一样，静态在类消失后被销毁，非静态在对象销毁后销毁</li>
<li>用法：静态的可以直接通过类名访问，非静态只能通过对象进行访问</li>
</ul>
</li>
<li>
<p>使用<code>static</code>注意事项</p>
<ul>
<li><strong>带静态修饰符的方法只能访问静态属性</strong></li>
<li><strong>非静态方法既能访问静态属性也能访问非静态属性</strong></li>
<li><strong>非静态方法不能定义静态变量</strong></li>
<li><strong>静态方法不能使用 this 关键字</strong></li>
<li><strong>静态方法不能调用非静态方法，反之可以</strong></li>
</ul>
</li>
<li>
<p>父子类中静态和非静态的关系</p>
<ul>
<li>对于非静态属性，子类可以继承父类非静态属性，但是当父子类出现相同的非静态属性时，不会发生子类的重写并覆盖父类的非静态属性，而是隐藏父类的非静态属性</li>
<li>对于非静态方法，子类可以继承并重写父类的非静态方法</li>
<li>对于静态属性，子类可以继承父类的静态属性，但是如何和非静态属性一样时，会被隐藏</li>
<li>对于静态方法，子类可以继承父类的静态方法，但是不能重写静态方法，同名时会隐藏父类的</li>
</ul>
<p>注：静态属性、静态方法、非静态属性都可以被继承和隐藏，但是不可以被重写，非静态方法可以被重写和继承</p>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><strong>静态代码块的作用</strong>：
一般情况下，有些代码需要在项目启动的时候就执行，这时候就需要静态代码块，比如一个项目启动需要加载配置文件，或初始化内容等。</li>
<li><strong>静态代码块不能出现在任何方法体内</strong>
对于普通方法：普通方法是需要加载类 new 出一个实例化对象，通过运行这个对象才能运行代码块，而静态方法随着类加载就运行了。
对于静态方法：在类加载时静态方法也加载了，但是必须需要类名或者对象名才可以访问，相比于静态代码块，静态方法是被动运行，而静态代码块是主动运行</li>
<li><strong>静态代码块不能访问普通变量</strong>
普通变量只能通过对象调用的，所以普通变量不能放在静态代码块中。</li>
</ul>
<p>普通代码块和构造代码块</p>
<ul>
<li><strong>静态代码块和构造代码块在声明上少一个 static 关键字</strong></li>
<li><strong>执行时机</strong>：
构造代码块在创建对象时被调用，每次创建对象都会调用一次，且优先于构造函数执行。
注：不是优先于构造函数执行，而是依托于构造函数，如果不创建对象就不会执行构造代码块</li>
<li><strong>普通代码块和构造代码块的区别在于</strong>，构造代码块是在类中定于的，而普通代码块是在方法体中定义的，执行顺序和书写顺序一致。</li>
</ul>
<p>执行顺序</p>
<p>​ <strong>静态代码块 &gt; 构造代码块 &gt; 构造函数 &gt; 普通代码块</strong></p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">protected</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">private</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> sub</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//没错，没使用标红的是这些</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">static</span><span class="token plain"> aaa</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;123456&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//静态属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> sub</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">sub </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//上面定义了变量就需要使用，如果没用使用的话声明的变量就会标红(就算不标红不提示，真运行下去也会报错)，不能就那么放着，要么就用上，要么就给他个默认值0塞着</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//会报错，调用不了。互斥的，不能够通过静态函数去访问内部的变量，或者是在内部的变量去调用外部的静态函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//只能这样去调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">static</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">dev</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//静态函数之间可以互相调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">aaa</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//用this的话只能访问上面static类型的，其他的不管是public还是private或者是protected都是不能够访问的(会报不存在属性的错误)   因为这里的this指的是当前这个类，而构造函数里面的this指的是新的实例对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;789&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">static</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">dev</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">aaa</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//静态函数之间可以互相调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;dev&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//返回789</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">aaa</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//能够直接访问，不需要再new一下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Person</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">aaa</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> p </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interface-定义-类">interface 定义 类<a href="#interface-定义-类" class="hash-link" aria-label="Direct link to interface 定义 类" title="Direct link to interface 定义 类">​</a></h2>
<blockquote>
<p>ts interface 定义类 使用关键字 implements 后面跟 interface 的名字多个用逗号隔开 继承还是用 extends</p>
<p>通过接口去约束类</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Man</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//会提示我们Man中缺少属性run，但类型Person中需要该属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//通过接口去约束类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">H</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Man</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">H</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//会报错，提示我们缺少set属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> type</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">H</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//也可以使用继承去使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  params</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">params </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> params</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Man</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">H</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">run</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">type</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> type</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//啥也没有，这就是用接口去描述类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>抽象类(TypeScript8)</h1>
<blockquote>
<p>用关键词<code>abstract</code>修饰的类称为 abstract 类（<strong>抽象类</strong>）</p>
<p>应用场景如果你写的类实例化之后毫无用处此时我可以把他定义为抽象类</p>
<p>或者你也可以把他作为一个基类 -&gt; 通过继承一个<strong>派生类</strong>去实现基类的一些方法</p>
<p>对于 abstract 方法只允许声明，不允许实现（因为没有方法体）（毕竟叫抽象，当然不能实实在在的让你实现），并且不允许使用 final 和 abstract 同时修饰一个方法或者类，也不允许使用 static 修饰 abstract 方法。也就是说，abstract 方法只能是实例方法，不能是类方法。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">abstract</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">construct</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//construct：构造器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//abstract getName(){//方法getName不能具有实现，因为它标记为抽象。定义抽象类的函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//    return 213</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">setName</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">abstract</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">getName</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//抽象类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//派生类。定义了抽象类必须在派生类里实现</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//B类是继承A类的，此时A类就是一个抽象类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">super</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">getName</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//此时A类是无法被创建实例的(new A)，也就是无法创建抽象类的实例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//B类是可以创建实例的(new B)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> b </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">b</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">setName</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满2&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//通过抽象类的设置，成功修改掉子类的内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//    setName(name:string){</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//        this.name = name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getName</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>元组类型(TS -- 9)</h1>
<blockquote>
<p>数组合并了相同类型的对象，而元组（Tuple）合并了不同类型的对象。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这样的方式就叫做元组，定义了每个位置需要满足的不同类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//有</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//无，因为上面的定义类型会自动帮我们推断是否有该方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//Number 类型是没有 length 属性的</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="越界的元组">越界的元组<a href="#越界的元组" class="hash-link" aria-label="Direct link to 越界的元组" title="Direct link to 越界的元组">​</a></h3>
<blockquote>
<p>当添加的元组越界的时候，越界的类型会被限制为元组类型中每个类型的联合类型</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">22</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这样的方式就叫做元组，定义了每个位置需要满足的不同类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">push</span><span class="token punctuation" style="color:#475569">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//会报错，因为类型boolean参数不能赋值给string|number的类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//这个就是元组对越界元素的处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">push</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;111&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2222</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这种就可以</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//也可以对二维数组进行限制规定类型</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>枚举类型(TS -- 10)</h1>
<blockquote>
<p>在 javaScript 中是没有<code>枚举</code>的概念的 TS 帮我们定义了枚举这个类型</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enum-关键字定义枚举">enum 关键字定义枚举<a href="#enum-关键字定义枚举" class="hash-link" aria-label="Direct link to enum 关键字定义枚举" title="Direct link to enum 关键字定义枚举">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="数字定义枚举">数字定义枚举<a href="#数字定义枚举" class="hash-link" aria-label="Direct link to 数字定义枚举" title="Direct link to 数字定义枚举">​</a></h3>
<blockquote>
<p>默认从 0 开始的</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Color </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  red</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  green</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  blue</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">red</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">blue</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">green</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//能够得到他们的顺序数字，这里返回0，2，1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="增长枚举">增长枚举<a href="#增长枚举" class="hash-link" aria-label="Direct link to 增长枚举" title="Direct link to 增长枚举">​</a></h4>
<blockquote>
<p>能够通过自定义开头决定从哪个数字开始枚举，其他位置的都可以定义，后面的数字就按顺序枚举</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Color </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  red </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  green</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  blue</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">red</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">blue</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">green</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//能够得到他们的顺序数字，这里返回2，4，3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符串枚举">字符串枚举<a href="#字符串枚举" class="hash-link" aria-label="Direct link to 字符串枚举" title="Direct link to 字符串枚举">​</a></h3>
<blockquote>
<p>字符串枚举的概念很简单。 在一个字符串枚举里，每个成员都必须用字符串字面量，或另外一个字符串枚举成员进行初始化。</p>
<p>由于字符串枚举没有自增长的行为，字符串枚举可以很好的序列化。 换句话说，如果你正在调试并且必须要读一个数字枚举的运行时的值，这个值通常是很难读的 - 它并不能表达有用的信息，字符串枚举允许你提供一个运行时有意义的并且可读的值，独立于枚举成员的名字。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Types </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  Red </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;red&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  Green </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;green&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  BLue </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;blue&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="异构枚举">异构枚举<a href="#异构枚举" class="hash-link" aria-label="Direct link to 异构枚举" title="Direct link to 异构枚举">​</a></h3>
<blockquote>
<p>枚举可以混合字符串和数字成员</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Types </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  No </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;No&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  Yes </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Types</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">NO</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> Types</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Yes</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="接口枚举">接口枚举<a href="#接口枚举" class="hash-link" aria-label="Direct link to 接口枚举" title="Direct link to 接口枚举">​</a></h3>
<blockquote>
<p>定义一个枚举 Types 定义一个接口 A 他有一个属性 red 值为 Types.yyds</p>
<p>声明对象的时候要遵循这个规则</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     no </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;NO&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     yes </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    red</span><span class="token operator" style="color:#475569">:</span><span class="token plain">Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">yes</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">B</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    red</span><span class="token operator" style="color:#475569">:</span><span class="token plain">Color</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">yes</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//或者直接red:1，只能填入这两个内容其中之一，其他的会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="const-枚举">const 枚举<a href="#const-枚举" class="hash-link" aria-label="Direct link to const 枚举" title="Direct link to const 枚举">​</a></h3>
<blockquote>
<p>let 和 var 都是不允许的声明只能使用 const</p>
<p>大多数情况下，枚举是十分有效的方案。 然而在某些情况下需求很严格。 为了避免在额外生成的代码上的开销和额外的非直接的对枚举成员的访问，我们可以使用 <code>const</code> 枚举。 常量枚举通过在枚举上使用 <code>const</code> 修饰符来定义</p>
<p>const 声明的枚举会被编译成常量</p>
<p>普通声明的枚举编译完后是个对象</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Types </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//有没有const决定是编译成对象还是编译成常量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  sucess</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  fail</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> code</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">code </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> sucess</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//是能执行的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;我在人民广场吃炸鸡&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="反向映射">反向映射<a href="#反向映射" class="hash-link" aria-label="Direct link to 反向映射" title="Direct link to 反向映射">​</a></h3>
<blockquote>
<p>它包含了正向映射（ <code>name</code> -&gt; <code>value</code>）和反向映射（ <code>value</code> -&gt; <code>name</code>）</p>
<p>要注意的是 <em>不会</em>为字符串枚举成员生成反向映射。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Types </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  one</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> success</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Types</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">success</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">success</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//读取得出来为0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain"> Types </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  success</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> success</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Types</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">success</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> key </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Types</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">success</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">value---</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">success</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">key----</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">key</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//value---0,key----success</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>类型推论|类型别名(TS -- 11)</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="类型推论">类型推论<a href="#类型推论" class="hash-link" aria-label="Direct link to 类型推论" title="Direct link to 类型推论">​</a></h2>
<blockquote>
<p>我声明了一个变量但是没有定义类型</p>
<p><code>TypeScript</code>会在没有明确的指定类型的时候推测出一个类型，这就是类型推论</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//会报错，虽然我们没用明确限制类型，但是TS编辑器会自动推论为string类型。就不能够在赋值给别的类型</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>如果你声明变量没有定义类型也没有赋值这时候 TS 会推断成 any 类型可以进行任何操作</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> str</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//为any类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;马杀鸡&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="联合类型-1">联合类型<a href="#联合类型-1" class="hash-link" aria-label="Direct link to 联合类型" title="Direct link to 联合类型">​</a></h5>
<blockquote>
<p>指定多种类型，在前文有提到</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">s</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> str</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> s </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;永恒的紫罗兰花园&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> num</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> s </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">520</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这有这两种类型可以</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="函数式的类型别名">函数式的类型别名<a href="#函数式的类型别名" class="hash-link" aria-label="Direct link to 函数式的类型别名" title="Direct link to 函数式的类型别名">​</a></h3>
<blockquote>
<p>type 关键字（可以给一个类型定义一个名字）<strong>多用于符合类型</strong>，但也可以要求有固定的东西</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义类型别名">定义类型别名<a href="#定义类型别名" class="hash-link" aria-label="Direct link to 定义类型别名" title="Direct link to 定义类型别名">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">str</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;我是小满&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义函数别名">定义函数别名<a href="#定义函数别名" class="hash-link" aria-label="Direct link to 定义函数别名" title="Direct link to 定义函数别名">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">str</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">str</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;我是小满&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义联合类型别名">定义联合类型别名<a href="#定义联合类型别名" class="hash-link" aria-label="Direct link to 定义联合类型别名" title="Direct link to 定义联合类型别名">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">str</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s2</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> s2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义值的别名">定义值的别名<a href="#定义值的别名" class="hash-link" aria-label="Direct link to 定义值的别名" title="Direct link to 定义值的别名">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">value</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;213&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> value </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//变量s的值  只能是上面value定义的值</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>never 类型(TS -- 12)</h1>
<blockquote>
<p>TypeScript 将使用 never 类型来表示不应该存在的状态</p>
<p><em>返回 never 的函数必须存在无法达到的终点</em></p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">error</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">message</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">never</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//因为必定抛出异常，所以 error 将不会有返回值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Error</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">loop</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">never</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//因为这个是死循环，永远不会去返回的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    type</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;保安&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    type</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;草莓&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    type</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;卷心菜&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">All</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token operator" style="color:#475569">|</span><span class="token constant" style="color:#0f172a">B</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">type</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">val</span><span class="token operator" style="color:#475569">:</span><span class="token plain">All</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">while</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">case</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;保安&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token keyword" style="color:#0c4a6e">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">case</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;草莓&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token keyword" style="color:#0c4a6e">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//case &quot;卷心菜&quot;:break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">default</span><span class="token operator" style="color:#475569">:</span><span class="token operator" style="color:#475569">/</span><span class="token operator" style="color:#475569">/</span><span class="token plain">兜底机制，此时</span><span class="token constant" style="color:#0f172a">C</span><span class="token plain">没有用上就会报错提示。这就算</span><span class="token builtin" style="color:#0c4a6e">never</span><span class="token plain">的作用</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> check</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">never</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> val</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Symbol 类型</h1>
<blockquote>
<p><code>symbol</code> 是一种新的原生类型，就像 <code>number</code> 和 <code>string</code> 一样</p>
<p>symbol<code>类型的值是通过</code>Symbol 构造函数创建的</p>
<p>可以传递参做为唯一标识 只支持 string 和 number 类型的参数</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">symbol</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">Symbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;小满&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> num</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">symbol</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">Symbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;小满&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">num</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;value&quot;</span><span class="token comment" style="color:#6A9955">//Symbol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">s</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;草莓&quot;</span><span class="token comment" style="color:#6A9955">//Symbol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	sex</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;男&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">.</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">num</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//取到value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">num</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//返回Symbol(小满)Symbol(小满)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">s </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> num</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//这个值看似一样，其实因为内存地址指针位置不同，所以是唯一值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">for</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> key </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> boj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token comment" style="color:#6A9955">//只会打印出name跟sex，[num]与[s]将打印不出来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">keys</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//[&quot;name&quot;,&quot;sex&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getOwnPropertyNames</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//[&quot;name&quot;,&quot;sex&quot;]，跟上面一样，打印不出来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">JSON</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">stringify</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//[&quot;name&quot;:&quot;小满&quot;,&quot;sex&quot;:&quot;男&quot;]，一样打印不出来</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="能够读取到-symbol-的两种方式">能够读取到 Symbol 的两种方式<a href="#能够读取到-symbol-的两种方式" class="hash-link" aria-label="Direct link to 能够读取到 Symbol 的两种方式" title="Direct link to 能够读取到 Symbol 的两种方式">​</a></h2>
<blockquote>
<p>静态方法 <strong><code>Reflect.ownKeys()</code></strong> 返回一个由目标对象自身的属性键组成的数组(Array)。</p>
<p>语法：Reflect.ownKeys(target) =&gt; <code>target</code>获取自身属性键的目标对象。</p>
<p><code>Reflect.ownKeys</code> 方法返回一个由目标对象自身的属性键组成的数组。它的返回值等同于 <code>Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))</code>。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getOwnPropertySymbol</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//能打印出来两个Symbol，另外两个普通的不会打印出来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">Reflect</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">ownKeys</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//此属性是将所有的属性都列出来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Reflect</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">ownKeys</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//四个全部圆满的打印出来</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>迭代器|生成器(TS -- 13)</h1>
<blockquote>
<p>迭代器:Symbol.iterator</p>
<p>迭代器（Iterator）是⼀种对象，它能够⽤来遍历标准模板库容器中的部分或全部元素，每个迭代器对象代表容器中的确定的地址
通俗点说，迭代器表现的像指针，读取集合或者数组中的⼀个值，读完以后⼜指向下⼀条数据，⼀个个数过去。</p>
<p>生成器: for of</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="迭代器">迭代器<a href="#迭代器" class="hash-link" aria-label="Direct link to 迭代器" title="Direct link to 迭代器">​</a></h2>
<blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="迭代器interator-的用法"><code>迭代器</code>Interator 的用法<a href="#迭代器interator-的用法" class="hash-link" aria-label="Direct link to 迭代器interator-的用法" title="Direct link to 迭代器interator-的用法">​</a></h2>
<p>1.<code>Interator</code>是 es6 引入的一种新的遍历机制。两个核心：</p>
<p>(1) 迭代器是一个统一的接口，它的作用是使各种<code>数据结构</code>可被便捷的访问，它是通过一个键为 Symbol.iterator 的方法来实现。
(2) 迭代器是用于<code>遍历</code>数据结构元素的指针（如数据库中的游标）。</p>
<p>使用迭代</p>
<ol>
<li>
<p>使用<code>Symbol.interator</code> 创建一个迭代器</p>
</li>
<li>
<p>调用 next 方法向下迭代，next 方法会返回当前的位置</p>
</li>
<li>
<p>当 done 为 true 时则遍历结束</p>
</li>
</ol>
<p>注意点：</p>
<ol>
<li>
<p>在迭代器迭代元素的过程中，不允许使⽤集合对象改变集合中的元素个数，如果需要添加或者删除只能使⽤迭代器的⽅法操作。</p>
</li>
<li>
<p>如果使⽤了集合对象改变集合中的元素个数那么就会报错：不改变个数即可，替换也可以的。</p>
</li>
<li>
<p>迭代器的⽣存周期为创建到使⽤结束的时段。</p>
</li>
<li>
<p>foreach : Iterator 的封装变形，变得⽐ Iterator 更简单。但是他也需要知道数组或集合的类型。并且，Iterator 需要注意的，foreach
同样需要注意。</p>
</li>
</ol>
</blockquote>
<ul>
<li>存在 interator 迭代器的有 =&gt;
<ul>
<li>数组[]里能够找到 Symbol(Symbol.interator)</li>
<li>argument 内找到 Symbol(Symbol.interator)</li>
<li>NodeList 内找到 Symbol(Symbol.interator)</li>
<li>new set()内的 Prototype 下一层 Symbol(Symbol.interator)</li>
<li>new Map 同理，一样有 Symbol(Symbol.interator)</li>
</ul>
</li>
</ul>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> arr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">6</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> it</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Intertor</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">Symbol</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">interator</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//注意这里的接收类型&lt;number&gt;是固定要写的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//next一次只遍历一个数，下一次调用将从上一次遍历到的位置开始下一个</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">next</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//{ value: 1, done: false }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">next</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//{ value: 5, done: false }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">next</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//{ value: 6, done: false }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">next</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//{ value: undefined, done: true }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//返回的有两个属性，一个value，一个done。value当读取到值的时候，done为false、读取不到为true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">mapKeys</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//相当于起别名，在下方使用的时候集合了string与number就会相对方便不少</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> set</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Set</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Set</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> map</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Map</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">mapKeys</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> mapKeys</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Map</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这里断言两个mapKeys，一个对应key，一个对应value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">map</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">map</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;2&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;看看腿&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//小迭代器的实现</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">gen</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">erg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//这里定义为any类型是因为上面要传到这里的有多种不同类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> it</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> interator</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> erg</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">Symbol</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">interator</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> next</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> done</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">!</span><span class="token plain">next</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">done</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//判断next，由于next默认为fasle，while循环只有true会通过，所以需要取反</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    next </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> it</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">next</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//刚开始是声明next给个默认值，等到开始循环的时候再把真正的值赋给他</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">!</span><span class="token plain">next</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">done</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">next</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">gen</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//调用第一个代码块的arr，输出了与console.log(iterator.next());一样的内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//对象是不支持迭代器的使用的，其实我们在控制台输出一个对象，查找他内置的属性，也是找不到Symbol.interator的</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="symbol-列表">Symbol 列表<a href="#symbol-列表" class="hash-link" aria-label="Direct link to Symbol 列表" title="Direct link to Symbol 列表">​</a></h3>
<p><strong>Symbol.hasInstance</strong>
方法，会被 instanceof 运算符调用。构造器对象用来识别一个对象是否是其实例。</p>
<p><strong>Symbol.isConcatSpreadable</strong>
布尔值，表示当在一个对象上调用 Array.prototype.concat 时，这个对象的数组元素是否可展开。</p>
<p><strong>Symbol.iterator</strong>
方法，被 for-of 语句调用。返回对象的默认迭代器。</p>
<p><strong>Symbol.match</strong>
方法，被 String.prototype.match 调用。正则表达式用来匹配<a href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">字符串</a>。</p>
<p><strong>Symbol.replace</strong>
方法，被 String.prototype.replace 调用。正则表达式用来替换字符串中匹配的子串。</p>
<p><strong>Symbol.search</strong>
方法，被 String.prototype.search 调用。正则表达式返回被匹配部分在字符串中的索引。</p>
<p><strong>Symbol.species</strong>
函数值，为一个构造函数。用来创建派生对象。</p>
<p><strong>Symbol.split</strong>
方法，被 String.prototype.split 调用。正则表达式来用分割字符串。</p>
<p><strong>Symbol.toPrimitive</strong>
方法，被 ToPrimitive 抽象操作调用。把对象转换为相应的原始值。</p>
<p><strong>Symbol.toStringTag</strong>
方法，被内置方法 Object.prototype.toString 调用。返回创建对象时默认的字符串描述。</p>
<p><strong>Symbol.unscopables</strong>
对象，它自己拥有的属性会被 with 作用域排除在外。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="生成器builder">生成器（Builder）<a href="#生成器builder" class="hash-link" aria-label="Direct link to 生成器（Builder）" title="Direct link to 生成器（Builder）">​</a></h2>
<blockquote>
<p>又称建造者模式，该模式是一种创建型设计模式，能够分步骤创建复杂对象。该模式允许使用相同的创建代码生成不同类型和形式的对象。</p>
<p>具体内容请跳转链接查看：<a href="https://zhuanlan.zhihu.com/p/551870461" target="_blank" rel="noopener noreferrer">设计模式-生成器</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forof-语句">for…of 语句<a href="#forof-语句" class="hash-link" aria-label="Direct link to for…of 语句" title="Direct link to for…of 语句">​</a></h3>
<p>for…of 会遍历可迭代的对象，调用对象上的 <code>Symbol.iterator</code>方法。(此对象非彼对象，这个对象是指你即将下手的目标)</p>
<p>对象也是不支持的，因为对象没用<code>Symbol.iterator</code>方法。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">mapKeys</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//相当于起别名，在下方使用的时候集合了string与number就会相对方便不少</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> set</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Set</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Set</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> map</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Map</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">mapKeys</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> mapKeys</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Map</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这里断言两个mapKeys，一个对应key，一个对应value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">map</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">map</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;2&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;看看腿&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> item </span><span class="token keyword" style="color:#0c4a6e">of</span><span class="token plain"> set</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//打印出1 2 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> item </span><span class="token keyword" style="color:#0c4a6e">of</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//打印出4 5 6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> item </span><span class="token keyword" style="color:#0c4a6e">of</span><span class="token plain"> map</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//打印出[&#x27;1&#x27;,&#x27;小满&#x27;]	[&#x27;2&#x27;,&#x27;看看腿&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//其实这就是一个语法糖，将of后面的内容遍历存储到of前面的变量中</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="跟-for-in-的区别">跟 for in 的区别<a href="#跟-for-in-的区别" class="hash-link" aria-label="Direct link to 跟 for in 的区别" title="Direct link to 跟 for in 的区别">​</a></h3>
<blockquote>
<p>for in 循环出来的是索引而不是内容，这个应该是最本质的区别了</p>
<p>因为 for of 会调用底层 interator 里面那个 list 的.value</p>
</blockquote>
<h1>泛型(generic) =&gt; (TS -- 14 上)</h1>
<blockquote>
<p>泛型简单来说就是类型变量，在 ts 中存在类型，如 number、string、boolean 等。泛型就是使用一个类型变量来表示一种类型，类型值通常是在使用的时候才会设置。泛型的使用场景非常多，可以在函数、类、interface 接口中使用</p>
<p>TypeScript 中不建议使用 any 类型，不能保证类型安全，调试时缺乏完整的信息。</p>
<p>TypeScript 可以使用泛型来创建可重用的组件。支持当前数据类型，同时也能支持未来的数据类型。扩展灵活，可以在编译时发现类型错误，从而保证了类型安全。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="无泛型用法">无泛型用法<a href="#无泛型用法" class="hash-link" aria-label="Direct link to 无泛型用法" title="Direct link to 无泛型用法">​</a></h2>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//数字类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">num</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">B</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//Array&lt;number&gt;为希望返回number类型的数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">num</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">6</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">9</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//字符串类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">str</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">B</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//Array&lt;number&gt;为希望返回number类型的数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">str</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;穿女装&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>一个笨的方法就像上面那样，也就是说 JS 提供多少种类型，就需要复制多少份代码，然后改下类型签名。这对程序员来说是致命的。这种复制粘贴增加了出错的概率，使得代码难以维护，牵一发而动全身。并且将来 JS 新增新的类型，你仍然需要修改代码，也就是说你的代码<strong>对修改开放</strong>，这样不好。</p>
<p>如果你使用 any 的话，怎么写都是 ok 的， 这就丧失了类型检查的效果。实际上我知道我传给你的是 string，返回来的也一定是 string，而 string 上没有 toFixed 方法，因此需要报错才是我想要的。也就是说我真正想要的效果是：<code>当我用到id的时候，你根据我传给你的类型进行推导</code>。比如我传入的是 string，但是使用了 number 上的方法，你就应该报错。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用泛型优化">使用泛型优化<a href="#使用泛型优化" class="hash-link" aria-label="Direct link to 使用泛型优化" title="Direct link to 使用泛型优化">​</a></h2>
<blockquote>
<p>为了解决上面的这些问题，我们<strong>使用泛型对上面的代码进行重构</strong>。和我们的定义不同，这里用了一个 类型 T，这个 <strong>T 是一个抽象类型，只有在调用的时候才确定它的值</strong>，这就不用我们复制粘贴无数份代码了。</p>
<p>其中 <code>T</code> 代表 <strong>Type</strong>，在定义泛型时通常用作第一个类型变量名称。但实际上 <code>T</code> 可以用任何有效名称代替。除了 <code>T</code> 之外，以下是常见泛型变量代表的意思：</p>
<ul>
<li>K（Key）：表示对象中的键类型；</li>
<li>V（Value）：表示对象中的值类型；</li>
<li>E（Element）：表示元素类型。</li>
</ul>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#0e7490">add</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name constant" style="color:#0f172a">T</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> b</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//通常定义的时候类型是不明确的，所以一般使用T来定义</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token generic-function function" style="color:#0e7490">add</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name builtin" style="color:#0c4a6e">number</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//1对应a，2对应b、返回的都是number类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token generic-function function" style="color:#0e7490">add</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name builtin" style="color:#0c4a6e">string</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;2&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这个时候，我们只需要改动这个string，传递到上面的时候就会自动推断为string类型了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//甚至我们可以简写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;2&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//编辑器会自动推断类型，但最好还是写一下，如果你知道你具体需要的是什么的话</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//对泛型进行总结就是：定义前不明确类型，使用的时候再明确类型，能够给我们保留有足够的自由度，又不会像any丧失类型检查的效果</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>我们也可以使用不同的泛型参数名，只要在数量上和使用方式上能对应上就可以。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#0e7490">Sub</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name constant" style="color:#0f172a">T</span><span class="token generic-function generic class-name punctuation" style="color:#475569">,</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> </span><span class="token generic-function generic class-name constant" style="color:#0f172a">U</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> b</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//这个T跟U随便起名字都行，没有强制规范</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> params</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> params</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token generic-function function" style="color:#0e7490">Sub</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name" style="color:#0ea5e9">Boolean</span><span class="token generic-function generic class-name punctuation" style="color:#475569">,</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> </span><span class="token generic-function generic class-name builtin" style="color:#0c4a6e">number</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//我们这里就将其定义为布尔值类型跟数字类型</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义泛型接口">定义泛型接口<a href="#定义泛型接口" class="hash-link" aria-label="Direct link to 定义泛型接口" title="Direct link to 定义泛型接口">​</a></h3>
<blockquote>
<p>声明接口的时候 在名字后面加一个 &lt;参数&gt;</p>
<p>使用的时候传递类型</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">MyInter</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#0e7490">fn</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name constant" style="color:#0f172a">T</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> result</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> MyInter</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">result</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="对象字面量泛型">对象字面量泛型<a href="#对象字面量泛型" class="hash-link" aria-label="Direct link to 对象字面量泛型" title="Direct link to 对象字面量泛型">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> foo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function-variable function" style="color:#0e7490">foo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">foo</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="泛型约束函数类">泛型约束(函数类)<a href="#泛型约束函数类" class="hash-link" aria-label="Direct link to 泛型约束(函数类)" title="Direct link to 泛型约束(函数类)">​</a></h2>
<blockquote>
<p>我们期望在一个泛型的变量上面，获取其 <code>length</code> 参数，但是，有的数据类型是没有 <code>length</code> 属性的</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#0e7490">getLegnth</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name constant" style="color:#0f172a">T</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>这个时候，我们就可以对其进行约束</li>
</ul>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Len</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  length</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#0e7490">getLegnth</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name constant" style="color:#0f172a">T</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> </span><span class="token generic-function generic class-name keyword" style="color:#0c4a6e">extends</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> Len</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//使用接口让泛型T继承了Len</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">getLength</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这个时候我们这样使用就会提示我们类型&quot;number&quot;的参数不能赋给&quot;Len&quot;的参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//我们依次对数组、字符串、布尔值都进行尝试，分别为可以、可以、不可以</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>泛型约束|泛型类(TS -- 14 下)</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用-keyof-约束对象">使用 keyof 约束对象<a href="#使用-keyof-约束对象" class="hash-link" aria-label="Direct link to 使用 keyof 约束对象" title="Direct link to 使用 keyof 约束对象">​</a></h2>
<blockquote>
<p>其中使用了 TS 泛型和泛型约束。首先定义了 T 类型并使用 extends 关键字继承 object 类型的子类型，然后使用 keyof 操作符获取 T 类型的所有键，它的返回 类型是联合 类型，最后利用 extends 关键字约束 K 类型必须为 keyof T 联合类型的子类型</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#0e7490">prop</span><span class="token generic-function generic class-name operator" style="color:#475569">&lt;</span><span class="token generic-function generic class-name constant" style="color:#0f172a">T</span><span class="token generic-function generic class-name punctuation" style="color:#475569">,</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> </span><span class="token generic-function generic class-name constant" style="color:#0f172a">K</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> </span><span class="token generic-function generic class-name keyword" style="color:#0c4a6e">extends</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> </span><span class="token generic-function generic class-name keyword" style="color:#0c4a6e">keyof</span><span class="token generic-function generic class-name" style="color:#0ea5e9"> </span><span class="token generic-function generic class-name constant" style="color:#0f172a">T</span><span class="token generic-function generic class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> key</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> o </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> a</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> b</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> c</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">o</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">o</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;d&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//，我们需要约束一下这个o里面并没有的东西，此时就会报错发现找不到</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//通过提示，我门可以看到类型&quot;d&quot;的参数不能赋给类型&quot;a&quot;|&quot;b&quot;|&quot;c&quot;的参数</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="泛型类">泛型类<a href="#泛型类" class="hash-link" aria-label="Direct link to 泛型类" title="Direct link to 泛型类">​</a></h2>
<blockquote>
<p>声明方法跟函数类似名称后面定义 &lt;类型&gt;</p>
<p>使用的时候确定类型 new Sub<number>()</number></p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//定义泛型的一个类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Sub</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  attr</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这里的:只是普通的：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> s </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Sub</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name builtin" style="color:#0c4a6e">number</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这里已经使用泛型固定为number了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">s</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">attr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//正常运行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">s</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">attr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">s</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//也是只能传数字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> str </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Sub</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name builtin" style="color:#0c4a6e">string</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这里已经使用泛型固定为number了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">attr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">123</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">attr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//正常运行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">str</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">add</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;123&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//也是只能传字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> str</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="泛型工具类型大量补充额外内容">泛型工具类型(大量补充额外内容)<a href="#泛型工具类型大量补充额外内容" class="hash-link" aria-label="Direct link to 泛型工具类型(大量补充额外内容)" title="Direct link to 泛型工具类型(大量补充额外内容)">​</a></h2>
<blockquote>
<p>作者使用了 Typora 作为写笔记的编辑器，这里可以对目录进行折叠方面我们查阅我们想要的部分</p>
</blockquote>
<img decoding="async" loading="lazy" src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/925/image-20221008104110335.png" alt="image-20221008104110335" style="zoom:45%" class="img_ev3q">
<p>为了方便开发者 TypeScript 内置了一些常用的工具类型，比如 Partial、Required、Readonly、Record 和 ReturnType 等。不过在具体介绍之前，我们得先介绍一些相关的基础知识，方便读者可以更好的学习其它的工具类型。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1typeof">1.typeof<a href="#1typeof" class="hash-link" aria-label="Direct link to 1.typeof" title="Direct link to 1.typeof">​</a></h3>
<p>typeof 的主要用途是在类型上下文中获取变量或者属性的类型，下面我们通过一个具体示例来理解一下。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">sem</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;semlinker&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Sem</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">typeof</span><span class="token plain"> sem</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// type Sem = Person</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在上面代码中，我们通过 <code>typeof</code> 操作符获取 sem 变量的类型并赋值给 Sem 类型变量，之后我们就可以使用 Sem 类型：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">lolo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Sem</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;lolo&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>你也可以对嵌套对象执行相同的操作：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token maybe-class-name">Message</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;jimmy&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">address</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">province</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;四川&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">city</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;成都&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type message </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">typeof</span><span class="token plain"> </span><span class="token maybe-class-name">Message</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">/*</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955"> type message = {</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    name: string;</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    age: number;</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    address: {</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">        province: string;</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">        city: string;</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">    };</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">}</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">*/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此外，<code>typeof</code> 操作符除了可以获取对象的结构类型之外，它也可以用来获取函数对象的类型，比如：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">toArray</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter literal-property property">x</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">x</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Func</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">typeof</span><span class="token plain"> toArray</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// -&gt; (x: number) =&gt; number[]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2keyof">2.keyof<a href="#2keyof" class="hash-link" aria-label="Direct link to 2.keyof" title="Direct link to 2.keyof">​</a></h3>
<p><code>keyof</code> 操作符是在 TypeScript 2.1 版本引入的，该操作符可以用于获取某种类型的所有键，其返回类型是联合类型。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">K1</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> keyof </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// &quot;name&quot; | &quot;age&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">K2</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> keyof </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// &quot;length&quot; | &quot;toString&quot; | &quot;pop&quot; | &quot;push&quot; | &quot;concat&quot; | &quot;join&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">K3</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> keyof </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">x</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// string | number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在 TypeScript 中支持两种索引签名，数字索引和字符串索引：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">StringArray</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 字符串索引 -&gt; keyof StringArray =&gt; string | number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">index</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">StringArray1</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 数字索引 -&gt; keyof StringArray1 =&gt; number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">index</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>为了同时支持两种索引类型，就得要求数字索引的返回值必须是字符串索引返回值的子类。<strong>其中的原因就是当使用数值索引时，JavaScript 在执行索引操作时，会先把数值索引先转换为字符串索引</strong>。所以 <code>keyof { [x: string]: Person }</code> 的结果会返回 <code>string | number</code>。</p>
<p>keyof 也支持基本数据类型：</p>
<div class="language-vbnet codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vbnet codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">let K1: keyof boolean; // let K1: &quot;valueOf&quot;</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">let K2: keyof number; // let K2: &quot;toString&quot; | &quot;toFixed&quot; | &quot;toExponential&quot; | ...</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">let K3: keyof symbol; // let K1: &quot;valueOf&quot;</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="keyof-的作用">keyof 的作用<a href="#keyof-的作用" class="hash-link" aria-label="Direct link to keyof 的作用" title="Direct link to keyof 的作用">​</a></h4>
<p>JavaScript 是一种高度动态的语言。有时在静态类型系统中捕获某些操作的语义可能会很棘手。以一个简单的 <code>prop</code> 函数为例：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">obj</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> key</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>该函数接收 obj 和 key 两个参数，并返回对应属性的值。对象上的不同属性，可以具有完全不同的类型，我们甚至不知道 obj 对象长什么样。</p>
<p>那么在 TypeScript 中如何定义上面的 <code>prop</code> 函数呢？我们来尝试一下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter literal-property property">obj</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> object</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> </span><span class="token parameter literal-property property">key</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在上面代码中，为了避免调用 prop 函数时传入错误的参数类型，我们为 obj 和 key 参数设置了类型，分别为 <code>{}</code> 和 <code>string</code> 类型。然而，事情并没有那么简单。针对上述的代码，TypeScript 编译器会输出以下错误信息：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token maybe-class-name">Element</span><span class="token plain"> implicitly has an </span><span class="token string" style="color:#64748b">&#x27;any&#x27;</span><span class="token plain"> type because expression </span><span class="token keyword" style="color:#0c4a6e">of</span><span class="token plain"> type </span><span class="token string" style="color:#64748b">&#x27;string&#x27;</span><span class="token plain"> can</span><span class="token string" style="color:#64748b">&#x27;t be used to index type &#x27;</span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>元素隐式地拥有 <code>any</code> 类型，因为 <code>string</code> 类型不能被用于索引 <code>{}</code> 类型。要解决这个问题，你可以使用以下非常暴力的方案：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter literal-property property">obj</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> object</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> </span><span class="token parameter literal-property property">key</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj </span><span class="token keyword module" style="color:#0c4a6e">as</span><span class="token plain"> any</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>很明显该方案并不是一个好的方案，我们来回顾一下 <code>prop</code> 函数的作用，该函数用于获取某个对象中指定属性的属性值。因此我们期望用户输入的属性是对象上已存在的属性，那么如何限制属性名的范围呢？这时我们可以利用本文的主角 <code>keyof</code> 操作符：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> prop</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">object</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">key</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在以上代码中，我们使用了 TypeScript 的泛型和泛型约束。<strong>首先定义了 T 类型并使用 <code>extends</code> 关键字约束该类型必须是 object 类型的子类型，然后使用 <code>keyof</code> 操作符获取 T 类型的所有键，其返回类型是联合类型，最后利用 <code>extends</code> 关键字约束 K 类型必须为 <code>keyof T</code> 联合类型的子类型。</strong> 是骡子是马拉出来遛遛就知道了，我们来实际测试一下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Todo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">id</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">text</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">done</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">todo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Todo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">id</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">text</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Learn TypeScript keyof&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">done</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> prop</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">object</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">obj</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">key</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> id </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">todo</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;id&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// const id: number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> text </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">todo</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;text&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// const text: string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> done </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">todo</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;done&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// const done: boolean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>很明显使用泛型，重新定义后的 <code>prop&lt;T extends object, K extends keyof T&gt;(obj: T, key: K)</code> 函数，已经可以正确地推导出指定键对应的类型。那么当访问 todo 对象上不存在的属性时，会出现什么情况？比如：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> date </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">prop</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">todo</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;date&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>对于上述代码，TypeScript 编译器会提示以下错误：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token maybe-class-name">Argument</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">of</span><span class="token plain"> type </span><span class="token string" style="color:#64748b">&#x27;&quot;date&quot;&#x27;</span><span class="token plain"> is not assignable to parameter </span><span class="token keyword" style="color:#0c4a6e">of</span><span class="token plain"> type </span><span class="token string" style="color:#64748b">&#x27;&quot;id&quot; | &quot;text&quot; | &quot;done&quot;&#x27;</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这就阻止我们尝试读取不存在的属性。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3in">3.in<a href="#3in" class="hash-link" aria-label="Direct link to 3.in" title="Direct link to 3.in">​</a></h3>
<p><code>in</code> 用来遍历枚举类型：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Keys</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Obj</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain">  </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">p </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token maybe-class-name">Keys</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> any</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// -&gt; { a: any, b: any, c: any }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4infer">4.infer<a href="#4infer" class="hash-link" aria-label="Direct link to 4.infer" title="Direct link to 4.infer">​</a></h3>
<p>在条件类型语句中，可以用 <code>infer</code> 声明一个类型变量并且对它进行使用。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">ReturnType</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#475569">[</span><span class="token parameter punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> infer </span><span class="token constant" style="color:#0f172a">R</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">R</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> any</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>以上代码中 <code>infer R</code> 就是声明一个变量来承载传入函数签名的返回值类型，简单说就是用它取到函数返回值的类型方便之后使用。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5extends">5.extends<a href="#5extends" class="hash-link" aria-label="Direct link to 5.extends" title="Direct link to 5.extends">​</a></h3>
<p>有时候我们定义的泛型不想过于灵活或者说想继承某些类等，可以通过 extends 关键字添加泛型约束。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Lengthwise</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">length</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> loggingIdentity</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Lengthwise</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>现在这个泛型函数被定义了约束，因此它不再是适用于任意类型：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token function" style="color:#0e7490">loggingIdentity</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// Error, number doesn&#x27;t have a .length property</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这时我们需要传入符合约束类型的值，必须包含 length 属性：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token function" style="color:#0e7490">loggingIdentity</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">length</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">value</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="索引类型">索引类型<a href="#索引类型" class="hash-link" aria-label="Direct link to 索引类型" title="Direct link to 索引类型">​</a></h3>
<p>在实际开发中，我们经常能遇到这样的场景，在对象中获取一些属性的值，然后建立对应的集合。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> person </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;musion&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">35</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">getValues</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter literal-property property">person</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#475569">,</span><span class="token parameter"> </span><span class="token parameter literal-property property">keys</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#475569">[</span><span class="token parameter punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> keys</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">map</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">key</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">getValues</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;age&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// [&#x27;musion&#x27;, 35]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">getValues</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;gender&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// [undefined]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在上述例子中，可以看到 getValues (persion, [&#x27;gender&#x27;]) 打印出来的是 [undefined]，但是 ts 编译器并没有给出报错信息，那么如何使用 ts 对这种模式进行类型约束呢？这里就要用到了索引类型，改造一下 getValues 函数，通过 <strong>索引类型查询</strong>和 <strong>索引访问</strong> 操作符：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> getValues</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">person</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token literal-property property">keys</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#0c4a6e">return</span><span class="token plain"> keys</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">map</span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter">key</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">person</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&#x27;musion&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">35</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">getValues</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;name&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// [&#x27;musion&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">getValues</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;gender&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 报错：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// Argument of Type &#x27;&quot;gender&quot;[]&#x27; is not assignable to parameter of type &#x27;(&quot;name&quot; | &quot;age&quot;)[]&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// Type &quot;gender&quot; is not assignable to type &quot;name&quot; | &quot;age&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>编译器会检查传入的值是否是 Person 的一部分。通过下面的概念来理解上面的代码：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain">表示对象</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain">的属性</span><span class="token constant" style="color:#0f172a">K</span><span class="token plain">所表示的类型，在上述例子中，</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> 表示变量</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain">取属性</span><span class="token constant" style="color:#0f172a">K</span><span class="token plain">的值的数组</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 通过[]索引类型访问操作符, 我们就能得到某个索引的类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> type </span><span class="token maybe-class-name">MyType</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;name&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//Person中name的类型为string type MyType = string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>介绍完概念之后，应该就可以理解上面的代码了。首先看泛型，这里有 T 和 K 两种类型，根据类型推断，第一个参数 person 就是 person，类型会被推断为 Person。而第二个数组参数的类型推断（K extends keyof T），keyof 关键字可以获取 T，也就是 Person 的所有属性名，即 [&#x27;name&#x27;, &#x27;age&#x27;]。而 extends 关键字让泛型 K 继承了 Person 的所有属性名，即 [&#x27;name&#x27;, &#x27;age&#x27;]。这三个特性组合保证了代码的动态性和准确性，也让代码提示变得更加丰富了</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token function" style="color:#0e7490">getValues</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;gender&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 报错：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// Argument of Type &#x27;&quot;gender&quot;[]&#x27; is not assignable to parameter of type &#x27;(&quot;name&quot; | &quot;age&quot;)[]&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// Type &quot;gender&quot; is not assignable to type &quot;name&quot; | &quot;age&quot;.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="映射类型">映射类型<a href="#映射类型" class="hash-link" aria-label="Direct link to 映射类型" title="Direct link to 映射类型">​</a></h3>
<blockquote>
<p>根据旧的类型创建出新的类型，我们称之为映射类型</p>
</blockquote>
<p>比如我们定义一个接口</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">TestInterface</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们把上面定义的接口里面的属性全部变成可选</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">// 我们可以通过+/-来指定添加还是删除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">OptionalTestInterface</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">p </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">+</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">p</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type newTestInterface </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">OptionalTestInterface</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">TestInterface</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// type newTestInterface = {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//    name?:string,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//    age?:number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>比如我们再加上只读</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">OptionalTestInterface</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain">readonly </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">p </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">+</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">p</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type newTestInterface </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">OptionalTestInterface</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">TestInterface</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// type newTestInterface = {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//   readonly name?:string,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//   readonly age?:number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>由于生成只读属性和可选属性比较常用，所以 TS 内部已经给我们提供了现成的实现 Readonly / Partial, 会面内置的工具类型会介绍.</p>
<p><strong>内置的工具类型</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="partial">Partial<a href="#partial" class="hash-link" aria-label="Direct link to Partial" title="Direct link to Partial">​</a></h3>
<blockquote>
<p><code>Partial&lt;T&gt;</code> 将类型的属性变成可选</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义">定义<a href="#定义" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Partial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在以上代码中，首先通过 <code>keyof T</code> 拿到 <code>T</code> 的所有属性名，然后使用 <code>in</code> 进行遍历，将值赋给 <code>P</code>，最后通过 <code>T[P]</code> 取得相应的属性值的类。中间的 <code>?</code> 号，用于将所有属性变为可选。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明">举例说明<a href="#举例说明" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">UserInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">id</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// error：Property &#x27;id&#x27; is missing in type &#x27;{ name: string; }&#x27; but required in type &#x27;UserInfo&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">xiaoming</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserInfo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;xiaoming&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>使用 <code>Partial&lt;T&gt;</code></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">NewUserInfo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">UserInfo</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">xiaoming</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">NewUserInfo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;xiaoming&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个 NewUserInfo 就相当于</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">NewUserInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  id</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>但是 <code>Partial&lt;T&gt;</code> 有个局限性，就是只支持处理第一层的属性，如果我的接口定义是这样的</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">UserInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">id</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">fruits</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">appleNumber</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">orangeNumber</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">NewUserInfo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">UserInfo</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// Property &#x27;appleNumber&#x27; is missing in type &#x27;{ orangeNumber: number; }&#x27; but required in type &#x27;{ appleNumber: number; orangeNumber: number; }&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">xiaoming</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">NewUserInfo</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;xiaoming&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">fruits</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token literal-property property">orangeNumber</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以看到，第二层以后就不会处理了，如果要处理多层，就可以自己实现</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deeppartial">DeepPartial<a href="#deeppartial" class="hash-link" aria-label="Direct link to DeepPartial" title="Direct link to DeepPartial">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">DeepPartial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token comment" style="color:#6A9955">// 如果是 object，则递归类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">U</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">U</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token maybe-class-name">DeepPartial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">U</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">U</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">PartialedWindow</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">DeepPartial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 现在T上所有属性都变成了可选啦</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required">Required<a href="#required" class="hash-link" aria-label="Direct link to Required" title="Direct link to Required">​</a></h3>
<blockquote>
<p>Required 将类型的属性变成必选</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-1">定义<a href="#定义-1" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Required</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">-</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其中 <code>-?</code> 是代表移除 <code>?</code> 这个 modifier 的标识。再拓展一下，除了可以应用于 <code>?</code> 这个 modifiers ，还有应用在 <code>readonly</code> ，比如 <code>Readonly&lt;T&gt;</code> 这个类型</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Readonly</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    readonly </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">p </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">p</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="readonly">Readonly<a href="#readonly" class="hash-link" aria-label="Direct link to Readonly" title="Direct link to Readonly">​</a></h3>
<blockquote>
<p><code>Readonly&lt;T&gt;</code> 的作用是将某个类型所有属性变为只读属性，也就意味着这些属性不能被重新赋值。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-2">定义<a href="#定义-2" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Readonly</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> readonly </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-1">举例说明<a href="#举例说明-1" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Todo</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">todo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Readonly</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">Todo</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Delete inactive users&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">todo</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">title</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Hello&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// Error: cannot reassign a readonly property</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pick">Pick<a href="#pick" class="hash-link" aria-label="Direct link to Pick" title="Direct link to Pick">​</a></h3>
<blockquote>
<p>Pick 从某个类型中挑出一些属性出来</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-3">定义<a href="#定义-3" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Pick</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-2">举例说明<a href="#举例说明-2" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Todo</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">description</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">completed</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">TodoPreview</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Pick</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">Todo</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;title&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;completed&quot;</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">todo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">TodoPreview</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Clean room&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">completed</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以看到 NewUserInfo 中就只有个 name 的属性了。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="record">Record<a href="#record" class="hash-link" aria-label="Direct link to Record" title="Direct link to Record">​</a></h3>
<blockquote>
<p><code>Record&lt;K extends keyof any, T&gt;</code> 的作用是将 <code>K</code> 中所有的属性的值转化为 <code>T</code> 类型。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-4">定义<a href="#定义-4" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">K</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">keyof</span><span class="token plain"> any</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-3">举例说明<a href="#举例说明-3" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">PageInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Page</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;home&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;about&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;contact&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">x</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">Page</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token maybe-class-name">PageInfo</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">about</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;about&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">contact</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;contact&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">home</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;home&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="returntype">ReturnType<a href="#returntype" class="hash-link" aria-label="Direct link to ReturnType" title="Direct link to ReturnType">​</a></h3>
<blockquote>
<p>用来得到一个函数的返回值类型</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-5">定义<a href="#定义-5" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">ReturnType</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#475569">[</span><span class="token parameter punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#475569">[</span><span class="token parameter punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> infer </span><span class="token constant" style="color:#0f172a">R</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">R</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> any</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>infer</code> 在这里用于提取函数类型的返回值类型。<code>ReturnType&lt;T&gt;</code> 只是将 infer R 从参数位置移动到返回值位置，因此此时 R 即是表示待推断的返回值类型。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-4">举例说明<a href="#举例说明-4" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token function-variable function maybe-class-name" style="color:#0e7490">Func</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter literal-property property">value</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">foo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">ReturnType</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">Func</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>ReturnType</code> 获取到 <code>Func</code> 的返回值类型为 <code>string</code>，所以，<code>foo</code> 也就只能被赋值为字符串了。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exclude">Exclude<a href="#exclude" class="hash-link" aria-label="Direct link to Exclude" title="Direct link to Exclude">​</a></h3>
<blockquote>
<p><code>Exclude&lt;T, U&gt;</code> 的作用是将某个类型中属于另一个的类型移除掉。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-6">定义<a href="#定义-6" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">U</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> never </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果 <code>T</code> 能赋值给 <code>U</code> 类型的话，那么就会返回 <code>never</code> 类型，否则返回 <code>T</code> 类型。最终实现的效果就是将 <code>T</code> 中某些属于 <code>U</code> 的类型移除掉。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-5">举例说明<a href="#举例说明-5" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">T0</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#475569">&lt;</span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// &quot;b&quot; | &quot;c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">T1</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#475569">&lt;</span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// &quot;c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">T2</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">string </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> number </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Function</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// string | number</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extract">Extract<a href="#extract" class="hash-link" aria-label="Direct link to Extract" title="Direct link to Extract">​</a></h3>
<blockquote>
<p><code>Extract&lt;T, U&gt;</code> 的作用是从 <code>T</code> 中提取出 <code>U</code>。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-7">定义<a href="#定义-7" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Extract</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">U</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> never</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-6">举例说明<a href="#举例说明-6" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">T0</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Extract</span><span class="token operator" style="color:#475569">&lt;</span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;f&quot;</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// &quot;a&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">T1</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Extract</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">string </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> number </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#0ea5e9">Function</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// () =&gt;void</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="omit">Omit<a href="#omit" class="hash-link" aria-label="Direct link to Omit" title="Direct link to Omit">​</a></h3>
<blockquote>
<p><code>Omit&lt;T, K extends keyof any&gt;</code> 的作用是使用 <code>T</code> 类型中除了 <code>K</code> 类型的所有属性，来构造一个新的类型。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-8">定义<a href="#定义-8" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Omit</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">keyof</span><span class="token plain"> any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Pick</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">keyof </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token operator" style="color:#475569">&gt;&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-7">举例说明<a href="#举例说明-7" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Todo</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">description</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">completed</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">TodoPreview</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Omit</span><span class="token operator" style="color:#475569">&lt;</span><span class="token maybe-class-name">Todo</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;description&quot;</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token literal-property property">todo</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token maybe-class-name">TodoPreview</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;Clean room&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token literal-property property">completed</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nonnullable">NonNullable<a href="#nonnullable" class="hash-link" aria-label="Direct link to NonNullable" title="Direct link to NonNullable">​</a></h3>
<blockquote>
<p><code>NonNullable&lt;T&gt;</code> 的作用是用来过滤类型中的 <code>null</code> 及 <code>undefined</code> 类型。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-9">定义<a href="#定义-9" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">NonNullable</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> extendsnull </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> never </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-8">举例说明<a href="#举例说明-8" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">T0</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">NonNullable</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">string </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> number </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// string | number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">T1</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">NonNullable</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#0c4a6e">null</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token keyword nil" style="color:#0c4a6e">undefined</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// string[]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h3>
<blockquote>
<p><code>Parameters&lt;T&gt;</code> 的作用是用于获得函数的参数类型组成的元组类型。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="定义-10">定义<a href="#定义-10" class="hash-link" aria-label="Direct link to 定义" title="Direct link to 定义">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter spread operator" style="color:#475569">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#475569">:</span><span class="token parameter"> infer </span><span class="token parameter constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> any</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> never</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="举例说明-9">举例说明<a href="#举例说明-9" class="hash-link" aria-label="Direct link to 举例说明" title="Direct link to 举例说明">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#475569">&lt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// []</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">typeofArray</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">isArray</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// [any]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">C</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">typeofparseInt</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// [string, (number | undefined)?]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">type </span><span class="token constant" style="color:#0f172a">D</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">typeofMath</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">max</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// number[]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>tsconfig.json 配置文件(TS -- 15)</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="生成-tsconfigjson-文件">生成 tsconfig.json 文件<a href="#生成-tsconfigjson-文件" class="hash-link" aria-label="Direct link to 生成 tsconfig.json 文件" title="Direct link to 生成 tsconfig.json 文件">​</a></h2>
<blockquote>
<p>这个文件是通过 <code>tsc --init</code> 命令生成的</p>
<p>tsconfig.json 是 TypeScript 项目的配置文件。如果一个目录下存在一个 tsconfig.json 文件，那么往往意味着这个目录就是 TypeScript 项目的根目录。</p>
<p>tsconfig.json 包含 TypeScript 编译的相关配置，通过更改编译配置项，我们可以让 TypeScript 编译出 ES6、ES5、node 的代码。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置详解">配置详解<a href="#配置详解" class="hash-link" aria-label="Direct link to 配置详解" title="Direct link to 配置详解">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;incremental&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// TS编译器在第一次编译之后会生成一个存储编译信息的文件，第二次编译会在第一次的基础上进行增量编译，可以提高编译的速度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;tsBuildInfoFile&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./buildFile&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 增量编译文件的存储位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;diagnostics&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 打印诊断信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;target&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ES5&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 目标语言的版本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;module&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;CommonJS&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 生成代码的模板标准</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;outFile&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./app.js&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 将多个相互依赖的文件生成一个文件，可以用在AMD模块中，即开启时应设置&quot;module&quot;: &quot;AMD&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;lib&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;DOM&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ES2015&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ScriptHost&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ES2019.Array&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// TS需要引用的库，即声明文件，es5 默认引用dom、es5、scripthost,如需要使用es的高级版本特性，通常都需要配置，如es8的数组新特性需要引入&quot;ES2019.Array&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;allowJS&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 允许编译器编译JS，JSX文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;checkJs&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 允许在JS文件中报错，通常与allowJS一起使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;outDir&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./dist&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 指定输出目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;rootDir&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 指定输出文件目录(用于输出)，用于控制输出目录结构</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;declaration&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 生成声明文件，开启后会自动生成声明文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;declarationDir&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./file&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 指定生成声明文件存放目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;emitDeclarationOnly&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 只生成声明文件，而不会生成js文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;sourceMap&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 生成目标文件的sourceMap文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;inlineSourceMap&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 生成目标文件的inline SourceMap，inline SourceMap会包含在生成的js文件中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;declarationMap&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 为声明文件生成sourceMap</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;typeRoots&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 声明文件目录，默认时node_modules/@types</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;types&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 加载的声明文件包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;removeComments&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 删除注释</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noEmit&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 不输出文件,即编译后不会生成任何js文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noEmitOnError&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 发送错误时不输出任何文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noEmitHelpers&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 不生成helper函数，减小体积，需要额外安装，常配合importHelpers一起使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;importHelpers&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 通过tslib引入helper函数，文件必须是模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;downlevelIteration&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 降级遍历器实现，如果目标源是es3/5，那么遍历器会有降级的实现</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;strict&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 开启所有严格的类型检查</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;alwaysStrict&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 在代码中注入&#x27;use strict&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noImplicitAny&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 不允许隐式的any类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;strictNullChecks&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 不允许把null、undefined赋值给其他类型的变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;strictFunctionTypes&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 不允许函数参数双向协变</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;strictPropertyInitialization&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 类的实例属性必须初始化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;strictBindCallApply&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 严格的bind/call/apply检查</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noImplicitThis&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 不允许this有隐式的any类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noUnusedLocals&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 检查只声明、未使用的局部变量(只提示不报错)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noUnusedParameters&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 检查未使用的函数参数(只提示不报错)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 防止switch语句贯穿(即如果没有break语句后面不会执行)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;noImplicitReturns&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//每个分支都会有返回值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;esModuleInterop&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 允许export=导出，由import from 导入</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;allowUmdGlobalAccess&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 允许在模块中全局变量的方式访问umd模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;moduleResolution&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;node&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 模块解析策略，ts默认用node的解析策略，即相对的方式导入</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 解析非相对模块的基地址，默认是当前目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;paths&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 路径映射，相对于baseUrl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// 如使用jq时不想使用默认版本，而需要手动指定版本，可进行如下配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;jquery&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;node_modules/jquery/dist/jquery.min.js&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;rootDirs&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;src&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&quot;out&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 将多个目录放在一个虚拟目录下，用于运行时，即编译后引入文件的位置可能发生变化，这也设置可以虚拟src和out在同一个目录下，不用再去改变路径也不会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;listEmittedFiles&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">// 打印输出文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;listFiles&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token comment" style="color:#6A9955">// 打印编译的文件(包括引用的声明文件)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 指定一个匹配列表（属于自动指定该路径下的所有ts相关文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token string-property property">&quot;include&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token string" style="color:#64748b">&quot;src/**/*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 指定一个排除列表（include的反向操作）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token string-property property">&quot;exclude&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token string" style="color:#64748b">&quot;demo.ts&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 指定哪些文件使用该配置（属于手动一个个指定文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token string-property property">&quot;files&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token string" style="color:#64748b">&quot;demo.ts&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>上面的配置详解有点繁杂，我们或许可以将其分类一下</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置分类compileroptions-选项">配置分类(compilerOptions 选项)<a href="#配置分类compileroptions-选项" class="hash-link" aria-label="Direct link to 配置分类(compilerOptions 选项)" title="Direct link to 配置分类(compilerOptions 选项)">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* 基本选项 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;target&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;es5&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 指定 ECMAScript 目标版本: &#x27;ES3&#x27; (default), &#x27;ES5&#x27;, &#x27;ES6&#x27;/&#x27;ES2015&#x27;, &#x27;ES2016&#x27;, &#x27;ES2017&#x27;, or &#x27;ESNEXT&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;module&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;commonjs&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                  </span><span class="token comment" style="color:#6A9955">// 指定使用模块: &#x27;commonjs&#x27;, &#x27;amd&#x27;, &#x27;system&#x27;, &#x27;umd&#x27; or &#x27;es2015&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;lib&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                             </span><span class="token comment" style="color:#6A9955">// 指定要包含在编译中的库文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;allowJs&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 允许编译 javascript 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;checkJs&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 报告 javascript 文件中的错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;jsx&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;preserve&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                     </span><span class="token comment" style="color:#6A9955">// 指定 jsx 代码的生成: &#x27;preserve&#x27;, &#x27;react-native&#x27;, or &#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;declaration&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                   </span><span class="token comment" style="color:#6A9955">// 生成相应的 &#x27;.d.ts&#x27; 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;sourceMap&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                     </span><span class="token comment" style="color:#6A9955">// 生成相应的 &#x27;.map&#x27; 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;outFile&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 将输出文件合并为一个文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;outDir&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                        </span><span class="token comment" style="color:#6A9955">// 指定输出目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rootDir&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 用来控制输出目录结构 --outDir.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;removeComments&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                </span><span class="token comment" style="color:#6A9955">// 删除编译后的所有的注释</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;noEmit&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                        </span><span class="token comment" style="color:#6A9955">// 不生成输出文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;importHelpers&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                 </span><span class="token comment" style="color:#6A9955">// 从 tslib 导入辅助工具函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;isolatedModules&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">               </span><span class="token comment" style="color:#6A9955">// 将每个文件做为单独的模块 （与 &#x27;ts.transpileModule&#x27; 类似）.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* 严格的类型检查选项 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;strict&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                        </span><span class="token comment" style="color:#6A9955">// 启用所有严格类型检查选项</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;noImplicitAny&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                 </span><span class="token comment" style="color:#6A9955">// 在表达式和声明上有隐含的 any类型时报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;strictNullChecks&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">              </span><span class="token comment" style="color:#6A9955">// 启用严格的 null 检查</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;noImplicitThis&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                </span><span class="token comment" style="color:#6A9955">// 当 this 表达式值为 any 类型的时候，生成一个错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;alwaysStrict&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                  </span><span class="token comment" style="color:#6A9955">// 以严格模式检查每个模块，并在每个文件里加入 &#x27;use strict&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* 额外的检查 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;noUnusedLocals&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                </span><span class="token comment" style="color:#6A9955">// 有未使用的变量时，抛出错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;noUnusedParameters&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 有未使用的参数时，抛出错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;noImplicitReturns&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">             </span><span class="token comment" style="color:#6A9955">// 并不是所有函数里的代码都有返回值时，抛出错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// 报告 switch 语句的 fallthrough 错误。（即，不允许 switch 的 case 语句贯穿）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* 模块解析选项 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;moduleResolution&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;node&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 选择模块解析策略： &#x27;node&#x27; (Node.js) or &#x27;classic&#x27; (TypeScript pre-1.6)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 用于解析非相对模块名称的基目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;paths&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                           </span><span class="token comment" style="color:#6A9955">// 模块名到基于 baseUrl 的路径映射的列表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rootDirs&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                        </span><span class="token comment" style="color:#6A9955">// 根文件夹列表，其组合内容表示项目运行时的结构内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;typeRoots&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 包含类型声明的文件列表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;types&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                           </span><span class="token comment" style="color:#6A9955">// 需要包含的类型声明文件名列表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">  </span><span class="token comment" style="color:#6A9955">// 允许从没有设置默认导出的模块中默认导入。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Source Map Options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;sourceRoot&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                    </span><span class="token comment" style="color:#6A9955">// 指定调试器应该找到 TypeScript 文件而不是源文件的位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;mapRoot&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                       </span><span class="token comment" style="color:#6A9955">// 指定调试器应该找到映射文件而不是生成文件的位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;inlineSourceMap&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">               </span><span class="token comment" style="color:#6A9955">// 生成单个 soucemaps 文件，而不是将 sourcemaps 生成不同的文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;inlineSources&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                 </span><span class="token comment" style="color:#6A9955">// 将代码与 sourcemaps 生成到一个文件中，要求同时设置了 --inlineSourceMap 或 --sourceMap 属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* 其他选项 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;experimentalDecorators&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// 启用装饰器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;emitDecoratorMetadata&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain">          </span><span class="token comment" style="color:#6A9955">// 为装饰器提供元数据的支持</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用的配置">常用的配置<a href="#常用的配置" class="hash-link" aria-label="Direct link to 常用的配置" title="Direct link to 常用的配置">​</a></h3>
<ul>
<li>
<p>终端命令</p>
<ul>
<li>
<p>echo &#x27;&#x27;&gt;index.ts(创建一个空的名叫 index.ts 的文件)</p>
</li>
<li>
<p>tsc -init(创建一个 tsconfig.json)</p>
</li>
<li>
<p>del index.js(删除名叫 index.js 文件)</p>
</li>
<li>
<p>mkdir dist(创建一个名叫 dist 的文件夹)</p>
</li>
<li>
<p>tsc(运行)</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<h1>1.include</h1>
<p>指定编译文件默认是编译当前目录下所有的 ts 文件</p>
</blockquote>
<ul>
<li>这个是在中括号中填入路径，路径指向的那个 ts 文件会被编译出一个 js 文件出来。这个我们就可以用来编译指定文件</li>
</ul>
<blockquote>
<h1>2.exclude</h1>
<p>指定排除的文件</p>
</blockquote>
<ul>
<li>跟<code>include</code>反过来了，除了写入的路径之外，其他全部编译</li>
</ul>
<blockquote>
<h1>3.target</h1>
<p>指定编译 js 的版本例如 es5 es6</p>
</blockquote>
<ul>
<li>有些低配置的浏览器是不兼容 es6 的，这个时候我们就可以将其编译成 es5 使其适配</li>
</ul>
<blockquote>
<h1>4.allowJS</h1>
<p>是否允许编译 js 文件</p>
</blockquote>
<ul>
<li>是否允许 TypeScript 帮你编译 js 文件，默认是不允许的</li>
</ul>
<blockquote>
<h1>5.removeComments</h1>
<p>是否在编译过程中删除文件中的注释</p>
</blockquote>
<blockquote>
<h1>6.rootDir</h1>
<p>编译文件的目录</p>
</blockquote>
<blockquote>
<h1>7.outDir</h1>
<p>输出的目录</p>
</blockquote>
<ul>
<li>改变输出的目录，也就是编译后输出到这里设置的文件夹目录中</li>
</ul>
<blockquote>
<h1>8.sourceMap</h1>
<p>代码源文件</p>
</blockquote>
<ul>
<li>这个文件会打包压缩成一行，sourceMap 会记录行数，到时候会比较好找</li>
</ul>
<blockquote>
<h1>9.strict</h1>
<p>严格模式</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="严格模式的限制">严格模式的限制<a href="#严格模式的限制" class="hash-link" aria-label="Direct link to 严格模式的限制" title="Direct link to 严格模式的限制">​</a></h4>
<ul>
<li>
<p>严格模式主要有以下限制：</p>
<ul>
<li>变量必须声明后再使用</li>
<li>函数的参数不能有同名属性，否则报错</li>
<li>不能使用 with 语句</li>
<li>不能对只读属性赋值，否则报错</li>
<li>不能使用前缀 0 表示八进制数，否则报错</li>
<li>不能删除不可删除的属性，否则报错</li>
<li>不能删除变量 delete prop，会报错，只能删除属性 delete global [prop]</li>
<li>eval 不会在它的外层作用域引入变量</li>
<li>eval 和 arguments 不能被重新赋值</li>
<li>arguments 不会自动反映函数参数的变化</li>
<li>不能使用 arguments.callee</li>
<li>不能使用 arguments.caller</li>
<li>禁止 this 指向全局对象</li>
<li>不能使用 fn.caller 和 fn.arguments 获取函数调用的堆栈</li>
<li>增加了保留字（比如 protected、static 和 interface）</li>
</ul>
<p>要注意 this 的限制。ES6 模块之中，顶层的 this 指向 undefined，即不应该在顶层代码使用 this。</p>
</li>
</ul>
<blockquote>
<h1>10.module</h1>
<p>默认 common.js 可选 es6 模式 amd umd 等</p>
</blockquote>
<h1>namespace 命名空间(TS -- 16)</h1>
<p>我们在工作中无法避免<code>全局变量</code>造成的污染，TypeScript 提供了 namespace 避免这个问题出现</p>
<ul>
<li>内部模块，主要用于组织代码，避免命名冲突。</li>
<li>命名空间内的类默认私有</li>
<li>通过 <code>export</code> 暴露</li>
<li>通过 <code>namespace</code> 关键字定义</li>
</ul>
<blockquote>
<p>TypeScript 与 ECMAScript 2015 一样，任何包含顶级 <code>import</code> 或者 <code>export</code> 的文件都被当成一个模块。相反地，如果一个文件不带有顶级的 <code>import</code> 或者 <code>export</code> 声明，那么它的内容被视为全局可见的（因此对模块也是可见的）</p>
</blockquote>
<blockquote>
<p><code>命名空间</code>中通过 <code>export</code> 将想要暴露的部分导出</p>
<p>如果不用 export 导出是无法读取其值的</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> a </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> Time</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1000</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> fn </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Time</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> b </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> Time</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1000</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> fn </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arg</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Time</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">a</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Time</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">b</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Time</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>案例</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//文件1与文件2位于同一文件夹下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//文件1 =&gt; index.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> aa </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">23</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//文件3 =&gt; index2.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> aa </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">66</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//此时就会报错，因为我们在文件1已经声明过aa了</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//文件1 =&gt; index.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> aa </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">23</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//文件2 =&gt; index.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> aa </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">66</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//不会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//要读取的话怎么做呢？此时在文件1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//像使用对象一样。实际上也确实包了一层对象</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>实际编译成 js 文件的样子</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token string" style="color:#64748b">&quot;use strict&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token parameter constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token console class-name" style="color:#0ea5e9">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token method function property-access" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//到此js文件所在目录下使用node index.js运行，输出1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="嵌套命名空间">嵌套命名空间<a href="#嵌套命名空间" class="hash-link" aria-label="Direct link to 嵌套命名空间" title="Direct link to 嵌套命名空间">​</a></h2>
<blockquote>
<p>就是提取内容的时候需要多.几次。比如下方，原本只需要 a.b，现在需要 a.b.value</p>
<p>编译成 js 文件的话，就是在 function 又套了一层</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> a </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> b </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Vue</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      parameters</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">parameters</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">parameters </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> v </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> a</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">b</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Vue</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">v</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;1&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="抽离命名空间">抽离命名空间<a href="#抽离命名空间" class="hash-link" aria-label="Direct link to 抽离命名空间" title="Direct link to 抽离命名空间">​</a></h2>
<blockquote>
<p>将命名空间的内容抽离出来，通过 import 引入到其他文件中使用</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//在index2.ts文件下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">expost </span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//在index.ts文件下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> xx </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&#x27;./index2.ts&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">D</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">D</span><span class="token punctuation" style="color:#475569">,</span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//将B抽离成了文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//将此文件用dsc进行终端编译，然后在tscondig.json将module修改为CommonJs(node.js不认识defined，node.js是基于CommonJS的)，进去js文件夹、终端运行node index</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="简化命名空间">简化命名空间<a href="#简化命名空间" class="hash-link" aria-label="Direct link to 简化命名空间" title="Direct link to 简化命名空间">​</a></h2>
<blockquote>
<p>可以给命名空间路径起个名字，然后直接使用这个名字就可以代替命名空间路径了</p>
<p>这个是不能够在 ts-node 的环境下去使用的</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//在index2.ts文件下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">expost </span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//在index.ts文件下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> xx </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&#x27;./index2.ts&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">D</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">D</span><span class="token punctuation" style="color:#475569">,</span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//将B抽离成了文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">AAA</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">AAA</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//起到跟A.C.D一样的作用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">AAA</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">C</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">AAA</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">D</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//起到跟A.C.D一样的作用</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="命名空间的合并">命名空间的合并<a href="#命名空间的合并" class="hash-link" aria-label="Direct link to 命名空间的合并" title="Direct link to 命名空间的合并">​</a></h2>
<blockquote>
<p>如果命名空间的命名一样的话(重名)，会自动合并</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//案例1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> b </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> d </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//案例2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> b </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> d </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//案例1跟案例2是一模一样的，会自动合并</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>三斜线指令(TS -- 17)</h1>
<blockquote>
<p>三斜线指令是包含单个<code>XML</code>标签的单行注释。 注释的内容会做为编译器指令使用。</p>
<p>三斜线指令<em>仅</em>可放在包含它的文件的最顶端。 一个三斜线指令的前面只能出现单行或多行注释，这包括其它的三斜线指令。 如果它们出现在一个语句或声明之后，那么它们会被当做普通的单行注释，并且不具有特殊的涵义。</p>
<p><code>/// &lt;reference path=&quot;...&quot; /&gt;</code>指令是三斜线指令中最常见的一种。 它用于声明文件间的 <em>依赖</em>。</p>
<p>三斜线引用告诉<code>编译器</code>在编译过程中要引入的额外的文件。也可以认为是另一个 import</p>
<p>你也可以把它理解能 <code>import</code>，它可以告诉编译器在编译过程中要引入的额外的文件</p>
<p>相较于抽离命名空间。范围更广，将整个文件都抽离出来了。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//在a.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">fn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//在b.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">fn2</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//在index.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">///&lt;reference path=&quot;./index2.ts&quot; /&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">///&lt;reference path=&quot;./index3.ts&quot; /&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//引入之后直接可以使用变量 A</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>这个时候小满将 outFile 打开了，这个的作用是：将输出文件合并为一个文件，并编译到指定的路径中</p>
<p>这个时候<reference path="./index2.ts">样式的还在</reference></p>
<p>这个时候，我们再打开 removeComments，他的作用是：删除编译后的所有的注释</p>
<p>编译好后，那些样式就不在了</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="引入声明文件">引入声明文件<a href="#引入声明文件" class="hash-link" aria-label="Direct link to 引入声明文件" title="Direct link to 引入声明文件">​</a></h2>
<blockquote>
<p>例如，把 <code>/// &lt;reference types=&quot;node&quot; /&gt;</code> 引入到声明文件，表明这个文件使用了 <code>@types/node/index.d.ts</code> 里面声明的名字； 并且，这个包需要在编译阶段与声明文件一起被包含进来。</p>
<p>仅当在你需要写一个 <code>d.ts</code> 文件时才使用这个指令。</p>
<p>使用的话，需要将声明文件装起来(npm install @types/node -D)</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">///&lt;reference types=&quot;node&quot; /&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//这个node文件他会自己去找</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>声明文件 d.ts(TS -- 18)</h1>
<blockquote>
<p>声明文件 declare</p>
<p>当使用<code>第三方库</code>时，我们需要引用它的声明文件，才能获得对应的代码补全、接口提示等功能。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain">       声明全局变量</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain">  声明全局方法</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain">     </span><span class="token class-name" style="color:#0ea5e9">声明全局类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">enum</span><span class="token plain">      声明全局枚举类型</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">namespace</span><span class="token plain"> 声明（含有子属性的）全局对象</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">和</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">声明全局类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">/// &lt;reference /&gt; 三斜线指令</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>先：npm init -y</p>
<p>npm init -y 在文件夹下生成默认的 package.json 文件，使用命令生成的 package.json 文件内容与不使用命令生产的不一样</p>
<p>后：npm install express -S 正式线安装</p>
<p>npm install axios</p>
</blockquote>
<ul>
<li>从 node_modules 的 axios 的 package.json 可以发现 types:&quot;index.d.ts&quot;，可以发现声明文件已经被指定了
<ul>
<li>我们在去看 index.d.ts 文件可以看到最后通过 declare 将其导出了</li>
</ul>
</li>
<li>在引入使用的时候，发现 express 在引入的时候爆红了
<ul>
<li>同样的在 node_nodules 可以找到 express 中的 package.json，发现他根本没有 types，也就是说没有指定声明文件。所以才会有爆红的这个问题</li>
<li>我们可以在根目录下创建一个 express.d.ts 文件</li>
<li>在文件中写入<code>declare var express:() =&gt; any</code></li>
<li>这个时候，我们在使用 express 的时候，就发现可以使用了<code>express()</code>，不会爆红了</li>
<li>另一种方法就是按照提示去装包，然后去 tsconfig.json 去导出一下<code>&quot;allowSyntheticDefaultImports&quot;:true</code>进行补全</li>
</ul>
</li>
</ul>
<p><a href="https://www.npmjs.com/~types?activeTab=packages" target="_blank" rel="noopener noreferrer">npm 收录包大全</a></p>
<h1>Mixins 混入(TS -- 19)</h1>
<blockquote>
<p>TypeScript 混入 Mixins 其实 vue 也有 mixins 这个东西 你可以把他看作为合并</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="对象混入">对象混入<a href="#对象混入" class="hash-link" aria-label="Direct link to 对象混入" title="Direct link to 对象混入">​</a></h2>
<blockquote>
<p>可以使用 <code>ES6</code> 的 Object.assign 合并多个对象</p>
<p>此时 people 会被推断成一个交差类型 Name &amp; Age &amp; sex;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="objectassign">Object.assign()<a href="#objectassign" class="hash-link" aria-label="Direct link to Object.assign()" title="Direct link to Object.assign()">​</a></h3>
<ul>
<li>Object.assign () 这个方法来实现浅复制</li>
<li>主要的用途是用来合并多个 JavaScript 的对象</li>
<li>Object.assign () 接口可以接收多个参数，第一个参数是目标对象，后面的都是源对象，assign 方法将多个原对象的属性和方法都合并到了目标对象上面，如果在这个过程中出现同名的属性（方法），后合并的属性（方法）会覆盖之前的同名属性（方法）</li>
<li>Object.assign 拷贝的属性是有限制的，只会拷贝对象本身的属性（不会拷贝继承属性），也不会拷贝不可<a href="https://so.csdn.net/so/search?q=%E6%9E%9A%E4%B8%BE&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">枚举</a>的属性</li>
<li>Object.assign 不会跳过那些值为 [null] 或 [undefined] 的源对象</li>
</ul>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Name</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Age</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Sex</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  sex</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> people1</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> people2</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> people3</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Sex </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> sex</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//Object.assign(a,b,c)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> people </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">assign</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">people1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> people2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> people3</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="类的混入">类的混入<a href="#类的混入" class="hash-link" aria-label="Direct link to 类的混入" title="Direct link to 类的混入">​</a></h2>
<blockquote>
<p>首先声明两个 mixins 类 （严格模式要关闭不然编译不过）</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//混入类</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    type</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">changeType</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">type </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">!</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">type</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">getName</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//实现类	首先应该注意到的是，没使用 extends 而是使用 implements。 把类当成了接口。我们可以这么做来达到目的，为将要 mixin 进来的属性方法创建出占位属性。 这告诉编译器这些成员在运行时是可用的。 这样就能使用 mixin 带来的便利，虽说需要提前定义一些占位属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">C</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">implements</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">,</span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//这个时候编辑器会给出提示类&quot;C&quot;错误实现&quot;A&quot;。你是想扩展&quot;A&quot;并将其成员作为子继承吗？</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//类型&quot;C&quot;缺少类型&quot;A&quot;中的以下属性:type,changeType</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//B类同理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//这个时候就需要我们提前定义占位符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    type</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小余&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function-variable function" style="color:#0e7490">changeType</span><span class="token operator" style="color:#475569">:</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function-variable function" style="color:#0e7490">getName</span><span class="token operator" style="color:#475569">:</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token function" style="color:#0e7490">mixins</span><span class="token punctuation" style="color:#475569">(</span><span class="token constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">,</span><span class="token constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//第一个为目标对象，后面为要混入的对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//最后，创建这个帮助函数，帮我们做混入操作。 它会遍历 mixins 上的所有属性，并复制到目标上去，把之前的占位属性替换成真正的实现代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//帮助函数，把我们在实现类中写的去进行一个实现</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">function</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">mixins</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">curClas</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">itemCls</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    itemCls</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">forEach</span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">item</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//输出[class A][class B]，我们要读取的不是这个，而是他原型上的一些属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Object</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getOwnPropertyNames</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">forEach</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//Object.getOwnPropertyNames () 可以获取对象自身的属性，除去他继承来的属性，对它所有的属性遍历，它是一个数组，遍历一下它所有的属性名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//打印出来了changeType跟getName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            curClas</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> ccc </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">C</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//实例化一下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">ccc</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">ccc</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">changeType</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//这里切换了布尔值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">ccc</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token comment" style="color:#6A9955">//true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>装饰器 Decorator(TS -- 20)</h1>
<blockquote>
<p>Decorator <a href="https://so.csdn.net/so/search?q=%E8%A3%85%E9%A5%B0%E5%99%A8&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">装饰器</a>是一项实验性特性，在未来的版本中可能会发生改变</p>
<p>它们不仅增加了代码的可读性，清晰地表达了意图，而且提供一种方便的手段，增加或修改类的功能</p>
<p>若要启用实验性的装饰器特性，你必须在<code>命令行</code>或 <code>tsconfig.json</code> 里启用<code>编译器</code>选项</p>
<p>启用的名字叫<code>experimentalDecorators</code></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="装饰器">装饰器<a href="#装饰器" class="hash-link" aria-label="Direct link to 装饰器" title="Direct link to 装饰器">​</a></h2>
<blockquote>
<p><em>装饰器</em>是一种特殊类型的声明，它能够被附加到类声明、方法、访问符、属性或者参数上</p>
<p>通过<code>@</code>语法糖实现</p>
<p>使用方法：对于这个的实现我认为就是定义好了之后直接盖在你想对其使用目标的头顶上</p>
</blockquote>
<ul>
<li>以下两个代码块的 watcher 都是不支持传参的</li>
</ul>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> watcher</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">ClassDecorator</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">watcher</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//通过@去使用，会回传一个构造函数，也就是target</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//通过ts-node xxx打印出来的结果为[class A]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>知识点复习：</p>
<p>prototype 对象是实现面向对象的一个重要机制。每个函数也是一个对象，它们对应的类就是 function，每个函数对象都具有一个子对象 prototype。</p>
<p>Prototype 表示了该函数的原型，prototype 表示了一个类的属性的集合。当通过 new 来生成一个类的对象时，prototype 对象的属性就会成为实例化对象的属性。</p>
<p><a href="https://zhuanlan.zhihu.com/p/523215502" target="_blank" rel="noopener noreferrer">Prototype 与 prototype 的区别</a></p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> watcher</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">ClassDecorator</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">getName </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">watcher</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">a</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getName</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//会报类型&quot;A&quot;上不存在属性&quot;getName&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//(&lt;any&gt;a).getName()//我们将其断言成any类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getName</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满深夜骑单车&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//对其进行使用，输出 小满深夜骑单车</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">watcher</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> b </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getname</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;666&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//也是可以的</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="装饰器工厂">装饰器工厂<a href="#装饰器工厂" class="hash-link" aria-label="Direct link to 装饰器工厂" title="Direct link to 装饰器工厂">​</a></h2>
<ul>
<li>支持传参的写法</li>
</ul>
<blockquote>
<p>我认为其实就是多了一层壳，这层壳用来接收@watcher 的参数。里面 return 的那一层再用来接收 class A 这个构造器</p>
<p>其实也就是一个高阶函数 外层的函数接受值 里层的函数最终接受类的构造函数</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> watcher </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">=</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain">ClassDecorator </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">getNames </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">getOptions </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">watcher</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小余的笔记&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain">a</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getNames</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//返回 小余的笔记</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="装饰器组合">装饰器组合<a href="#装饰器组合" class="hash-link" aria-label="Direct link to 装饰器组合" title="Direct link to 装饰器组合">​</a></h2>
<blockquote>
<p>就是可以使用多个装饰器</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955">//装饰器组合组合</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> watcher </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> ClassDecorator </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token function-variable function" style="color:#0e7490">getName</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> log</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">ClassDecorator</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">213</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">log</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">watcher</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> watcher </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> ClassDecorator </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">getParams </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">params</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> params</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">getOptions </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> watcher2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> ClassDecorator </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    target</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">getNames </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">watcher2</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;name2&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">watcher</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getOptions</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">a </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">getNames</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="方法装饰器">方法装饰器<a href="#方法装饰器" class="hash-link" aria-label="Direct link to 方法装饰器" title="Direct link to 方法装饰器">​</a></h2>
<blockquote>
<p>返回三个参数</p>
<ol>
<li>对于静态成员来说是类的构造函数，对于实例成员是类的原型对象。</li>
<li>成员的名字。</li>
<li>成员的<em>属性描述符</em>。</li>
</ol>
<p>相当于抽离出来，在类中引用进去，这样可以在不同的类中引用</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token punctuation" style="color:#475569">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string" style="color:#64748b">&#x27;setParasm&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    value</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> setParasm</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    writable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    enumerable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    configurable</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> met</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">MethodDecorator</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">met</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">getName</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="属性装饰器">属性装饰器<a href="#属性装饰器" class="hash-link" aria-label="Direct link to 属性装饰器" title="Direct link to 属性装饰器">​</a></h2>
<blockquote>
<p>返回两个参数</p>
<ol>
<li>对于静态成员来说是类的构造函数，对于实例成员是类的原型对象。</li>
<li>属性的名字。</li>
</ol>
<p>[ {}, &#x27;name&#x27;, undefined ]</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> met</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">PropertyDecorator</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">met</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参数装饰器">参数装饰器<a href="#参数装饰器" class="hash-link" aria-label="Direct link to 参数装饰器" title="Direct link to 参数装饰器">​</a></h2>
<p>返回三个参数</p>
<ol>
<li>对于静态成员来说是类的构造函数，对于实例成员是类的原型对象。</li>
<li>成员的名字。</li>
<li>参数在函数参数列表中的索引。</li>
</ol>
<p>[ {}, &#x27;setParasm&#x27;, 0 ]</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> met</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">ParameterDecorator</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token function" style="color:#0e7490">setParasm</span><span class="token punctuation" style="color:#475569">(</span><span class="token decorator at operator" style="color:#475569">@</span><span class="token decorator function" style="color:#0e7490">met</span><span class="token plain"> name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;213&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> a </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Rollup 构建 TS 项目(TS -- 21)</h1>
<blockquote>
<p>由于我使用的是 vite 打包工具，那这个视频是属于过一遍的程度，本章节内容将直接把小满在 CSDN 的文章 copy 过来</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rollup-构建-ts-项目">Rollup 构建 TS 项目<a href="#rollup-构建-ts-项目" class="hash-link" aria-label="Direct link to Rollup 构建 TS 项目" title="Direct link to Rollup 构建 TS 项目">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装依赖">安装依赖<a href="#安装依赖" class="hash-link" aria-label="Direct link to 安装依赖" title="Direct link to 安装依赖">​</a></h3>
<ol>
<li>
<p>全局安装 rollup <strong>npm install rollup-g</strong></p>
</li>
<li>
<p>安装 TypeScript npm install typescript -D</p>
</li>
<li>
<p>安装 TypeScript 转换器 npm install rollup-plugin-typescript2 -D</p>
</li>
<li>
<p>安装代码压缩插件 npm install rollup-plugin-terser -D</p>
</li>
<li>
<p>安装 rollupweb 服务 npm install rollup-plugin-serve -D</p>
</li>
<li>
<p>安装<a href="https://so.csdn.net/so/search?q=%E7%83%AD%E6%9B%B4%E6%96%B0&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">热更新</a> npm install rollup-plugin-livereload -D</p>
</li>
<li>
<p>引入外部依赖 npm install rollup-plugin-node-resolve -D</p>
</li>
<li>
<p>安装配置环境变量用来区分本地和生产 npm install cross-env -D</p>
</li>
<li>
<p>替换环境变量给浏览器使用 npm install rollup-plugin-replace -D</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置-json-文件">配置 json 文件<a href="#配置-json-文件" class="hash-link" aria-label="Direct link to 配置 json 文件" title="Direct link to 配置 json 文件">​</a></h3>
<p>npm init -y</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;name&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;rollupTs&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;version&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;1.0.0&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;description&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;main&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;index.js&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;test&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;dev&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;cross-env NODE_ENV=development  rollup -c -w&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;build&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;cross-env NODE_ENV=produaction  rollup -c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;keywords&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;author&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;license&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ISC&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;devDependencies&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;cross-env&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^7.0.3&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rollup-plugin-livereload&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^2.0.5&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rollup-plugin-node-resolve&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^5.2.0&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rollup-plugin-replace&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^2.2.0&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rollup-plugin-serve&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^1.1.0&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rollup-plugin-terser&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^7.0.2&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;rollup-plugin-typescript2&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^0.31.1&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;typescript&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;^4.5.5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置-rollup-文件">配置 rollup 文件<a href="#配置-rollup-文件" class="hash-link" aria-label="Direct link to 配置 rollup 文件" title="Direct link to 配置 rollup 文件">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> ts </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;rollup-plugin-typescript2&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> path </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;path&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> serve </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;rollup-plugin-serve&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> livereload </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;rollup-plugin-livereload&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"> terser </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;rollup-plugin-terser&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> resolve </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;rollup-plugin-node-resolve&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">import</span><span class="token plain"> repacle </span><span class="token keyword" style="color:#0c4a6e">from</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;rollup-plugin-replace&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">isDev</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> process</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">NODE_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;development&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">export</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  input</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./src/main.ts&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  output</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    file</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">resolve</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./lib/index.js&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    format</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;umd&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    sourcemap</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  plugins</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">ts</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">terser</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      compress</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        drop_console</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token operator" style="color:#475569">!</span><span class="token function" style="color:#0e7490">isDev</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">repacle</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token string-property property">&quot;process.env.NODE_ENV&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">JSON</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">stringify</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#475569">.</span><span class="token constant" style="color:#0f172a">NODE_ENV</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">resolve</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;.js&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;.ts&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">isDev</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">livereload</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">isDev</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token function" style="color:#0e7490">serve</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        open</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        openPage</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;/public/index.html&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置-tsconfigjson">配置 tsconfig.json<a href="#配置-tsconfigjson" class="hash-link" aria-label="Direct link to 配置 tsconfig.json" title="Direct link to 配置 tsconfig.json">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Visit https://aka.ms/tsconfig.json to read more about this file */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Projects */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;incremental&quot;: true,                              /* Enable incremental compilation */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;composite&quot;: true,                                /* Enable constraints that allow a TypeScript project to be used with project references. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;tsBuildInfoFile&quot;: &quot;./&quot;,                          /* Specify the folder for .tsbuildinfo incremental compilation files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;disableSourceOfProjectReferenceRedirect&quot;: true,  /* Disable preferring source files instead of declaration files when referencing composite projects */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;disableSolutionSearching&quot;: true,                 /* Opt a project out of multi-project reference checking when editing. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;disableReferencedProjectLoad&quot;: true,             /* Reduce the number of projects loaded automatically by TypeScript. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Language and Environment */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;target&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;es5&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                                  </span><span class="token comment" style="color:#6A9955">/* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;lib&quot;: [],                                        /* Specify a set of bundled library declaration files that describe the target runtime environment. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;jsx&quot;: &quot;preserve&quot;,                                /* Specify what JSX code is generated. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;experimentalDecorators&quot;: true,                   /* Enable experimental support for TC39 stage 2 draft decorators. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;emitDecoratorMetadata&quot;: true,                    /* Emit design-type metadata for decorated declarations in source files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;jsxFactory&quot;: &quot;&quot;,                                 /* Specify the JSX factory function used when targeting React JSX emit, e.g. &#x27;React.createElement&#x27; or &#x27;h&#x27; */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;jsxFragmentFactory&quot;: &quot;&quot;,                         /* Specify the JSX Fragment reference used for fragments when targeting React JSX emit e.g. &#x27;React.Fragment&#x27; or &#x27;Fragment&#x27;. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;jsxImportSource&quot;: &quot;&quot;,                            /* Specify module specifier used to import the JSX factory functions when using `jsx: react-jsx*`.` */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;reactNamespace&quot;: &quot;&quot;,                             /* Specify the object invoked for `createElement`. This only applies when targeting `react` JSX emit. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noLib&quot;: true,                                    /* Disable including any library files, including the default lib.d.ts. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;useDefineForClassFields&quot;: true,                  /* Emit ECMAScript-standard-compliant class fields. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Modules */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;module&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ES2015&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                                </span><span class="token comment" style="color:#6A9955">/* Specify what module code is generated. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;rootDir&quot;: &quot;./&quot;,                                  /* Specify the root folder within your source files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;moduleResolution&quot;: &quot;node&quot;,                       /* Specify how TypeScript looks up a file from a given module specifier. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;baseUrl&quot;: &quot;./&quot;,                                  /* Specify the base directory to resolve non-relative module names. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;paths&quot;: {},                                      /* Specify a set of entries that re-map imports to additional lookup locations. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;rootDirs&quot;: [],                                   /* Allow multiple folders to be treated as one when resolving modules. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;typeRoots&quot;: [],                                  /* Specify multiple folders that act like `./node_modules/@types`. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;types&quot;: [],                                      /* Specify type package names to be included without being referenced in a source file. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;allowUmdGlobalAccess&quot;: true,                     /* Allow accessing UMD globals from modules. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;resolveJsonModule&quot;: true,                        /* Enable importing .json files */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noResolve&quot;: true,                                /* Disallow `import`s, `require`s or `&lt;reference&gt;`s from expanding the number of files TypeScript should add to a project. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* JavaScript Support */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;allowJs&quot;: true,                                  /* Allow JavaScript files to be a part of your program. Use the `checkJS` option to get errors from these files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;checkJs&quot;: true,                                  /* Enable error reporting in type-checked JavaScript files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;maxNodeModuleJsDepth&quot;: 1,                        /* Specify the maximum folder depth used for checking JavaScript files from `node_modules`. Only applicable with `allowJs`. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Emit */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;declaration&quot;: true,                              /* Generate .d.ts files from TypeScript and JavaScript files in your project. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;declarationMap&quot;: true,                           /* Create sourcemaps for d.ts files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;emitDeclarationOnly&quot;: true,                      /* Only output d.ts files and not JavaScript files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token string-property property">&quot;sourceMap&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                                </span><span class="token comment" style="color:#6A9955">/* Create source map files for emitted JavaScript files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;outFile&quot;: &quot;./&quot;,                                  /* Specify a file that bundles all outputs into one JavaScript file. If `declaration` is true, also designates a file that bundles all .d.ts output. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;outDir&quot;: &quot;./&quot;,                                   /* Specify an output folder for all emitted files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;removeComments&quot;: true,                           /* Disable emitting comments. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noEmit&quot;: true,                                   /* Disable emitting files from a compilation. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;importHelpers&quot;: true,                            /* Allow importing helper functions from tslib once per project, instead of including them per-file. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;importsNotUsedAsValues&quot;: &quot;remove&quot;,               /* Specify emit/checking behavior for imports that are only used for types */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;downlevelIteration&quot;: true,                       /* Emit more compliant, but verbose and less performant JavaScript for iteration. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;sourceRoot&quot;: &quot;&quot;,                                 /* Specify the root path for debuggers to find the reference source code. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;mapRoot&quot;: &quot;&quot;,                                    /* Specify the location where debugger should locate map files instead of generated locations. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;inlineSourceMap&quot;: true,                          /* Include sourcemap files inside the emitted JavaScript. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;inlineSources&quot;: true,                            /* Include source code in the sourcemaps inside the emitted JavaScript. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;emitBOM&quot;: true,                                  /* Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;newLine&quot;: &quot;crlf&quot;,                                /* Set the newline character for emitting files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;stripInternal&quot;: true,                            /* Disable emitting declarations that have `@internal` in their JSDoc comments. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noEmitHelpers&quot;: true,                            /* Disable generating custom helper functions like `__extends` in compiled output. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noEmitOnError&quot;: true,                            /* Disable emitting files if any type checking errors are reported. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;preserveConstEnums&quot;: true,                       /* Disable erasing `const enum` declarations in generated code. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;declarationDir&quot;: &quot;./&quot;,                           /* Specify the output directory for generated declaration files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;preserveValueImports&quot;: true,                     /* Preserve unused imported values in the JavaScript output that would otherwise be removed. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Interop Constraints */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;isolatedModules&quot;: true,                          /* Ensure that each file can be safely transpiled without relying on other imports. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;allowSyntheticDefaultImports&quot;: true,             /* Allow &#x27;import x from y&#x27; when a module doesn&#x27;t have a default export. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;esModuleInterop&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                             </span><span class="token comment" style="color:#6A9955">/* Emit additional JavaScript to ease support for importing CommonJS modules. This enables `allowSyntheticDefaultImports` for type compatibility. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;preserveSymlinks&quot;: true,                         /* Disable resolving symlinks to their realpath. This correlates to the same flag in node. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">            </span><span class="token comment" style="color:#6A9955">/* Ensure that casing is correct in imports. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Type Checking */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;strict&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">                                      </span><span class="token comment" style="color:#6A9955">/* Enable all strict type-checking options. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noImplicitAny&quot;: true,                            /* Enable error reporting for expressions and declarations with an implied `any` type.. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;strictNullChecks&quot;: true,                         /* When type checking, take into account `null` and `undefined`. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;strictFunctionTypes&quot;: true,                      /* When assigning functions, check to ensure parameters and the return values are subtype-compatible. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;strictBindCallApply&quot;: true,                      /* Check that the arguments for `bind`, `call`, and `apply` methods match the original function. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;strictPropertyInitialization&quot;: true,             /* Check for class properties that are declared but not set in the constructor. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noImplicitThis&quot;: true,                           /* Enable error reporting when `this` is given the type `any`. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;useUnknownInCatchVariables&quot;: true,               /* Type catch clause variables as &#x27;unknown&#x27; instead of &#x27;any&#x27;. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;alwaysStrict&quot;: true,                             /* Ensure &#x27;use strict&#x27; is always emitted. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noUnusedLocals&quot;: true,                           /* Enable error reporting when a local variables aren&#x27;t read. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noUnusedParameters&quot;: true,                       /* Raise an error when a function parameter isn&#x27;t read */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;exactOptionalPropertyTypes&quot;: true,               /* Interpret optional property types as written, rather than adding &#x27;undefined&#x27;. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noImplicitReturns&quot;: true,                        /* Enable error reporting for codepaths that do not explicitly return in a function. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noFallthroughCasesInSwitch&quot;: true,               /* Enable error reporting for fallthrough cases in switch statements. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noUncheckedIndexedAccess&quot;: true,                 /* Include &#x27;undefined&#x27; in index signature results */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noImplicitOverride&quot;: true,                       /* Ensure overriding members in derived classes are marked with an override modifier. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;noPropertyAccessFromIndexSignature&quot;: true,       /* Enforces using indexed accessors for keys declared using an indexed type */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;allowUnusedLabels&quot;: true,                        /* Disable error reporting for unused labels. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;allowUnreachableCode&quot;: true,                     /* Disable error reporting for unreachable code. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">/* Completeness */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// &quot;skipDefaultLibCheck&quot;: true,                      /* Skip type checking .d.ts files that are included with TypeScript. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token string-property property">&quot;skipLibCheck&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain">                                 </span><span class="token comment" style="color:#6A9955">/* Skip type checking all .d.ts files. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>npm run dev 启动就可以尽情的玩耍了</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="webpack-构建-ts-项目">webpack 构建 TS 项目<a href="#webpack-构建-ts-项目" class="hash-link" aria-label="Direct link to webpack 构建 TS 项目" title="Direct link to webpack 构建 TS 项目">​</a></h2>
<p>安装依赖</p>
<p>安装 webpack npm install webpack -D</p>
<p>webpack4 以上需要 npm install webpack-cli -D</p>
<p>编译 TS npm install ts-loader -D</p>
<p>TS 环境 npm install <a href="https://so.csdn.net/so/search?q=typescript&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">typescript</a> -D</p>
<p>热更新服务 npm install webpack-dev-server -D</p>
<p>HTML 模板 npm install html-webpack-plugin -D</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置文件"><strong>配置文件</strong><a href="#配置文件" class="hash-link" aria-label="Direct link to 配置文件" title="Direct link to 配置文件">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> path </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">require</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;path&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> htmlWebpackPlugin </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">require</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;html-webpack-plugin&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">module</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">exports </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  entry</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./src/index.ts&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  mode</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;development&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  output</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    path</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">resolve</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./dist&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    filename</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;index.js&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  stats</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;none&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  resolve</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    extensions</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;.ts&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;.js&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    alias</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token string-property property">&quot;@&quot;</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">resolve</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./src&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  module</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    rules</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        test</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex special-escape escape">\.</span><span class="token regex regex-source language-regex">ts</span><span class="token regex regex-source language-regex anchor function" style="color:#0e7490">$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        use</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ts-loader&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  devServer</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    port</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1988</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    proxy</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  plugins</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">htmlWebpackPlugin</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      template</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;./public/index.html&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>目录结构</strong></p>
<img decoding="async" loading="lazy" src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/925/image-20221009090143222.png" alt="image-20221009090143222" style="zoom:50%" class="img_ev3q">
<h1>实战 TS 编写发布订阅模式(TS -- 22)</h1>
<blockquote>
<p>什么是发布订阅模式，其实小伙伴已经用到了发布订阅模式例如 addEventListener，Vue evnetBus</p>
<p>都属于发布订阅模式</p>
<p>简单来说就是 你(小满)要和 大满 二满 三满打球，大满带球，二满带水，三满带球衣。全都准备完成后开始打球。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="思维导图">思维导图<a href="#思维导图" class="hash-link" aria-label="Direct link to 思维导图" title="Direct link to 思维导图">​</a></h2>
<img decoding="async" loading="lazy" src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/925/image-20221009095700693.png" alt="image-20221009095700693" style="zoom:50%" class="img_ev3q">
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Evenet</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    on</span><span class="token operator" style="color:#475569">:</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">emit</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">.</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">args</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">,</span><span class="token comment" style="color:#6A9955">//派发</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">off</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token punctuation" style="color:#475569">,</span><span class="token comment" style="color:#6A9955">//移除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">once</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">void</span><span class="token comment" style="color:#6A9955">//只执行一次</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">List</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">key</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Dispatch</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Event</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//通过implements来约束这个类(Evenet)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    list</span><span class="token operator" style="color:#475569">:</span><span class="token plain">List</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">constructor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">list </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">on</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> callback </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">list</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token comment" style="color:#6A9955">//如果有取到值的话那就是一个数组，没有取到值的话就是一个空数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        callback</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">push</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">fn</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//因为不管怎么说，callback都是数组，所以我们后面的数组也可以直接添加上去</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">list</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> callback</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">list</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">emit</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">.</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">args</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> evnetName </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">list</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//on监听跟emit派发的时候 name 是需要一样的，不然会出错，所以我们这里要进行一个判断</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">evnetName</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            eventName</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">forEach</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">fn</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token comment" style="color:#6A9955">//内容从下面的o.emit()传送上来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">apply</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//第一个参数this指向，第二个参数为数组，这里也刚好是一个数组就直接传进去。会将on监听的数据直接打印出来，这里打印出来66 99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">error</span><span class="token punctuation" style="color:#475569">(</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">名称错误</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">off</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//off是删除一个函数，所以我们在下面将创建一个fn函数让他来删一下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> eventName </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">list</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//跟emit一样的，需要进行判断有没有值，还有就是函数存不存在，不存在的话就没得删了对吧</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">eventName </span><span class="token operator" style="color:#475569">&amp;&amp;</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//我们要通过索引来将其删掉</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> index </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> eventName</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">findIndex</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">fns</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> fns </span><span class="token operator" style="color:#475569">===</span><span class="token plain"> fn </span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            eventName</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">eventName</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">error</span><span class="token punctuation" style="color:#475569">(</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">名称错误</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">once</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Function</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">de</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token function" style="color:#0e7490">fn</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">apply</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//指向到那个只调用一次函数的那里</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">off</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">de</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//调用完就把它删掉，这就是只能调用一次的原因哈哈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">on</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">de</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//第一个还是名字，第二个临时函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> o </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Dispatch</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//初始化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">o</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">on</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;post&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//post作为key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">66</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//第一个参数是事件名称，第二个是回调函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">o</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">on</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;post&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">99</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//这里我们对第二个回调函数传入了...args，也就是收到了o.emit除了第一个参数后面那些乱七八糟的东西(因为我们设定了any，对接收的类型并没有限制，所以收到什么乱七八糟的东西都不奇怪)，并在控制台打印了出来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">fn</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">o</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">on</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;post&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//没错，这个就是特地创建出来删掉的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">o</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">off</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;post&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">fn</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//将fn删掉</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//o.on(&#x27;post2&#x27;,()=&gt;{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//都会在控制台显示出来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//})</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">o</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">once</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;post&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">...</span><span class="token plain">args</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;once&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">o</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">emit</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;post&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//除了第一个参数一样是事件，后面参数是不限制个数的，而且传什么都行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">o</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">emit</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;post&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//这里如果收到就是有问题的，因为我们在上面使用once了，只调用一次</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>上面在 off 删除中使用到的 splice 知识点补充</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token function" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">len</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">[</span><span class="token plain">item</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">它也可以用来替换 </span><span class="token operator" style="color:#475569">/</span><span class="token plain"> 删除 </span><span class="token operator" style="color:#475569">/</span><span class="token plain"> 添加数组内某一个或者几个值（该方法会改变原始数组）</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">index</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> 数组开始下标</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">len</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> 替换 </span><span class="token operator" style="color:#475569">/</span><span class="token plain"> 删除的长度</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">item</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> 替换的值，删除操作的话 item 为空</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">删除：</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 删除起始下标为 1，长度为 1 的一个值 (len 设置 1，如果为 0，则数组不变)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;a&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;b&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;c&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;d&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain">   </span><span class="token comment" style="color:#6A9955">//[&#x27;a&#x27;,&#x27;c&#x27;,&#x27;d&#x27;];</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 删除起始下标为 1，长度为 2 的一个值 (len 设置 2)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arr2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;a&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;b&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;c&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;d&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> arr2</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//[&#x27;a&#x27;,&#x27;d&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">替换：</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 替换起始下标为 1，长度为 1 的一个值为‘ttt’，len 设置的 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;a&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;b&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;c&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;d&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;ttt&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain">         </span><span class="token comment" style="color:#6A9955">//[&#x27;a&#x27;,&#x27;ttt&#x27;,&#x27;c&#x27;,&#x27;d&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 替换起始下标为 1，长度为 2 的两个值为‘ttt’，len 设置的 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arr2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;a&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;b&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;c&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;d&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr2</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;ttt&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//[&#x27;a&#x27;,&#x27;ttt&#x27;,&#x27;d&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">添加：</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">// 在下标为 1 处添加一项 &#x27;ttt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">var</span><span class="token plain"> arr </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&#x27;a&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;b&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;c&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;d&#x27;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">splice</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;ttt&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain">         </span><span class="token comment" style="color:#6A9955">//[&#x27;a&#x27;,&#x27;ttt&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>TS 进阶用法 proxy &amp; Reflect(TS -- 23)</h1>
<blockquote>
<p>proxy：对象代理(是 ES6 新增的对象拦截器，能够监听到一个对象的变化)</p>
<p>Reflect：配合 proxy 来操作对象</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="proxy">Proxy<a href="#proxy" class="hash-link" aria-label="Direct link to Proxy" title="Direct link to Proxy">​</a></h2>
<blockquote>
<p><strong>Proxy</strong> 对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义（如属性查找、赋值、枚举、函数调用等）</p>
<p><strong><code>target</code></strong></p>
<p>要使用 <code>Proxy</code> 包装的目标对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）。</p>
<p><strong><code>handler</code></strong></p>
<p>一个通常以函数作为属性的对象，各属性中的函数分别定义了在执行各种操作时代理 <code>p</code> 的行为。</p>
<p><code>handler.get()</code>本次使用的 get</p>
<p>属性读取操作的捕捉器。</p>
<p><code>handler.set()</code>本次使用的 set</p>
<p>属性设置操作的捕捉器。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reflect">Reflect<a href="#reflect" class="hash-link" aria-label="Direct link to Reflect" title="Direct link to Reflect">​</a></h2>
<blockquote>
<p>与大多数全局对象不同 <code>Reflect</code> 并非一个构造函数，所以不能通过 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new" target="_blank" rel="noopener noreferrer">new 运算符</a>对其进行调用，或者将 <code>Reflect</code> 对象作为一个函数来调用。<code>Reflect</code> 的所有属性和方法都是静态的（就像 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math" target="_blank" rel="noopener noreferrer">Math</a> 对象）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reflectgettarget-name-receiver">Reflect.get(target, name, receiver)<a href="#reflectgettarget-name-receiver" class="hash-link" aria-label="Direct link to Reflect.get(target, name, receiver)" title="Direct link to Reflect.get(target, name, receiver)">​</a></h3>
<p><code>Reflect.get</code> 方法查找并返回 <code>target</code> 对象的 <code>name</code> 属性，如果没有该属性返回 undefined</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reflectsettarget-namevalue-receiver">Reflect.set(target, name,value, receiver)<a href="#reflectsettarget-namevalue-receiver" class="hash-link" aria-label="Direct link to Reflect.set(target, name,value, receiver)" title="Direct link to Reflect.set(target, name,value, receiver)">​</a></h3>
<p><code>Reflect.set</code> 方法设置 <code>target</code> 对象的 <code>name</code> 属性等于 <code>value</code>。</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	text</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">proxy</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">key</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//我们要自己实现proxy啦</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Proxy</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#475569">,</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token function" style="color:#0e7490">get</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;================&gt;get&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//prop就是一个key，target就是地下那个man的对象，receiver是跟target一样的值，防止上下文错误的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> Reflect</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">get</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//这里刚好对应的也是这三个参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">value</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//多了一个value，因为我们要设置值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//日志</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        	</span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&#x27;================&gt;set&#x27;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        	</span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> Reflect</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">get</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">value</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//日志监听函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//由于我们要监听man里面的内容，所以这里可以使用联合类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> logAccess </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">key</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;age&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;text&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//为了使其灵活度高一点，我们不使其object等于Person，而是为泛型T，使用的时候再去设置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">proxy</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> man</span><span class="token operator" style="color:#475569">:</span><span class="token plain">Person </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    text</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;三秒真男人&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;name&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> man2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">logAccess</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小余&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;name&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">man</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30</span><span class="token comment" style="color:#6A9955">//走set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">man</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age</span><span class="token comment" style="color:#6A9955">//走get</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">man</span><span class="token punctuation" style="color:#475569">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>泛型优化</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> logAccess </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">key</span><span class="token operator" style="color:#475569">:</span><span class="token keyword" style="color:#0c4a6e">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//为了使其灵活度高一点，我们不使其object等于Person，而是为泛型T，使用的时候再去设置。key也不固定死，而是使用keyof，将我们传入的对象推断为联合类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">proxy</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> man2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">logAccess</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小余&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    id</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">925</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;id&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//就可以动态的去约束类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> man2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">logAccess</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小余&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    id</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">925</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&#x27;id2&#x27;</span><span class="token punctuation" style="color:#475569">)</span><span class="token comment" style="color:#6A9955">//报错，因为我们类型里没有id2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>优化完整版</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  text</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#0e7490">proxy</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> key</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Proxy</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">get</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">get key======&gt;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">key</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> Reflect</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">get</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token template-string string" style="color:#64748b">set key======&gt;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">${</span><span class="token template-string interpolation">key</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#475569">}</span><span class="token template-string template-punctuation string" style="color:#64748b">`</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">      </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> Reflect</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">set</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> prop</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> logAccess </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> key</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">)</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">return</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">proxy</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> man</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> Person </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">logAccess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">20</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    text</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;我的很小&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string" style="color:#64748b">&quot;age&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> man2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">logAccess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    id</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小满2&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">man</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">age </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token builtin" style="color:#0c4a6e">console</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">log</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">man</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>TS 进阶用法 Partial &amp; Pick(TS -- 24)</h1>
<blockquote>
<p>TypeScript 内置高级类型 Partial Pick</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partial-1">Partial<a href="#partial-1" class="hash-link" aria-label="Direct link to Partial" title="Direct link to Partial">​</a></h2>
<blockquote>
<p>源码</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token doc-comment comment" style="color:#6A9955">/**</span><br></span><span class="token-line" style="color:#0f172a"><span class="token doc-comment comment" style="color:#6A9955"> * Make all properties in T optional</span><br></span><span class="token-line" style="color:#0f172a"><span class="token doc-comment comment" style="color:#6A9955">  将T中的所有属性设置为可选</span><br></span><span class="token-line" style="color:#0f172a"><span class="token doc-comment comment" style="color:#6A9955"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Partial</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>手写实现</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	text</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//keyof：将一个接口对象的全部属性取出来变成联合类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//keyof的作用就是把我们的属性变成联合类型，在底下就相当于&quot;name&quot;|&quot;age&quot;|&quot;text&quot;。而 in 就是为遍历这个联合类型的每一项，然后放到这个P里(所以P里就是name、age、text)，然后使其变成`?`可选的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Par</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//这个T就是我们传过来的Person，所以T[P]就是Person里面name、age、text的内容(string那些啥的)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//小满对T[P]的形容方式：通过索引取值的方式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token comment" style="color:#6A9955">//所以你在看这个肯定能看懂</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">p</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Partial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Person</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//这个时候，我们会发现p上面的属性，name、age、text都变成可选的了</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>使用前(范例)</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">p</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Partial</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Person</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>使用后(范例)</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">p</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token operator" style="color:#475569">?</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">undefined</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pick-1"><strong>Pick</strong><a href="#pick-1" class="hash-link" aria-label="Direct link to pick-1" title="Direct link to pick-1">​</a></h2>
<blockquote>
<p>从类型定义 T 的属性中，选取指定一组属性，返回一个新的类型定义。</p>
</blockquote>
<blockquote>
<p>源码</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token doc-comment comment" style="color:#6A9955">/**</span><br></span><span class="token-line" style="color:#0f172a"><span class="token doc-comment comment" style="color:#6A9955"> * From T, pick a set of properties whose keys are in the union K</span><br></span><span class="token-line" style="color:#0f172a"><span class="token doc-comment comment" style="color:#6A9955"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Pick</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name punctuation" style="color:#475569">,</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name constant" style="color:#0f172a">K</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">keyof</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>手写实现</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  text</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  address</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Ex</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;text&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;age&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Pick</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> Ex</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>分析(需要结合手写的内容看)</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Pick</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name punctuation" style="color:#475569">,</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name constant" style="color:#0f172a">K</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">keyof</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//T跟K都是泛型,T相当于我们的Person，K就相当于我们传的联合类型，然后同样也经历了keyof的洗礼，使其变成联合类型，K通过extends被约束了这点，使其只能为T，也就是Person内的值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">p</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Pick</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Person</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;age&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//这里的Person请参考手写实现的Person</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>TS 进阶用法 Record &amp; Readonly(TS -- 25)</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="readonly-1">Readonly<a href="#readonly-1" class="hash-link" aria-label="Direct link to Readonly" title="Direct link to Readonly">​</a></h2>
<blockquote>
<p>和 Partial 很像是吧？只是将 Partial 替换成了 Readonly</p>
</blockquote>
<blockquote>
<p>源码</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Readonly</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">readonly</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>手写实现</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Readonly</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">readonly</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//keyof还是那样，转化为联合类型，in去遍历选项。T[P]通过索引取值的方式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token comment" style="color:#6A9955">//然后为里面每个内容都加上只读属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  name</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  age</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  text</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">man</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">R</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Person</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="record-1">Record<a href="#record-1" class="hash-link" aria-label="Direct link to Record" title="Direct link to Record">​</a></h2>
<blockquote>
<p>1 keyof any 返回 string number symbol 的联合类型</p>
<p>2 in 我们可以理解成 for in P 就是 key 遍历 keyof any 就是 string number symbol 类型的每一项</p>
<p>3 extends 来约束我们的类型</p>
<p>4 T 直接返回类型</p>
<p>做到了约束 对象的 key 同时约束了 value</p>
</blockquote>
<blockquote>
<p>源码</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Record</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">K</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">keyof</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">,</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>手写实现</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Rec</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">K</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">keyof</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">,</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token comment" style="color:#6A9955">//T是泛型，传什么在这里并没有限制</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token constant" style="color:#0f172a">P</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//keyof返回联合类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">key</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token plain"> </span><span class="token operator" style="color:#475569">|</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">symbol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Person</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    name</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    age</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    text</span><span class="token operator" style="color:#475569">:</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">K</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;A&quot;</span><span class="token operator" style="color:#475569">|</span><span class="token string" style="color:#64748b">&quot;B&quot;</span><span class="token operator" style="color:#475569">|</span><span class="token string" style="color:#64748b">&quot;C&quot;</span><span class="token comment" style="color:#6A9955">//因为我们在这里定义了K，所以let B才只能使用A、B、C，如果这里换成1、2、3，那底下也只能使用1、2、3而不是A、B、C</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Rec</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">K</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">Person</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//这里会返回成type B = {A:Person;B:Person;C:Person;}的形式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">let</span><span class="token plain"> obj</span><span class="token operator" style="color:#475569">:</span><span class="token constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token constant" style="color:#0f172a">A</span><span class="token operator" style="color:#475569">:</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小满&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">text</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;三秒真男人&quot;</span><span class="token punctuation" style="color:#475569">}</span><span class="token comment" style="color:#6A9955">//这里值的类型需要是Person的类型，因为在type B中已经定义了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token constant" style="color:#0f172a">B</span><span class="token operator" style="color:#475569">:</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;小余&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">18</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">text</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;三小时真男人&quot;</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token constant" style="color:#0f172a">C</span><span class="token operator" style="color:#475569">:</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain">name</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;狗洛&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">age</span><span class="token operator" style="color:#475569">:</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">text</span><span class="token operator" style="color:#475569">:</span><span class="token string" style="color:#64748b">&quot;零点三秒真男人&quot;</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>TS 进阶用法 infer(TS -- 26)</h1>
<blockquote>
<p>infer 是 TypeScript 新增到的关键字 充当占位符</p>
<p>我们来实现一个条件类型推断的例子</p>
<p>定义一个类型 如果是数组类型 就返回 数组元素的类型 否则 就传入什么类型 就返回什么类型</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">TYPE</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> entends </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">[</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">TYPE</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//会返回type A = string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">TYPE</span><span class="token operator" style="color:#475569">&lt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token operator" style="color:#475569">|</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//会返回type B = string|number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">C</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">TYPE</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">boolean</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//返回type C = boolean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="infer">infer<a href="#infer" class="hash-link" aria-label="Direct link to infer" title="Direct link to infer">​</a></h2>
<blockquote>
<p>使用 inter 修改</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">TYPE</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> entends </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token comment" style="color:#6A9955">//U不是泛型，而是充当占位符使用，读取Array类型然后进行返回</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">TYPE</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> entends </span><span class="token builtin" style="color:#0c4a6e">Array</span><span class="token operator" style="color:#475569">&lt;</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">U</span><span class="token plain"> </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">never</span><span class="token comment" style="color:#6A9955">//限制只能传type T这个元组类型，其他都不能传</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">A</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">TYPE</span><span class="token operator" style="color:#475569">&lt;</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//会返回type A = string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">B</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">TYPE</span><span class="token operator" style="color:#475569">&lt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token operator" style="color:#475569">|</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//会返回type B = string|number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token builtin" style="color:#0c4a6e">string</span><span class="token punctuation" style="color:#475569">,</span><span class="token builtin" style="color:#0c4a6e">number</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//使其变成联合类型(小技巧)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">uni</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">TYPE</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//返回联合类型type uni = string|number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">uni</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">TYPE</span><span class="token operator" style="color:#475569">&lt;</span><span class="token constant" style="color:#0f172a">T</span><span class="token operator" style="color:#475569">&gt;</span><span class="token comment" style="color:#6A9955">//返回type uni = never。因为我们进行了限制</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>infer 类型提取(TS -- 27)</h1>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="提取头部元素">提取头部元素<a href="#提取头部元素" class="hash-link" aria-label="Direct link to 提取头部元素" title="Direct link to 提取头部元素">​</a></h3>
<blockquote>
<p><code>T extends any[]</code>：对 T 进行泛型约束，一个 any 类型的数组</p>
<p><code>type First&lt;T extends any[]&gt; = T extends [infer one,infer two,infer three]</code>? one:[]：对 T 进行泛型约束为数组类型，用 infer 提取，提取的变量名对应着 Arr 的 a、b、c。然后决定返回 one，也就是第一个元素还是空数组</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arr</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">First</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">[</span><span class="token class-name punctuation" style="color:#475569">]</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> one</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> two</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> three</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> one</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//ES6进阶版</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">First</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">[</span><span class="token class-name punctuation" style="color:#475569">]</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> First</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token operator" style="color:#475569">...</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> First </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//1 ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">a</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> First</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Arr</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="提取尾部元素">提取尾部元素<a href="#提取尾部元素" class="hash-link" aria-label="Direct link to 提取尾部元素" title="Direct link to 提取尾部元素">​</a></h3>
<blockquote>
<p>将头尾反过来了</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arr</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Last</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">[</span><span class="token class-name punctuation" style="color:#475569">]</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token operator" style="color:#475569">...</span><span class="token builtin" style="color:#0c4a6e">any</span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> Last</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> Last </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"> </span><span class="token comment" style="color:#6A9955">//... 尾部</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">c</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Last</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Arr</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="剔除第一个元素-shift">剔除第一个元素 Shift<a href="#剔除第一个元素-shift" class="hash-link" aria-label="Direct link to 剔除第一个元素 Shift" title="Direct link to 剔除第一个元素 Shift">​</a></h3>
<blockquote>
<p>将除了第一个之外的其他通过 ES6 语法提取出来</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arr</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">First</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">[</span><span class="token class-name punctuation" style="color:#475569">]</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token builtin" style="color:#0c4a6e">unknown</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token operator" style="color:#475569">...</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> Rest</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> Rest </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">a</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> First</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Arr</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="剔除尾部元素-pop">剔除尾部元素 pop<a href="#剔除尾部元素-pop" class="hash-link" aria-label="Direct link to 剔除尾部元素 pop" title="Direct link to 剔除尾部元素 pop">​</a></h3>
<blockquote>
<p>将除了第最后一个之外的其他通过 ES6 语法提取出来</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arr</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;a&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;b&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;c&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">First</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">[</span><span class="token class-name punctuation" style="color:#475569">]</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token operator" style="color:#475569">...</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> Rest</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token builtin" style="color:#0c4a6e">unknown</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> Rest </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">a</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> First</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Arr</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>infer 递归(TS -- 28)</h1>
<blockquote>
<p>需求：</p>
<p>有这么一个类型</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arr</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>希望通过一个 ts 工具变成</p>
<div class="language-TypeScript language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arr</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<blockquote>
<p>具体思路 首先使用泛型约束 约束只能传入数组类型的东西 然后从数组中提取第一个，放入新数组的末尾，反复此操作，形成递归 满足结束条件返回该类型</p>
</blockquote>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arr</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:#475569">]</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//先来一个泛型约束(对T)，这是通过不断递归拿到最后一个元素(也就是问好后面的那个First)填到最前面，直到没有元素为止(三元表达式)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">ReverArr</span><span class="token class-name operator" style="color:#475569">&lt;</span><span class="token class-name constant" style="color:#0f172a">T</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name keyword" style="color:#0c4a6e">extends</span><span class="token class-name" style="color:#0ea5e9"> </span><span class="token class-name builtin" style="color:#0c4a6e">any</span><span class="token class-name punctuation" style="color:#475569">[</span><span class="token class-name punctuation" style="color:#475569">]</span><span class="token class-name operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> First</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token operator" style="color:#475569">...</span><span class="token keyword" style="color:#0c4a6e">infer</span><span class="token plain"> rest</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token operator" style="color:#475569">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">[</span><span class="token operator" style="color:#475569">...</span><span class="token plain">ReverArr</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">rest</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> First</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token operator" style="color:#475569">:</span><span class="token plain"> </span><span class="token constant" style="color:#0f172a">T</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">type</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Arrb</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> ReverArr</span><span class="token operator" style="color:#475569">&lt;</span><span class="token plain">Arr</span><span class="token operator" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Web/vue2.x"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">vue2.0</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#作者925----小余同学" class="table-of-contents__link toc-highlight">作者：925 -- 小余同学</a></li><li><a href="#八种内置类型" class="table-of-contents__link toc-highlight">八种内置类型</a></li><li><a href="#注意点" class="table-of-contents__link toc-highlight">注意点</a><ul><li><a href="#null-和-undefined" class="table-of-contents__link toc-highlight">null 和 undefined</a></li><li><a href="#number-和-bigint" class="table-of-contents__link toc-highlight">number 和 bigint</a></li></ul></li><li><a href="#类型任意值----any" class="table-of-contents__link toc-highlight">类型(任意值) -- any</a></li><li><a href="#unknown-类型" class="table-of-contents__link toc-highlight">unknown 类型</a></li><li><a href="#interface-类型" class="table-of-contents__link toc-highlight">interface 类型</a><ul><li><a href="#可选属性----操作符" class="table-of-contents__link toc-highlight">可选属性 -- <code>?</code>操作符</a></li><li><a href="#任意属性----propname" class="table-of-contents__link toc-highlight">任意属性 -- [propName]</a></li><li><a href="#只读属性----readonly" class="table-of-contents__link toc-highlight">只读属性 -- readonly</a></li><li><a href="#继承属性----extends" class="table-of-contents__link toc-highlight">继承属性 -- extends</a></li></ul></li><li><a href="#泛型----array-类型" class="table-of-contents__link toc-highlight">泛型 -- Array &lt;类型&gt;</a></li><li><a href="#类数组----arguments" class="table-of-contents__link toc-highlight">类数组 -- arguments</a></li><li><a href="#接口表示数组" class="table-of-contents__link toc-highlight">接口表示数组</a></li><li><a href="#对象形式的定义" class="table-of-contents__link toc-highlight">对象形式的定义</a></li><li><a href="#函数重载" class="table-of-contents__link toc-highlight">函数重载</a></li><li><a href="#联合类型" class="table-of-contents__link toc-highlight">联合类型</a><ul><li><a href="#函数使用联合类型" class="table-of-contents__link toc-highlight">函数使用联合类型</a></li></ul></li><li><a href="#交叉类型" class="table-of-contents__link toc-highlight">交叉类型</a></li><li><a href="#类型断言" class="table-of-contents__link toc-highlight">类型断言</a></li><li><a href="#临时断言" class="table-of-contents__link toc-highlight">临时断言</a><ul><li><a href="#as-const" class="table-of-contents__link toc-highlight"><code>as const</code></a></li></ul></li><li><a href="#ecmascript-的内置对象" class="table-of-contents__link toc-highlight">ECMAScript 的内置对象</a></li><li><a href="#dom-和-bom-的内置对象" class="table-of-contents__link toc-highlight">DOM 和 BOM 的内置对象</a><ul><li><a href="#public" class="table-of-contents__link toc-highlight">public</a></li><li><a href="#private" class="table-of-contents__link toc-highlight">private</a></li><li><a href="#protected" class="table-of-contents__link toc-highlight">protected</a></li></ul></li><li><a href="#static-静态属性-和-静态方法" class="table-of-contents__link toc-highlight">static 静态属性 和 静态方法</a></li><li><a href="#interface-定义-类" class="table-of-contents__link toc-highlight">interface 定义 类</a><ul><li><a href="#越界的元组" class="table-of-contents__link toc-highlight">越界的元组</a></li></ul></li><li><a href="#enum-关键字定义枚举" class="table-of-contents__link toc-highlight">enum 关键字定义枚举</a><ul><li><a href="#数字定义枚举" class="table-of-contents__link toc-highlight">数字定义枚举</a></li><li><a href="#字符串枚举" class="table-of-contents__link toc-highlight">字符串枚举</a></li><li><a href="#异构枚举" class="table-of-contents__link toc-highlight">异构枚举</a></li><li><a href="#接口枚举" class="table-of-contents__link toc-highlight">接口枚举</a></li><li><a href="#const-枚举" class="table-of-contents__link toc-highlight">const 枚举</a></li><li><a href="#反向映射" class="table-of-contents__link toc-highlight">反向映射</a></li></ul></li><li><a href="#类型推论" class="table-of-contents__link toc-highlight">类型推论</a><ul><li><a href="#函数式的类型别名" class="table-of-contents__link toc-highlight">函数式的类型别名</a></li></ul></li><li><a href="#能够读取到-symbol-的两种方式" class="table-of-contents__link toc-highlight">能够读取到 Symbol 的两种方式</a></li><li><a href="#迭代器" class="table-of-contents__link toc-highlight">迭代器</a></li><li><a href="#迭代器interator-的用法" class="table-of-contents__link toc-highlight"><code>迭代器</code>Interator 的用法</a><ul><li><a href="#symbol-列表" class="table-of-contents__link toc-highlight">Symbol 列表</a></li></ul></li><li><a href="#生成器builder" class="table-of-contents__link toc-highlight">生成器（Builder）</a><ul><li><a href="#forof-语句" class="table-of-contents__link toc-highlight">for…of 语句</a></li><li><a href="#跟-for-in-的区别" class="table-of-contents__link toc-highlight">跟 for in 的区别</a></li></ul></li><li><a href="#无泛型用法" class="table-of-contents__link toc-highlight">无泛型用法</a></li><li><a href="#使用泛型优化" class="table-of-contents__link toc-highlight">使用泛型优化</a><ul><li><a href="#定义泛型接口" class="table-of-contents__link toc-highlight">定义泛型接口</a></li><li><a href="#对象字面量泛型" class="table-of-contents__link toc-highlight">对象字面量泛型</a></li></ul></li><li><a href="#泛型约束函数类" class="table-of-contents__link toc-highlight">泛型约束(函数类)</a></li><li><a href="#使用-keyof-约束对象" class="table-of-contents__link toc-highlight">使用 keyof 约束对象</a></li><li><a href="#泛型类" class="table-of-contents__link toc-highlight">泛型类</a></li><li><a href="#泛型工具类型大量补充额外内容" class="table-of-contents__link toc-highlight">泛型工具类型(大量补充额外内容)</a><ul><li><a href="#1typeof" class="table-of-contents__link toc-highlight">1.typeof</a></li><li><a href="#2keyof" class="table-of-contents__link toc-highlight">2.keyof</a></li><li><a href="#3in" class="table-of-contents__link toc-highlight">3.in</a></li><li><a href="#4infer" class="table-of-contents__link toc-highlight">4.infer</a></li><li><a href="#5extends" class="table-of-contents__link toc-highlight">5.extends</a></li><li><a href="#索引类型" class="table-of-contents__link toc-highlight">索引类型</a></li><li><a href="#映射类型" class="table-of-contents__link toc-highlight">映射类型</a></li><li><a href="#partial" class="table-of-contents__link toc-highlight">Partial</a></li><li><a href="#required" class="table-of-contents__link toc-highlight">Required</a></li><li><a href="#readonly" class="table-of-contents__link toc-highlight">Readonly</a></li><li><a href="#pick" class="table-of-contents__link toc-highlight">Pick</a></li><li><a href="#record" class="table-of-contents__link toc-highlight">Record</a></li><li><a href="#returntype" class="table-of-contents__link toc-highlight">ReturnType</a></li><li><a href="#exclude" class="table-of-contents__link toc-highlight">Exclude</a></li><li><a href="#extract" class="table-of-contents__link toc-highlight">Extract</a></li><li><a href="#omit" class="table-of-contents__link toc-highlight">Omit</a></li><li><a href="#nonnullable" class="table-of-contents__link toc-highlight">NonNullable</a></li><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a></li></ul></li><li><a href="#生成-tsconfigjson-文件" class="table-of-contents__link toc-highlight">生成 tsconfig.json 文件</a><ul><li><a href="#配置详解" class="table-of-contents__link toc-highlight">配置详解</a></li><li><a href="#常用的配置" class="table-of-contents__link toc-highlight">常用的配置</a></li></ul></li><li><a href="#嵌套命名空间" class="table-of-contents__link toc-highlight">嵌套命名空间</a></li><li><a href="#抽离命名空间" class="table-of-contents__link toc-highlight">抽离命名空间</a></li><li><a href="#简化命名空间" class="table-of-contents__link toc-highlight">简化命名空间</a></li><li><a href="#命名空间的合并" class="table-of-contents__link toc-highlight">命名空间的合并</a></li><li><a href="#引入声明文件" class="table-of-contents__link toc-highlight">引入声明文件</a></li><li><a href="#对象混入" class="table-of-contents__link toc-highlight">对象混入</a><ul><li><a href="#objectassign" class="table-of-contents__link toc-highlight">Object.assign()</a></li></ul></li><li><a href="#类的混入" class="table-of-contents__link toc-highlight">类的混入</a></li><li><a href="#装饰器" class="table-of-contents__link toc-highlight">装饰器</a></li><li><a href="#装饰器工厂" class="table-of-contents__link toc-highlight">装饰器工厂</a></li><li><a href="#装饰器组合" class="table-of-contents__link toc-highlight">装饰器组合</a></li><li><a href="#方法装饰器" class="table-of-contents__link toc-highlight">方法装饰器</a></li><li><a href="#属性装饰器" class="table-of-contents__link toc-highlight">属性装饰器</a></li><li><a href="#参数装饰器" class="table-of-contents__link toc-highlight">参数装饰器</a></li><li><a href="#rollup-构建-ts-项目" class="table-of-contents__link toc-highlight">Rollup 构建 TS 项目</a><ul><li><a href="#安装依赖" class="table-of-contents__link toc-highlight">安装依赖</a></li><li><a href="#配置-json-文件" class="table-of-contents__link toc-highlight">配置 json 文件</a></li><li><a href="#配置-rollup-文件" class="table-of-contents__link toc-highlight">配置 rollup 文件</a></li><li><a href="#配置-tsconfigjson" class="table-of-contents__link toc-highlight">配置 tsconfig.json</a></li></ul></li><li><a href="#webpack-构建-ts-项目" class="table-of-contents__link toc-highlight">webpack 构建 TS 项目</a><ul><li><a href="#配置文件" class="table-of-contents__link toc-highlight"><strong>配置文件</strong></a></li></ul></li><li><a href="#思维导图" class="table-of-contents__link toc-highlight">思维导图</a></li><li><a href="#proxy" class="table-of-contents__link toc-highlight">Proxy</a></li><li><a href="#reflect" class="table-of-contents__link toc-highlight">Reflect</a><ul><li><a href="#reflectgettarget-name-receiver" class="table-of-contents__link toc-highlight">Reflect.get(target, name, receiver)</a></li><li><a href="#reflectsettarget-namevalue-receiver" class="table-of-contents__link toc-highlight">Reflect.set(target, name,value, receiver)</a></li></ul></li><li><a href="#partial-1" class="table-of-contents__link toc-highlight">Partial</a></li><li><a href="#pick-1" class="table-of-contents__link toc-highlight"><strong>Pick</strong></a></li><li><a href="#readonly-1" class="table-of-contents__link toc-highlight">Readonly</a></li><li><a href="#record-1" class="table-of-contents__link toc-highlight">Record</a></li><li><a href="#infer" class="table-of-contents__link toc-highlight">infer</a><ul><li><a href="#提取头部元素" class="table-of-contents__link toc-highlight">提取头部元素</a></li><li><a href="#提取尾部元素" class="table-of-contents__link toc-highlight">提取尾部元素</a></li><li><a href="#剔除第一个元素-shift" class="table-of-contents__link toc-highlight">剔除第一个元素 Shift</a></li><li><a href="#剔除尾部元素-pop" class="table-of-contents__link toc-highlight">剔除尾部元素 pop</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">  来自冷环渊的技术支持与文档创作 @2025</div></div></div></footer></div>
</body>
</html>