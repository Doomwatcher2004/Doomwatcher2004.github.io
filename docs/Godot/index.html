<!doctype html>
<html lang="cn" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Godot/godot" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">godot 游戏引擎 | 小冷の代码世界</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doomwatcher2004.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://doomwatcher2004.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://doomwatcher2004.github.io/docs/Godot/"><meta data-rh="true" property="og:locale" content="cn"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="godot 游戏引擎 | 小冷の代码世界"><meta data-rh="true" name="description" content="安装环境"><meta data-rh="true" property="og:description" content="安装环境"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doomwatcher2004.github.io/docs/Godot/"><link data-rh="true" rel="alternate" href="https://doomwatcher2004.github.io/docs/Godot/" hreflang="cn"><link data-rh="true" rel="alternate" href="https://doomwatcher2004.github.io/docs/Godot/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.15cbc4ab.css">
<script src="/assets/js/runtime~main.4abb65a5.js" defer="defer"></script>
<script src="/assets/js/main.4b99896e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="小冷の代码世界" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="小冷の代码世界" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">小冷の代码世界</b></a><a class="navbar__item navbar__link" href="/docs/Java/Docker 快速入门">Java知识库</a><a class="navbar__item navbar__link" href="/docs/Web/JavaScript 高级">前端知识库</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Godot/">Godot游戏开发</a><a class="navbar__item navbar__link" href="/docs/finish/finishRpc">Finish系列手写中间件</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Doomwatcher2004" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Godot/">godot 游戏引擎</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">godot 游戏引擎</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>godot 游戏引擎</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="安装环境">安装环境<a href="#安装环境" class="hash-link" aria-label="Direct link to 安装环境" title="Direct link to 安装环境">​</a></h2>
<p><a href="https://godotengine.org/" target="_blank" rel="noopener noreferrer">https://godotengine.org/</a></p>
<p>本次学习采用的是最新版 4.4.1 使用语言为: csharp+GDS</p>
<p>.net 版本为 8</p>
<p>代码编辑器为 vs code</p>
<blockquote>
<p>vsc 插件如下</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250425185342898.png" alt="image-20250425185342898" class="img_ev3q"></p>
<p>设置 godot 脚本编辑器的启动项</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426142755644.png" alt="image-20250426142755644" class="img_ev3q"></p>
<h1>Godot学习</h1>
<blockquote>
<p>认识界面</p>
</blockquote>
<p>启动 godot 创建一个基础的项目</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426142723774.png" alt="image-20250426142723774" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="场景和节点">场景和节点<a href="#场景和节点" class="hash-link" aria-label="Direct link to 场景和节点" title="Direct link to 场景和节点">​</a></h2>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426142839532.png" alt="image-20250426142839532" class="img_ev3q"></p>
<p>理解游戏思路其实我们开发游戏本质就是 创建无数个场景和节点 进行有趣的交互</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426142941180.png" alt="image-20250426142941180" class="img_ev3q"></p>
<p>godot 中我们的节点以树来称呼, 可以称为节点树 思路与日常的代码开发大致相同, 基于继承</p>
<p>我们的场景其实就是节点树 由无数的节点组成为一个场景</p>
<blockquote>
<p>节点中的继承关系</p>
</blockquote>
<p>功能类是无法作为节点的 它为我们提供一些好用的功能</p>
<p>我们实际创造的是 node :</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426143431436.png" alt="image-20250426143431436" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426143332947.png" alt="image-20250426143332947" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="脚本">脚本<a href="#脚本" class="hash-link" aria-label="Direct link to 脚本" title="Direct link to 脚本">​</a></h2>
<p>通常我们使用选择 node 并且在 node 的详细页面来创建脚本</p>
<p>当然我们也可以直接在文本区创建脚本然后和 node 绑定</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426143733934.png" alt="image-20250426143733934" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="生命周期方法">生命周期方法<a href="#生命周期方法" class="hash-link" aria-label="Direct link to 生命周期方法" title="Direct link to 生命周期方法">​</a></h3>
<p>脚本从生效到销毁的过程中 会有一些比较重要的方法</p>
<blockquote>
<p>entertree</p>
</blockquote>
<p>节点添加到节点树的时候会调用这个方法 可以用于初始化</p>
<p>正序创建如果有多个节点的话 按照加入节点树的顺序调用</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426144747025.png" alt="image-20250426144747025" class="img_ev3q"></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_EnterTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_EnterTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Ready</p>
</blockquote>
<p>在节点加载完成的时候触发, 类似于递归的调用 从最底部的节点逐步回调</p>
<p>初始化推荐在 ready 中使用</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426144850148.png" alt="image-20250426144850148" class="img_ev3q"></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>_ExitTree</p>
</blockquote>
<p>退出节点树(销毁) 一般这里处理节点销毁的逻辑</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_ExitTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_ExitTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>_Process</p>
</blockquote>
<p>每一帧都会调用一次这个方法 回传进来帧延时,</p>
<p>可以用来写及时逻辑</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>_PhysicsProcess</p>
</blockquote>
<p>每一次和物理有关的计算会调用 , 比如起跳 落地等</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>启动场景</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426145421585.png" alt="image-20250426145421585" class="img_ev3q"></p>
<p>这里的第一个 icon 是启动主场景 ,第二个是当前场景</p>
<p>主场景设置:</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426145500657.png" alt="image-20250426145500657" class="img_ev3q"></p>
<p>我们在方法中加入输出语句,</p>
<p>然后启动场景就可以很清晰的看到生命周期的调用了</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token comment" style="color:#6A9955">// 1. 节点添加到节点树的时候会调用这个方法 可以用于初始化 正序创建如果有多个节点的话</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_EnterTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_EnterTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;_EnterTree&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">//2. 这个是节点加载完成的时候会触发的方法 也可以用于初始化(推荐)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">         GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;_Ready&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">         GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;_Process&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>输出结果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426145712040.png" alt="image-20250426145712040" class="img_ev3q"></p>
<blockquote>
<p>关于销毁</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">MySprite</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> timer </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// 1. 节点添加到节点树的时候会调用这个方法 可以用于初始化 正序创建如果有多个节点的话</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_EnterTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_EnterTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;_EnterTree&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">//2. 这个是节点加载完成的时候会触发的方法 也可以用于初始化(推荐)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">         GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;_Ready&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//  GD.Print(&quot;_Process&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     timer </span><span class="token operator" style="color:#475569">-=</span><span class="token plain">  </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">float</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//  timer归0 销毁节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">timer</span><span class="token operator" style="color:#475569">&lt;=</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        timer </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">QueueFree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_ExitTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_ExitTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">          GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;_ExitTree&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426160438688.png" alt="image-20250426160438688" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="输入">输入<a href="#输入" class="hash-link" aria-label="Direct link to 输入" title="Direct link to 输入">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="键盘事件">键盘事件<a href="#键盘事件" class="hash-link" aria-label="Direct link to 键盘事件" title="Direct link to 键盘事件">​</a></h3>
<p>这里我们要用到的是 godot 中的<code>Input</code>对象 来获取 player 的设备输入</p>
<p>比如我们来监听一下 键盘上的按键</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">InputTest</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsKeyPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Key</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">B</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;按下了b&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426163614294.png" alt="image-20250426163614294" class="img_ev3q"></p>
<p>你看我们每一帧都会出触发一次按键 b 但是事实上我们只需要一次 或者是按下的时候去使用</p>
<p>这里就有一个新的方法,<code> _input(inputEvent)</code></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Input</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">InputEvent</span><span class="token plain"> @</span><span class="token keyword" style="color:#0c4a6e">event</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_Input</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">@</span><span class="token keyword" style="color:#0c4a6e">event</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">@</span><span class="token keyword" style="color:#0c4a6e">event</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">is</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">InputEventKey</span><span class="token plain"> key</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Keycode </span><span class="token operator" style="color:#475569">==</span><span class="token plain"> Key</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">V</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;检测到按下 v 键位&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这里我们再次启动项目 点按 v 键</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426164232684.png" alt="image-20250426164232684" class="img_ev3q"></p>
<p>更多关于 keyinputevent 的检测</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Input</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">InputEvent</span><span class="token plain"> @</span><span class="token keyword" style="color:#0c4a6e">event</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_Input</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">@</span><span class="token keyword" style="color:#0c4a6e">event</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">@</span><span class="token keyword" style="color:#0c4a6e">event</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">is</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">InputEventKey</span><span class="token plain"> key</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Keycode </span><span class="token operator" style="color:#475569">==</span><span class="token plain"> Key</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">V</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token comment" style="color:#6A9955">// 判断当前是否持续按压</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsEcho</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                    GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;持续按压v&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token comment" style="color:#6A9955">// 判断当前是否是按下瞬间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                    GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;按下v&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token comment" style="color:#6A9955">// 判断当前是否是抬起瞬间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsReleased</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                    GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;松开v&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426165305525.png" alt="image-20250426165305525" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="鼠标事件">鼠标事件<a href="#鼠标事件" class="hash-link" aria-label="Direct link to 鼠标事件" title="Direct link to 鼠标事件">​</a></h3>
<p>同样的我们也可以照猫画虎来检测鼠标事件</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">@</span><span class="token keyword" style="color:#0c4a6e">event</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">is</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">InputEventMouse</span><span class="token plain"> mouse</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">mouse</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsEcho</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">              GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;长按鼠标&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">mouse</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                  GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;按下鼠标&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;鼠标位置&quot;</span><span class="token operator" style="color:#475569">+</span><span class="token plain">mouse</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Position</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;按下的鼠标按键&quot;</span><span class="token operator" style="color:#475569">+</span><span class="token plain">mouse</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">ButtonMask</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">mouse</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsReleased</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                  GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;松开鼠标&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426172237829.png" alt="image-20250426172237829" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="输入映射常用">输入映射(常用)<a href="#输入映射常用" class="hash-link" aria-label="Direct link to 输入映射(常用)" title="Direct link to 输入映射(常用)">​</a></h3>
<p>我们还有第二种方式 来将按键和虚拟的按键进行绑定</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426172355873.png" alt="image-20250426172355873" class="img_ev3q"></p>
<p>比如跳跃按键</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426172455237.png" alt="image-20250426172455237" class="img_ev3q"></p>
<p>这样就绑定好了, 之前我们倾向于基于<code>event</code>来判断 ,因为在帧生成中判断会有问题, 而虚拟按键中我们就可以使用帧生成方法来判断了</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// 判断虚拟按键</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;跳跃&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;按下跳跃&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;跳跃&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;跳跃中&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustReleased</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;跳跃&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;松开跳跃&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426174210989.png" alt="image-20250426174210989" class="img_ev3q"></p>
<p>虚拟按键不止可以监听这种状态 还有特殊的方法可以帮助我们监听,</p>
<p>相当于是一个状态轴</p>
<ul>
<li>按下 1</li>
<li>松开 0</li>
</ul>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426181109892.png" alt="image-20250426181109892" class="img_ev3q"></p>
<p>使用<code>Input.GetActionStrength</code>方法 拿到按下的状态值</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> actionStrength </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetActionStrength</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;跳跃&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">actionStrength</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426174723526.png" alt="image-20250426174723526" class="img_ev3q"></p>
<p>我们可以发现这是一个 0-1 的轴 只有两种状态能触发 实际上 godot 还给我们准备了有 -1 0 1 的三种状态的情况</p>
<p>左右两个按键代表了-1 和 1 如果都没有按则为 0</p>
<p>很经典的就是我们的向左移动 or 向右移动</p>
<p>添加新的虚拟映射</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426181116740.png" alt="image-20250426181116740" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426175052191.png" alt="image-20250426175052191" class="img_ev3q"></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">   </span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> axis </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetAxis</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;往那边走了 &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> axis</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们通过<code>GetAxis</code>方法来设置这个状态轴 这个时候控制台就可以输出了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426181009151.png" alt="image-20250426181009151" class="img_ev3q"></p>
<p>通常的游戏开发中我们需要获得上下左右四个方向的位置 godot 也提供了方式</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426181209522.png" alt="image-20250426181209522" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426181806412.png" alt="image-20250426181806412" class="img_ev3q"></p>
<p>设置好按键上下 就可以去监听了 方法参数的顺序为 左右 上下</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> vector2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetVector</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;up&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;down&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">vector2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>由于一直在输出 效果很难截图完整 只需要正确的设置好映射就直接可以展示的</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="节点重要">节点(重要)<a href="#节点重要" class="hash-link" aria-label="Direct link to 节点(重要)" title="Direct link to 节点(重要)">​</a></h2>
<p>我们知道节点都是在节点树上的 他一定是有继承关系的</p>
<p>那么我们该如何获取到父节点 子节点 然后操作呢 比如父子通信之类的</p>
<p>比如我们创建一个新的节点用于学习父子关系 同时创建一个测试节点</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426185734458.png" alt="image-20250426185734458" class="img_ev3q"></p>
<p>给 <code>sonNode</code>添加脚本然后放入内容 按下左键就释放 sontest 节点</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">/*</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955"> * 用于学习 节点的父子关系</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955"> *</span><br></span><span class="token-line" style="color:#0f172a"><span class="token comment" style="color:#6A9955"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">sonNode</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// 按下键盘左键拿到节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 拿到当前场景的根节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> root </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">CurrentScene</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> findChild </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> root</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">FindChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;sontest&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            findChild</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">QueueFree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>项目启动后 点击远程</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426185845253.png" alt="image-20250426185845253" class="img_ev3q"></p>
<p>然后按下 a 键 查看是否会让 sontest 消失</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426190015678.png" alt="image-20250426190015678" class="img_ev3q"></p>
<p>可以看到 sontest 也是成功释放了 这是最基础的对节点的操作</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变为子节点">变为子节点<a href="#变为子节点" class="hash-link" aria-label="Direct link to 变为子节点" title="Direct link to 变为子节点">​</a></h3>
<blockquote>
<p>接下来我们来尝试将同级节点变为子节点</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">  </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// 按下键盘左键拿到节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 拿到当前场景的根节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> root </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">CurrentScene</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> findChild </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> root</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">FindChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;sontest&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// findChild.QueueFree();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            root</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">RemoveChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">findChild</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// // 将test加入到当前节点中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">AddChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">findChild</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>现在的节点结构</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426190228386.png" alt="image-20250426190228386" class="img_ev3q"></p>
<blockquote>
<p>按下左键后</p>
</blockquote>
<p>这里我们将 node2d 的节点网上挪一个单位, 方便操作</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426190815931.png" alt="image-20250426190815931" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建节点">创建节点<a href="#创建节点" class="hash-link" aria-label="Direct link to 创建节点" title="Direct link to 创建节点">​</a></h3>
<p>接下来我们设置按下右键来创造节点</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// 按下键盘左键拿到节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 拿到当前场景的根节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> root </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">CurrentScene</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> findChild </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> root</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">FindChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;sontest&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// findChild.QueueFree();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            root</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">RemoveChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">findChild</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// // 将test加入到当前节点中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">AddChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">findChild</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//获取节点树</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> root </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">CurrentScene</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//创建节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"> node2D </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Node2D</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            node2D</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Name </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;CreateNode&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//加入节点树</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            root</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">AddChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">node2D</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>启动项目 然后按下键盘 d 键</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426191237215.png" alt="image-20250426191237215" class="img_ev3q"></p>
<p>可以看到我们按一次 d 键就会在根目录下 创建一个节点</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="更快速的操作">更快速的操作<a href="#更快速的操作" class="hash-link" aria-label="Direct link to 更快速的操作" title="Direct link to 更快速的操作">​</a></h3>
<p>多层级的节点操作 我们之前的代码中直接从 root 节点来往下获取, 其实我们可以使用<code>getParent</code>方法和泛型来快速获取到父节点 ,</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426191839904.png" alt="image-20250426191839904" class="img_ev3q"></p>
<p>我们给 sontest3 加入一个脚本</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">sonTest3</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;up&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 可以使用getNode通过树路径快速的拿到节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> node </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetNode</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;/root/Node2D/inputTest&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;当前拿到的节点&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> node</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Name</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这里我们按下 w 就会去获取到对应路径的 node 节点</p>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250426192234716.png" alt="image-20250426192234716" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="节点的详细面板">节点的详细面板<a href="#节点的详细面板" class="hash-link" aria-label="Direct link to 节点的详细面板" title="Direct link to 节点的详细面板">​</a></h3>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429163016629.png" alt="image-20250429163016629" class="img_ev3q"></p>
<p>从上到下分别是</p>
<ul>
<li>控制显示</li>
<li>显示层级</li>
<li>纹理</li>
<li>材质</li>
</ul>
<blockquote>
<p>node2d</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429163207049.png" alt="image-20250429163207049" class="img_ev3q"></p>
<ul>
<li>坐标向量</li>
<li>旋转角度</li>
<li>缩放</li>
<li>倾斜</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="节点常用属性">节点常用属性<a href="#节点常用属性" class="hash-link" aria-label="Direct link to 节点常用属性" title="Direct link to 节点常用属性">​</a></h3>
<p>创建一个新的节点</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429171738299.png" alt="image-20250429171738299" class="img_ev3q"></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Sprite2Dupdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//canvas的常用属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Visible </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//渲染顺序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">ZIndex </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">ZAsRelative </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> globalMousePosition </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetGlobalMousePosition</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;当前鼠标的位置&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> globalMousePosition</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>你会发现我们的设置的svg图标并没有展示 并且控制台实时的打印鼠标位置</p>
<blockquote>
<p>Node2d属性调整</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Sprite2Dupdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//canvas的常用属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Visible </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//渲染顺序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">ZIndex </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">ZAsRelative </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//node2d常用的属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Position </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">500</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">300</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//旋转</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Rotation </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0.2f</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//缩放</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Scale </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//倾斜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Skew </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> globalMousePosition </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetGlobalMousePosition</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;当前鼠标的位置&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> globalMousePosition</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>变换后的节点</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429172243033.png" alt="image-20250429172243033" class="img_ev3q"></p>
<blockquote>
<p>设置看向某个点</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> globalMousePosition </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetGlobalMousePosition</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token function" style="color:#0e7490">LookAt</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">globalMousePosition</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;当前鼠标的位置&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> globalMousePosition</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429172421358.png" alt="image-20250429172421358" class="img_ev3q"></p>
<p>你就会发现 图标跟着你的鼠标位置不断的旋转方向</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="精灵节点">精灵节点<a href="#精灵节点" class="hash-link" aria-label="Direct link to 精灵节点" title="Direct link to 精灵节点">​</a></h3>
<p>三个属性</p>
<ul>
<li>偏移量</li>
<li>动画(一般动画不会使用这个属性)</li>
<li>缩放</li>
</ul>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429172615900.png" alt="image-20250429172615900" class="img_ev3q"></p>
<blockquote>
<p>代码设置属性</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Sprite2Dupdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token attribute class-name" style="color:#0ea5e9">Export</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Texture2D</span><span class="token plain"> NewtTexture2D</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> timer </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//canvas的常用属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Visible </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//渲染顺序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">ZIndex </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">ZAsRelative </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//node2d常用的属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Position </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">500</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">300</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//旋转</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Rotation </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0.1f</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//缩放</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Scale </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//倾斜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// Skew = 30;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//精灵节点的设置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//纹理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Texture </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> NewtTexture2D</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//中心点 or 左上角</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Centered </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//偏移</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Offset </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//反转</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//水平</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        FlipH </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//垂直</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        FlipV </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//动画</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Hframes </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Vframes </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Frame </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// Vector2 globalMousePosition = GetGlobalMousePosition();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// LookAt(globalMousePosition);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// GD.Print(&quot;当前鼠标的位置&quot; + globalMousePosition);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">// 计时器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        timer </span><span class="token operator" style="color:#475569">+=</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//每一秒更换一个图像</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">timer </span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//充值计时器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            timer </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name keyword" style="color:#0c4a6e">int</span><span class="token plain"> index </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Frame </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">index </span><span class="token operator" style="color:#475569">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> index </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            Frame </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> index</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429173510192.png" alt="image-20250429173510192" class="img_ev3q"></p>
<p>启动后你会发现你的图片被分成了四帧动画</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="节点分组管理">节点分组管理<a href="#节点分组管理" class="hash-link" aria-label="Direct link to 节点分组管理" title="Direct link to 节点分组管理">​</a></h3>
<p>比如 有五个节点 一个player 四个boss 我们通过按键 销毁所有的boss 该如何去操作呢?</p>
<blockquote>
<p>创建一个新的场景,并且设置为主场景</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429173719870.png" alt="image-20250429173719870" class="img_ev3q"></p>
<p>我们添加五个精灵节点</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429173849196.png" alt="image-20250429173849196" class="img_ev3q"></p>
<p>大多数的时候 我们的节点名都是动态创建的 那么我们该如何快速的获取同类型的节点呢 ==分组==</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429174055163.png" alt="image-20250429174055163" class="img_ev3q"></p>
<p>创建分组将boss都加入到分组中 , 并且给player01创建一个脚本</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token namespace punctuation" style="color:#475569">.</span><span class="token namespace">Collections</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Player01</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//按下右键击杀全部敌人</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//获取到分组中的全部节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name keyword" style="color:#0c4a6e">var</span><span class="token plain"> boss </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetNodesInGroup</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;boss&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> node </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> boss</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                node</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">QueueFree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>启动以后按下右键全部销毁敌人</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429174746806.png" alt="image-20250429174746806" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="调用分组节点方法">调用分组节点方法<a href="#调用分组节点方法" class="hash-link" aria-label="Direct link to 调用分组节点方法" title="Direct link to 调用分组节点方法">​</a></h4>
<p>创建一个boss脚本加入到四个节点中,添加一个自定义方法</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">test</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;我是&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> Name</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我现在需要按下 键盘a 也就是虚拟键盘left 触发所有boss的test方法</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token namespace punctuation" style="color:#475569">.</span><span class="token namespace">Collections</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Player01</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//按下右键击杀全部敌人</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//获取到分组中的全部节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name keyword" style="color:#0c4a6e">var</span><span class="token plain"> boss </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetNodesInGroup</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;boss&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> node </span><span class="token keyword" style="color:#0c4a6e">in</span><span class="token plain"> boss</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;销毁节点&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Name</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">                node</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">QueueFree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name keyword" style="color:#0c4a6e">var</span><span class="token plain"> boss </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetNodesInGroup</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;boss&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">CallGroup</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;boss&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&quot;test&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429175224516.png" alt="image-20250429175224516" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="节点通信信号">节点通信(信号)<a href="#节点通信信号" class="hash-link" aria-label="Direct link to 节点通信(信号)" title="Direct link to 节点通信(信号)">​</a></h3>
<p>创建新的游戏场景<code>NodeSignalDemo</code>并且设置为主场景  新增文件夹 <code>NodeSignal</code> 之后我们有关这一小节的节点脚本都将放到这里</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430125819471.png" alt="image-20250430125819471" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="静态链接">静态链接<a href="#静态链接" class="hash-link" aria-label="Direct link to 静态链接" title="Direct link to 静态链接">​</a></h4>
<p>创建一个<code>button</code>节点并且创建一个button脚本绑定和一个精灵节点 用于学习和演示</p>
<p>点击详细面板的节点可以看到有很多很多信号可以选择 比如按钮的按下 释放 等等</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430132358058.png" alt="image-20250430132358058" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430130103188.png" alt="image-20250430130103188" class="img_ev3q"></p>
<blockquote>
<p>在脚本中新增一个方法</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//按钮按下触发</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">       </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">buttonClick</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//找到精灵节点并删除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"> sp2d </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token generic-method function" style="color:#0e7490">GetNode</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&lt;</span><span class="token generic-method generic class-name" style="color:#0ea5e9">Node2D</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;/root/NodeSignalDemo/Sprite2D&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        sp2d</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">QueueFree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>之后去godot的信号窗口将方法绑定到按钮按下 这里选取可能会出现无法选择的方式 我们可以手动将方法名加入到绑定中</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430131934367.png" alt="image-20250430131934367" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="动态链接">动态链接<a href="#动态链接" class="hash-link" aria-label="Direct link to 动态链接" title="Direct link to 动态链接">​</a></h4>
<p>通过代码的方式将方法设置到信号中, 先手动的把释放信号断开连接改为用代码动态的连接</p>
<blockquote>
<p>代码</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">mybutton</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Godot</span><span class="token type-list class-name punctuation" style="color:#475569">.</span><span class="token type-list class-name" style="color:#0ea5e9">Button</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token function" style="color:#0e7490">Connect</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;pressed&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Callable</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;buttonClick&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//按钮按下触发</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">buttonClick</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//找到精灵节点并删除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"> sp2d </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token generic-method function" style="color:#0e7490">GetNode</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&lt;</span><span class="token generic-method generic class-name" style="color:#0ea5e9">Node2D</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;/root/NodeSignalDemo/Sprite2D&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        sp2d</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">QueueFree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>启动测试 就可以看到效果</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="自定义信号">自定义信号<a href="#自定义信号" class="hash-link" aria-label="Direct link to 自定义信号" title="Direct link to 自定义信号">​</a></h4>
<p>基于 cs的委托机制 实现自定义信号 ,我们再创建2个节点</p>
<p>自定义信号的工作方式与内置信号相同：它们显示在“节点”选项卡中，你可以像连接其他信号一样连接到它们。</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430133117676.png" alt="image-20250430133117676" class="img_ev3q"></p>
<p>给A绑定一个脚本 ,然后我们期望按下按键 A 就可以使用自定义的信号</p>
<p><code>MySignalEventHandler</code> godot会将<code>EventHandler</code> 前的名称获取为信号的名称</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token attribute class-name" style="color:#0ea5e9">Signal</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">delegate</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">MySignalEventHandler</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//触发信号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token function" style="color:#0e7490">EmitSignal</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;MySignal&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们在A中创建一个委托 并且将信号暴露 这样我们在godot面板中就可以看到我们暴露的信号了 可以向设置系统信号一样设置这个型号</p>
<p>给节点 B 也创建一个脚本 编写一个方法 用于链接信号</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">B</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">showSignText</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;接受到信号了&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>确定链接信号</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430135405599.png" alt="image-20250430135405599" class="img_ev3q"></p>
<blockquote>
<p>启动该项目 就可以看到显示结果了</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430135431038.png" alt="image-20250430135431038" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="场景">场景<a href="#场景" class="hash-link" aria-label="Direct link to 场景" title="Direct link to 场景">​</a></h2>
<p>​		从之前的示例可以知道设置好主场景, 游戏会从主场景开始运行, 现在我们要新创建一个场景,来学习一下场景之间的交互</p>
<blockquote>
<p>新建场景在根目录</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429152945472.png" alt="image-20250429152945472" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="跳转场景路径跳转">跳转场景(路径跳转)<a href="#跳转场景路径跳转" class="hash-link" aria-label="Direct link to 跳转场景(路径跳转)" title="Direct link to 跳转场景(路径跳转)">​</a></h3>
<p>创建一个节点, 然后加入一个新的脚本 我们将在这个基点展示场景之间的跳转</p>
<ul>
<li>我们将game2设置为主场景</li>
<li>然后编写inputgame2脚本</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">InputGame2</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 拿到场景树</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">SceneTree</span><span class="token plain"> st </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//跳转场景</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            st</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">ChangeSceneToFile</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;res://node.tscn&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429153255710.png" alt="image-20250429153255710" class="img_ev3q"></p>
<blockquote>
<p>node场景 放入一个默认的图片</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429153907938.png" alt="image-20250429153907938" class="img_ev3q"></p>
<p>然后启动项目点击<code>A</code> 就可以查看跳转结果</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429153944990.png" alt="image-20250429153944990" class="img_ev3q"></p>
<p>按下<code>A</code></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429153958812.png" alt="image-20250429153958812" class="img_ev3q"></p>
<p>可以看到场景成功跳转了</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="场景跳转属性跳转">场景跳转(属性跳转)<a href="#场景跳转属性跳转" class="hash-link" aria-label="Direct link to 场景跳转(属性跳转)" title="Direct link to 场景跳转(属性跳转)">​</a></h3>
<p>我们可以使用<code>Attribute</code>的方式将变量导出到godot里进行选择,只需要将节点拖进去就可以了</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">InputGame2</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token attribute class-name" style="color:#0ea5e9">Export</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">PackedScene</span><span class="token plain"> newScene</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 拿到场景树</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">SceneTree</span><span class="token plain"> st </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//跳转场景</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// st.ChangeSceneToFile(&quot;res://node.tscn&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            st</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">ChangeSceneToPacked</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">newScene</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>操作</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429154528548.png" alt="image-20250429154528548" class="img_ev3q"></p>
<p>效果和之前的路径跳转一样, 好处是可以使用变量来进行跳转 对比纯路径更加灵活</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实例化场景-预设体">实例化场景 (预设体)<a href="#实例化场景-预设体" class="hash-link" aria-label="Direct link to 实例化场景 (预设体)" title="Direct link to 实例化场景 (预设体)">​</a></h3>
<blockquote>
<p>例子</p>
<p>比如弹匣里的子弹 我们主场景需要子弹 我们可以加载出子弹的节点 然后根据需要的数量来实例化场景节点并且获取到所需数量的对象</p>
</blockquote>
<p>比如node场景的精灵节点 我们需要按下right键位让game2(主场景)拿到这个节点</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">InputGame2</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">[</span><span class="token attribute class-name" style="color:#0ea5e9">Export</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">PackedScene</span><span class="token plain"> newScene</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// 拿到场景树</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">SceneTree</span><span class="token plain"> st </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//跳转场景</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">// st.ChangeSceneToFile(&quot;res://node.tscn&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            st</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">ChangeSceneToPacked</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">newScene</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token comment" style="color:#6A9955">//实例化场景 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> initNode </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> newScene</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Instantiate</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">            </span><span class="token function" style="color:#0e7490">GetTree</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">CurrentScene</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">AddChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">initNode</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>node</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429155142792.png" alt="image-20250429155142792" class="img_ev3q"></p>
<p>此刻查看我们的运行场景</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429155238063.png" alt="image-20250429155238063" class="img_ev3q"></p>
<p>按下右键 就能看到页面节点发生的变化, 就可以看到效果了 我们拿到了对应的节点</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429155826859.png" alt="image-20250429155826859" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="保证设定脚本任意场景都存活">保证设定脚本任意场景都存活<a href="#保证设定脚本任意场景都存活" class="hash-link" aria-label="Direct link to 保证设定脚本任意场景都存活" title="Direct link to 保证设定脚本任意场景都存活">​</a></h3>
<p>创建一个管理新脚本,我们需要他一直存活在游戏的运行中,</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429160306192.png" alt="image-20250429160306192" class="img_ev3q"></p>
<p>将我们的脚本挂在到项目设置的自动加载中, 这样我们就获得了一个随意切换场景并且保持存活的单利对象</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token comment" style="color:#6A9955">//用于对游戏做一些设定的管理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">GameManager</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;初始化一次&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429160749345.png" alt="image-20250429160749345" class="img_ev3q"></p>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429160859217.png" alt="image-20250429160859217" class="img_ev3q"></p>
<p>可以看到就算我切换场景 也不会多次触发ready方法 证明单例是没问题的 , 并且保证代码的存活</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="向量">向量<a href="#向量" class="hash-link" aria-label="Direct link to 向量" title="Direct link to 向量">​</a></h2>
<p>向量在开发游戏的道路中尤为基础和关键 我们的未来游戏的方向 瞄准 视线 等等都和向量的使用息息相关</p>
<p>大多数的游戏引擎都封装有对应的函数 这里主要简单复习一下</p>
<ul>
<li>标量 表示大小的量 如 88 99 100</li>
<li>向量 包含大小 也有方向 比如 前方 100m</li>
<li>向量的模: 只要大小 舍去方向</li>
<li>单位向量: 大小为1的向量</li>
<li>单位化: 把向量转换为单位向量的过程</li>
</ul>
<blockquote>
<p>向量的表示</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429161138386.png" alt="image-20250429161138386" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="向量的计算">向量的计算<a href="#向量的计算" class="hash-link" aria-label="Direct link to 向量的计算" title="Direct link to 向量的计算">​</a></h3>
<blockquote>
<p>向量的加法</p>
</blockquote>
<p>向量的加法计算思路很简单, 两个向量的起点链接 遵循起点做一个对角线就是结果  形状类似平行四边形</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429161427125.png" alt="image-20250429161427125" class="img_ev3q"></p>
<blockquote>
<p>向量的减法</p>
</blockquote>
<p>两个向量相减, 比如 a -b 获得的其实就是 从b指向a的向量 反之亦然</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250429161800346.png" alt="image-20250429161800346" class="img_ev3q"></p>
<blockquote>
<p>向量的点乘</p>
</blockquote>
<p>得到两个向量的夹角</p>
<p>计算思路大致就是
$$
\vec{A} \cdot \vec{B} = x_1x_2 + y_1y_2 = n = |\vec{A}||\vec{B}|\cos\theta = \cos\theta
$$</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h2>
<p>到这里godot官方文档的渐进式内容就结束了 这里视频观看的是 bilibili Gamer飞羽的视频配合 c# 菜鸟文档+godot官方文档 接下来是其他内容的笔记</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="节点动画">节点动画<a href="#节点动画" class="hash-link" aria-label="Direct link to 节点动画" title="Direct link to 节点动画">​</a></h2>
<p>使用的是 gamer飞羽公众号提供的2d资源包 地址: <a href="https://pan.quark.cn/s/c4723f7548b0" target="_blank" rel="noopener noreferrer">https://pan.quark.cn/s/c4723f7548b0</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="认识动画与选项卡配置动画">认识动画与选项卡配置动画<a href="#认识动画与选项卡配置动画" class="hash-link" aria-label="Direct link to 认识动画与选项卡配置动画" title="Direct link to 认识动画与选项卡配置动画">​</a></h3>
<p>新建项目 GameDemo1 并且将资源包加入其中 , 创建一个基础场景 并且创建一个精灵节点</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430140200312.png" alt="image-20250430140200312" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430140626369.png" alt="image-20250430140626369" class="img_ev3q"></p>
<p>我们将frame设置为8 因为这个攻击的素材有八帧</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430140706378.png" alt="image-20250430140706378" class="img_ev3q"></p>
<p>我们之前的教程有说过 并不会直接的在精灵节点中做动画相关的操作 这里我们选择 动画精灵节点</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430140810545.png" alt="image-20250430140810545" class="img_ev3q"></p>
<p>在选项卡里单击就可以创建动画了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430140842418.png" alt="image-20250430140842418" class="img_ev3q"></p>
<p>我们可以自行的修改状态 比如动画的名称 帧数 倍速等</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430140912973.png" alt="image-20250430140912973" class="img_ev3q"></p>
<p>控制台的按钮都有悬浮的介绍 不过多的介绍,当我们资源有很多帧的时候 我们可以选择从精灵表中加入动画资源</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430141008811.png" alt="image-20250430141008811" class="img_ev3q"></p>
<p>可以很明显的看到 我们的这个资源是水平 8 帧 垂直 1帧 设置后之后 可以通过选择帧数来创造动画</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430141246429.png" alt="image-20250430141246429" class="img_ev3q"></p>
<p>这里选择资源中的dle动画 设置好帧数之后 作为站立 循环5帧播放 设置好点击播放 就可以看到我们的小骷髅人动了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430141510369.png" alt="image-20250430141510369" class="img_ev3q"></p>
<p>其他的动画也按照 idle的思路创建</p>
<p>使用<code>AnimationPlayer</code> 来使用动画  这个动画节点支持我们使用动画轨道</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430142052840.png" alt="image-20250430142052840" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430142120270.png" alt="image-20250430142120270" class="img_ev3q"></p>
<p>给精灵节点添加一个纹理</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430142221438.png" alt="image-20250430142221438" class="img_ev3q"></p>
<p>然后创建动画轨道 我们可以通过轨道来播放</p>
<p>选择节点之后 我们会发现和之前的动画节点是不一样的 这里给我们提供了轨道的选项</p>
<p>新建一个 idle动画</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430142437814.png" alt="image-20250430142437814" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430142508983.png" alt="image-20250430142508983" class="img_ev3q"></p>
<p>我们可以通过添加轨道来选择节点并且设置关键帧 添加属性轨道</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430142540672.png" alt="image-20250430142540672" class="img_ev3q"></p>
<p>我们可以通过右键 打下关键帧 并且在不同关键帧使用不同的纹理 就可以看到变化 我们可以设置选中节点的所有属性加入到这个轨道中 很有意思</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430142743489.png" alt="image-20250430142743489" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2d光照">2D光照<a href="#2d光照" class="hash-link" aria-label="Direct link to 2D光照" title="Direct link to 2D光照">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全局光照">全局光照<a href="#全局光照" class="hash-link" aria-label="Direct link to 全局光照" title="Direct link to 全局光照">​</a></h3>
<p>godot给我们2d也提供了具备光照的节点  这是全局性的光照</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143214481.png" alt="image-20250430143214481" class="img_ev3q"></p>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143251626.png" alt="image-20250430143251626" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="点光源">点光源<a href="#点光源" class="hash-link" aria-label="Direct link to 点光源" title="Direct link to 点光源">​</a></h3>
<p><code>PointLight2D</code> 是点光源 我们给他加入一个纹理让他有体积 方便查看效果 可以看到在点光源的范围中的小骷髅会有被光照的感觉</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143347159.png" alt="image-20250430143347159" class="img_ev3q"></p>
<p>我们可以通过设置精灵的灯光遮罩层数 来选择哪个节点可以被光照</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143514880.png" alt="image-20250430143514880" class="img_ev3q"></p>
<p>需要被光照的通道必须匹配才会被这个光源照到</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143644352.png" alt="image-20250430143644352" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="阴影效果">阴影效果<a href="#阴影效果" class="hash-link" aria-label="Direct link to 阴影效果" title="Direct link to 阴影效果">​</a></h3>
<p>首先我们要能被光照到才能有阴影 这里我们创建一个遮罩节点</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143631772.png" alt="image-20250430143631772" class="img_ev3q"></p>
<p>创建遮罩体积<img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143737592.png" alt="image-20250430143737592" class="img_ev3q"></p>
<p>在光源这里开启支持阴影,之后就可以看出来我们的阴影效果了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430143827166.png" alt="image-20250430143827166" class="img_ev3q"></p>
<p>同样的我们障碍物和阴影的层数也要相同才可以展示</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430144143541.png" alt="image-20250430144143541" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="音频">音频<a href="#音频" class="hash-link" aria-label="Direct link to 音频" title="Direct link to 音频">​</a></h2>
<p>我们可以通过<code>audioStreamPlayer2D</code>节点来播放音频</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430190853595.png" alt="image-20250430190853595" class="img_ev3q"></p>
<p>我们可以在配置面板对音频进行一些设置 也可以在资源栏右键音频对音频进行一些设置</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430191038831.png" alt="image-20250430191038831" class="img_ev3q"></p>
<blockquote>
<p>用代码来配置音频</p>
</blockquote>
<p>创建一个精灵节点 加上一个脚本 然后我们希望在创建的时候播放音频</p>
<div class="language-CS language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">audioNode</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Sprite2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">private</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">AudioStreamPlayer</span><span class="token plain"> audioPlayer</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">//我们希望初始化这个节点的时候 就播放音乐</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		audioPlayer </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">AudioStreamPlayer</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">AddChild</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">audioPlayer</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//加载音频</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name" style="color:#0ea5e9">AudioStream</span><span class="token plain"> audioStream </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token generic-method function" style="color:#0e7490">Load</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&lt;</span><span class="token generic-method generic class-name" style="color:#0ea5e9">AudioStream</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;res://2dres/bgm/bg.ogg&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		audioPlayer</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Stream </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> audioStream</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		audioPlayer</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Play</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>当然我们也可以通过 <code>[EXPORT]</code>的方式直接在godot配置版加入音频</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="碰撞">碰撞<a href="#碰撞" class="hash-link" aria-label="Direct link to 碰撞" title="Direct link to 碰撞">​</a></h2>
<p>在游戏中我们经常的会需要去处理碰撞 这里我们来学习godot 开发游戏中最基础的碰撞</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基础碰撞">基础碰撞<a href="#基础碰撞" class="hash-link" aria-label="Direct link to 基础碰撞" title="Direct link to 基础碰撞">​</a></h3>
<p>我们先创建两个节点用于演示</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430193702413.png" alt="image-20250430193702413" class="img_ev3q"></p>
<p>我们通过使用 <code>area2d</code>节点来为精灵节点设置碰撞区域, 接着去创建描述碰撞区域的子节点 <code>collisionShape2d</code></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430193800643.png" alt="image-20250430193800643" class="img_ev3q"></p>
<p>之后再配置卡中选择创建碰撞区域类型就完成碰撞区域的建立了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430193936573.png" alt="image-20250430193936573" class="img_ev3q"></p>
<p>之后给敌人节点也配置好碰撞区域 打开area2d的配置卡信号区域 我们可以看到两个最常用的信号 用于显示碰撞和离开</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430194056569.png" alt="image-20250430194056569" class="img_ev3q"></p>
<p>我们为player添加一个脚本并且将脚本的关联方法加入到信号绑定, 这个信号会传给我们一个参数 表示在什么区域发生了碰撞</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">onAreaEnter</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Area2D</span><span class="token plain"> area2D</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;发生碰撞了&quot;</span><span class="token operator" style="color:#475569">+</span><span class="token plain">area2D</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430194817211.png" alt="image-20250430194817211" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="射线碰撞">射线碰撞<a href="#射线碰撞" class="hash-link" aria-label="Direct link to 射线碰撞" title="Direct link to 射线碰撞">​</a></h3>
<p>射线碰撞需要添加一个叫 <code>rayCast2d</code>的节点来实现 还是沿用我们的两个节点, 可以看到这个线就是射线碰撞的范围了</p>
<p>这两个配置项就是是否开启碰撞和是否开启和父节点的碰撞</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430195028956.png" alt="image-20250430195028956" class="img_ev3q"></p>
<blockquote>
<p>碰撞类型</p>
</blockquote>
<p>,默认情况下只检测物理碰撞 勾选 areas开启2d区域的检测</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430195220648.png" alt="image-20250430195220648" class="img_ev3q"></p>
<blockquote>
<p>检测碰撞</p>
</blockquote>
<p>我们需要添加脚本 来为射线检测提供支持, 这里我们采用触发物理会调用的狗子方法 <code>_PhysicsProcess</code>方法来检测射线 物理帧每一次都执行的区间是固定的 我们的需求是按下键位 拿到当前这一次的检查结果</p>
<p>PS: 这里我预先绑定好了 两个虚拟按键 left和right 对应 A D  你也可以绑定自己需要的键位</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">RayCast2dTest</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">RayCast2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//按下左键 判断射线检测</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			</span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token function" style="color:#0e7490">IsColliding</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">				</span><span class="token comment" style="color:#6A9955">//拿到碰撞的区域</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">				</span><span class="token class-name" style="color:#0ea5e9">Area2D</span><span class="token plain"> collider </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetCollider</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">as</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Area2D</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">				GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;检测到了碰撞 &quot;</span><span class="token operator" style="color:#475569">+</span><span class="token plain">collider</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Name</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			</span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">				GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;没检测到&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>启动当前的场景去按下左键获取</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430195925439.png" alt="image-20250430195925439" class="img_ev3q"></p>
<p>这里还有一个拓展的节点 <code>ShapeCast2D</code>这个节点可以选择射线的形状 使用的方式和射线节点非常相似</p>
<p>射线也有检测的层级</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="物理碰撞">物理碰撞<a href="#物理碰撞" class="hash-link" aria-label="Direct link to 物理碰撞" title="Direct link to 物理碰撞">​</a></h3>
<p>这里我们使用 <code>staticBody2D </code>节点作为地板 来学习物理碰撞  创建节点并且为他添加一个碰撞形状</p>
<p>我们可以为staticBody2D 加入材质 并且可以设置摩擦力</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430200440035.png" alt="image-20250430200440035" class="img_ev3q"></p>
<p>之后我们用<code>RigidBody2d</code>节点 来让精灵节点拥有动态碰撞</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430200648938.png" alt="image-20250430200648938" class="img_ev3q"></p>
<p>这个时候 你启动项目就可以看到 演示节点掉到地板上哈哈</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="小实现-物理的任务控制">小实现 物理的任务控制<a href="#小实现-物理的任务控制" class="hash-link" aria-label="Direct link to 小实现 物理的任务控制" title="Direct link to 小实现 物理的任务控制">​</a></h3>
<p>我们之前添加了 虚拟按键 a d 接下来我们来实现一个基于水平轴体的人物移动 给我们的人物刚体添加一个脚本</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">RigidBody2dPlayerControl</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">RigidBody2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//获取水平轴 用于左右移动 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> h </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetAxis</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//设置速度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		LinearVelocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">h </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> LinearVelocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Y</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>此刻启动你的游戏 就可以发现你的人物可以移动了 但是是翻滚着移动的</p>
</blockquote>
<p>我们需要锁定旋转</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">RigidBody2dPlayerControl</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">RigidBody2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//锁定旋转</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		LockRotation </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//获取水平轴 用于左右移动 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> h </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetAxis</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//设置速度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		LinearVelocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">h </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> LinearVelocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Y</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果我们想实现跳跃 只需要绑定 space 然后修改Y轴就可以了  新增 up绑定空格 ,并且我们需要通过刚体的信号来建立碰撞检测的通知</p>
<p>鼠标悬浮就可以看到介绍 自行了解</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430202137067.png" alt="image-20250430202137067" class="img_ev3q"></p>
<blockquote>
<p>代码</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">RigidBody2dPlayerControl</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">RigidBody2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#0c4a6e">bool</span><span class="token plain"> isGround </span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        		LockRotation </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//如果刚体需要碰撞检测需要设置这个选项</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		ContactMonitor </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//记录的次数 默认为0 不修改这个就算绑定了信号也不检测</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		MaxContactsReported </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//获取水平轴 用于左右移动 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> h </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetAxis</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//设置速度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		LinearVelocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">h </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">100</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> LinearVelocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Y</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;up&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&amp;&amp;</span><span class="token plain"> isGround </span><span class="token operator" style="color:#475569">==</span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			</span><span class="token comment" style="color:#6A9955">//跳跃</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			LinearVelocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Vector2</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">LinearVelocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">X</span><span class="token punctuation" style="color:#475569">,</span><span class="token operator" style="color:#475569">-</span><span class="token number" style="color:#B5CEA8">200</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">bodyEntered</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> body</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;人物落地了&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		isGround </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">bodyExited</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name" style="color:#0ea5e9">Node</span><span class="token plain"> body</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;人物起跳了&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		isGround </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>然后我们将碰撞和离开两个方法绑定到信号</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430202422344.png" alt="image-20250430202422344" class="img_ev3q"></p>
<p>启动游戏 就可以获得一个简单的任务控制器了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430202609204.png" alt="image-20250430202609204" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="人物控制器">人物控制器<a href="#人物控制器" class="hash-link" aria-label="Direct link to 人物控制器" title="Direct link to 人物控制器">​</a></h2>
<p>学了一大圈 godot其实给我们提供了专门用于角色的任务控制器 他也是刚体下的一个节点 这个节点的一切下落 移动等 需要我们来控制操作 比如你创建好碰撞和物理 但是你启动界面后 人物还是会在空中</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430202723272.png" alt="image-20250430202723272" class="img_ev3q"></p>
<p>绑定好脚本之后 会发现内置的模版有很多的代码  这其实和我们上一小节实现的代码非常的相似</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">CharacterBody2dPlayer</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">CharacterBody2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> Speed </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">300.0f</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> JumpVelocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token operator" style="color:#475569">-</span><span class="token number" style="color:#B5CEA8">400.0f</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> velocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Velocity</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">// Add the gravity.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token operator" style="color:#475569">!</span><span class="token function" style="color:#0e7490">IsOnFloor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			velocity </span><span class="token operator" style="color:#475569">+=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetGravity</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">float</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">// Handle Jump.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">IsActionJustPressed</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;ui_accept&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">IsOnFloor</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			velocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Y </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> JumpVelocity</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">// Get the input direction and handle the movement/deceleration.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">// As good practice, you should replace UI actions with custom gameplay actions.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> direction </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetVector</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;ui_left&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ui_right&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ui_up&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;ui_down&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">direction </span><span class="token operator" style="color:#475569">!=</span><span class="token plain"> Vector2</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Zero</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			velocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">X </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> direction</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">X </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> Speed</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token keyword" style="color:#0c4a6e">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">			velocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">X </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Mathf</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">MoveToward</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">Velocity</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">X</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain"> Speed</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		Velocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> velocity</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token function" style="color:#0e7490">MoveAndSlide</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ui">UI<a href="#ui" class="hash-link" aria-label="Direct link to UI" title="Direct link to UI">​</a></h2>
<p>godot的ui都基于control节点 我们可以来创建一个ui场景</p>
<blockquote>
<p>小案例</p>
</blockquote>
<p>比如我们想要将一个ui相对的放到屏幕的某个位置</p>
<p>我们创建一个新的场景 <code>ui</code> 选择用户界面 比如当前这个节点是我想要的小地图 我希望他不论多大的窗口都在右上角显示 就可以这样设置 其他的设置godot的显示的非常完全可以按需去选择</p>
<p>这个相对的锚点其实就是对于宽度和边缘的计算</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430204209914.png" alt="image-20250430204209914" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="带纹理的方块">带纹理的方块<a href="#带纹理的方块" class="hash-link" aria-label="Direct link to 带纹理的方块" title="Direct link to 带纹理的方块">​</a></h3>
<p>选项卡 提供了非常丰富的选项</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430204621293.png" alt="image-20250430204621293" class="img_ev3q"></p>
<blockquote>
<p>显示模式</p>
</blockquote>
<p>第一个配置项为忽略模式</p>
<p>第二个配置项是纹理的展示程度</p>
<p>godot为我们提供很详细的中文描述所以不过多的赘述</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430204653367.png" alt="image-20250430204653367" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="文字控件">文字控件<a href="#文字控件" class="hash-link" aria-label="Direct link to 文字控件" title="Direct link to 文字控件">​</a></h3>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430204856376.png" alt="image-20250430204856376" class="img_ev3q"></p>
<p>顾名思义 就是可以展示我们的文本了</p>
<p>我们所有对label的设置都支持导入导出 不需要重复设置</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430205016473.png" alt="image-20250430205016473" class="img_ev3q"></p>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430205158947.png" alt="image-20250430205158947" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="按钮节点">按钮节点<a href="#按钮节点" class="hash-link" aria-label="Direct link to 按钮节点" title="Direct link to 按钮节点">​</a></h3>
<p>我们在之前的节点说过了 带文档的按钮 其实按钮是常用也简单的控件</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250430205316267.png" alt="image-20250430205316267" class="img_ev3q"></p>
<p>常用的四个按钮 之后我们使用的时候会展示使用细节</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="进度条">进度条<a href="#进度条" class="hash-link" aria-label="Direct link to 进度条" title="Direct link to 进度条">​</a></h3>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501203215853.png" alt="image-20250501203215853" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501203231310.png" alt="image-20250501203231310" class="img_ev3q"></p>
<p>我们可以用来做加载动画 或者血条</p>
<p>选项卡非常的清晰</p>
<ul>
<li>最大值</li>
<li>最小值</li>
<li>每次变化多少</li>
<li>当前多少</li>
<li>等等</li>
</ul>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501203322137.png" alt="image-20250501203322137" class="img_ev3q"></p>
<blockquote>
<p>小实验 制作血条</p>
</blockquote>
<p>我们为这个进度条节点 加入一个脚本 , 然后创建一个方法 用于绑定信号, 然后我们的小实验基于按键左右来操作进度条的值</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501203446812.png" alt="image-20250501203446812" class="img_ev3q"></p>
<blockquote>
<p>代码</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">ProgressBarTest</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">ProgressBar</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">var</span><span class="token plain"> h </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetAxis</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;left&quot;</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&quot;right&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		Value </span><span class="token operator" style="color:#475569">+=</span><span class="token plain"> h</span><span class="token operator" style="color:#475569">*</span><span class="token number" style="color:#B5CEA8">50</span><span class="token operator" style="color:#475569">*</span><span class="token plain">delta</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">onValueChanged</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">float</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">value</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token keyword" style="color:#0c4a6e">value</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>记得将<code>onValueChanged</code>绑定到信号中</p>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501211924004.png" alt="image-20250501211924004" class="img_ev3q"></p>
<p>之后启动项目 你就可以获得一个由 a d键位控制的进度条了 这里我使用的是虚拟键位 你可以直接使用 key.*的输入来完成</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="输入框">输入框<a href="#输入框" class="hash-link" aria-label="Direct link to 输入框" title="Direct link to 输入框">​</a></h3>
<p>很多属性可以自己悬浮查看 这里我们主要看一下这个模式 这个是关于内容溢出的模式 none是单行滚动条 另一个选项是自动换行</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501212201640.png" alt="image-20250501212201640" class="img_ev3q"></p>
<blockquote>
<p>常用的信号</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501212316733.png" alt="image-20250501212316733" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="容器">容器<a href="#容器" class="hash-link" aria-label="Direct link to 容器" title="Direct link to 容器">​</a></h3>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501212348068.png" alt="image-20250501212348068" class="img_ev3q"></p>
<p>我现在由好几个空间 我自己手动的去布局 会很麻烦 这个时候我们可以引入一个容器节点 来为我们自动的管理容器的位置模式</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501212503808.png" alt="image-20250501212503808" class="img_ev3q"></p>
<p>我们创造一个水平容器</p>
<p>然后将节点加入到容器中</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501212546532.png" alt="image-20250501212546532" class="img_ev3q"></p>
<p>我们会发现加入的新节点 都按照加入的顺序 水平的排序好位置了 这就是容器为我们做的事情</p>
<p>加入我们想要实现背包 我们该如何选择呢 ? godot给我们提供了格子容器</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501212720213.png" alt="image-20250501212720213" class="img_ev3q"></p>
<p>设定好行数 节点就会自动的去排列</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501212835333.png" alt="image-20250501212835333" class="img_ev3q"></p>
<p>那如果我们空间沾满了需要滚动条呢 godot也提供了对应的滚动条容器 加入就可以使用基本的功能了 很方便</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501213023259.png" alt="image-20250501213023259" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="选项列表">选项列表<a href="#选项列表" class="hash-link" aria-label="Direct link to 选项列表" title="Direct link to 选项列表">​</a></h3>
<p>类似于节点容器 我们可以在里面创建出所需要的item并且自带响应事件</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501213200255.png" alt="image-20250501213200255" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501213345395.png" alt="image-20250501213345395" class="img_ev3q"></p>
<p>我们可以通过选项卡的设置 来完成对item展示的控制 同时可以通过信号来接收到item触发的点击回调</p>
<blockquote>
<p>比较重要的item信号</p>
</blockquote>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">ItemListTest</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">ItemList</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called every frame. &#x27;delta&#x27; is the elapsed time since the previous frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Process</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">ItemClickedFunc</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:#475569">,</span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> pos</span><span class="token punctuation" style="color:#475569">,</span><span class="token class-name keyword" style="color:#0c4a6e">int</span><span class="token plain"> mbi</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;点击触发&quot;</span><span class="token operator" style="color:#475569">+</span><span class="token plain">index</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501213655848.png" alt="image-20250501213655848" class="img_ev3q"></p>
<p>启动项目 就可以看到点击的结果了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501213733194.png" alt="image-20250501213733194" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2d相机">2d相机<a href="#2d相机" class="hash-link" aria-label="Direct link to 2d相机" title="Direct link to 2d相机">​</a></h2>
<p>创建一个新的 Game场景, 创建一个 2d相机节点, 接下来我们搭建一个角色的基础场景 来学习相机</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501213903228.png" alt="image-20250501213903228" class="img_ev3q"></p>
<blockquote>
<p>场景结构</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501214215370.png" alt="image-20250501214215370" class="img_ev3q"></p>
<p>然后我们给角色node加入基础的移动脚本 直接创建脚本实现godot的模版就可以了, 问题就来了 我们启动了之后 一致往右边走 会发现走出一定的距离之后 角色就消失了 这里我们就要用到相机了 我们可以用2d相机绑定到人物上来实现视角的跟随</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501214359527.png" alt="image-20250501214359527" class="img_ev3q"></p>
<p>godot的规则中 父节点会带动子节点移动 那么我们在只有一个相机的情况下 直接将2d相机加入到角色节点下 就实现了效果</p>
<blockquote>
<p>相机选项卡中比较重要的设置就是limit</p>
</blockquote>
<p>在godot中不希望相机到地图的最左边 left设置为 0 就可以保证不溢出了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501214722701.png" alt="image-20250501214722701" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="地图">地图<a href="#地图" class="hash-link" aria-label="Direct link to 地图" title="Direct link to 地图">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基础">基础<a href="#基础" class="hash-link" aria-label="Direct link to 基础" title="Direct link to 基础">​</a></h3>
<p><code>瓦片地图</code> 2d中很常用的地图节点 创建新的场景 stumap 并且设置主场景</p>
<p>设置一个全新的tile种子 这样就可以开始设计我们的图块地图了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501215113815.png" alt="image-20250501215113815" class="img_ev3q"></p>
<p>然后我们导入资源文件中的 tileset 需要注意的是我们每个格子的大小要和tilemap一致 比如图片中都是 16*16px一个格子</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501215445410.png" alt="image-20250501215445410" class="img_ev3q"></p>
<p>之后打开选项卡中的 tilemap就可以看到我们的图片资源 可以选择格子开始绘制了</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501215913185.png" alt="image-20250501215913185" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501215855374.png" alt="image-20250501215855374" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="地图分层">地图分层<a href="#地图分层" class="hash-link" aria-label="Direct link to 地图分层" title="Direct link to 地图分层">​</a></h3>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501215959803.png" alt="image-20250501215959803" class="img_ev3q"></p>
<p>可以选择什么元素展示在什么层中,在编辑中其他层数的元素会变暗 , 运行的时候不会有展示</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501220057094.png" alt="image-20250501220057094" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="元素复用">元素复用<a href="#元素复用" class="hash-link" aria-label="Direct link to 元素复用" title="Direct link to 元素复用">​</a></h3>
<p>我们可以将画好的地图元素 复制到图案中复用 选中编辑器里的元素 复制到突然即可</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501220353845.png" alt="image-20250501220353845" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="元素碰撞">元素碰撞<a href="#元素碰撞" class="hash-link" aria-label="Direct link to 元素碰撞" title="Direct link to 元素碰撞">​</a></h3>
<p>比如我们希望某一个元素块 有物理元素 可以当障碍物使用 , 就可以开启tilemap的物理层 然后选择地图块</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501220733175.png" alt="image-20250501220733175" class="img_ev3q"></p>
<p>为图块添加物理层 然后你就会发现 我们预览其中可以看到图块被添加的碰撞体积</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250501220847279.png" alt="image-20250501220847279" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="导航寻路">导航寻路<a href="#导航寻路" class="hash-link" aria-label="Direct link to 导航寻路" title="Direct link to 导航寻路">​</a></h2>
<p>寻路和导航 在任何角色扮演类游戏中都必不可少 接下来学习一下 <code>godot</code>中如何去完成寻路与导航吧</p>
<p>创建一个全新的场景 用于学习导航寻路, 创建一些精灵节点 作为障碍物</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502142346691.png" alt="image-20250502142346691" class="img_ev3q"></p>
<p>想要添加导航 我们需要为场景加入导航区域</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502142437578.png" alt="image-20250502142437578" class="img_ev3q"></p>
<p>创建完成后我们需要再选项卡创建一个绘制多边形</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502142505575.png" alt="image-20250502142505575" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502142513553.png" alt="image-20250502142513553" class="img_ev3q"></p>
<p>之后就可以绘制导航区域了 同样的这也支持分层, 绘制区域 避开障碍物</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502142632273.png" alt="image-20250502142632273" class="img_ev3q"></p>
<p>创建一个角色控制器</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502142844168.png" alt="image-20250502142844168" class="img_ev3q"></p>
<p>之后为角色导航加入一个 导航代理节点 携带这个代理节点就可以在导航区域使用导航</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502142932678.png" alt="image-20250502142932678" class="img_ev3q"></p>
<p>接下来我们需要实现一个思路 就是让角色移动到我鼠标点击的方向 来看看角色是否可以避开障碍物</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">CharacterBody2dTestNavi</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">CharacterBody2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token comment" style="color:#6A9955">//导航使用节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token class-name" style="color:#0ea5e9">NavigationAgent2D</span><span class="token plain"> nav</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">         </span><span class="token keyword" style="color:#0c4a6e">base</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">         </span><span class="token comment" style="color:#6A9955">//获取 agent节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">         nav </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token generic-method function" style="color:#0e7490">GetNode</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&lt;</span><span class="token generic-method generic class-name" style="color:#0ea5e9">NavigationAgent2D</span><span class="token generic-method generic class-name punctuation" style="color:#475569">&gt;</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;NavigationAgent2D&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">     </span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_PhysicsProcess</span><span class="token punctuation" style="color:#475569">(</span><span class="token class-name keyword" style="color:#0c4a6e">double</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//设置鼠标位置为导航目标点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        nav</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">TargetPosition </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">GetGlobalMousePosition</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token comment" style="color:#6A9955">//朝着该方向移动 不断的生成路径点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token class-name" style="color:#0ea5e9">Vector2</span><span class="token plain"> nextPathPosition </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">nav</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GetNextPathPosition</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"> </span><span class="token operator" style="color:#475569">-</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">this</span><span class="token punctuation" style="color:#475569">.</span><span class="token plain">Position</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Normalized</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        Velocity </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> nextPathPosition </span><span class="token operator" style="color:#475569">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">300</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">        </span><span class="token function" style="color:#0e7490">MoveAndSlide</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">    </span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>基于当前场景运行 就实现了简单的寻路 这里的寻路默认是基于 A*算法</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="粒子特效">粒子特效<a href="#粒子特效" class="hash-link" aria-label="Direct link to 粒子特效" title="Direct link to 粒子特效">​</a></h2>
<p>他有两个节点 一个是基于cpu计算 一个是基于显卡计算</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502144456939.png" alt="image-20250502144456939" class="img_ev3q"></p>
<p>通常只要可以使用gpu那么我们都有先用 gpu 性能更加的好</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502144717255.png" alt="image-20250502144717255" class="img_ev3q"></p>
<p>比较重要的就是纹理了 粒子发射实际上就是使用贴图绘制特效  , 选择材质. 创建完之后我们就可以看到粒子的发射了 为什么是向下掉落呢 因为默认是开启了重力</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502144828273.png" alt="image-20250502144828273" class="img_ev3q"></p>
<p>设置纹理</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502145055609.png" alt="image-20250502145055609" class="img_ev3q"></p>
<p>就可以看到发射出来的粒子了  我们可以关闭重力</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502145259685.png" alt="image-20250502145259685" class="img_ev3q"></p>
<blockquote>
<p>比如我们想朝着x方向发射粒子</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502145358173.png" alt="image-20250502145358173" class="img_ev3q"></p>
<p>我们可以随意的实验选项卡的选项 来达到各种效果</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502145651037.png" alt="image-20250502145651037" class="img_ev3q"></p>
<blockquote>
<p>颜色渐变</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502145825184.png" alt="image-20250502145825184" class="img_ev3q"></p>
<p>我们可以通过设置粒子的展示方式来实现下雪的效果  将持续时间设置5s左右</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502150349258.png" alt="image-20250502150349258" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502150408733.png" alt="image-20250502150408733" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据持久化">数据持久化<a href="#数据持久化" class="hash-link" aria-label="Direct link to 数据持久化" title="Direct link to 数据持久化">​</a></h2>
<p>游戏需要存档 也就是本地持久化 我们需要读档 存档 所以需要以文件的形式 存入到客户端主机里 尤其是我们的引擎是跨平台的 这里我们需要利用godot为我们提供的持久化路径 <code>user://</code> 它会在不同的系统转为不同的路径</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">localtest</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">string</span><span class="token plain"> path </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> ProjectSettings</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GlobalizePath</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;user://1.txt&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;路径为&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> path</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>创建一个空节点 绑定一个脚本 ,这里我们来演示存储数据</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502150830598.png" alt="image-20250502150830598" class="img_ev3q"></p>
<p>可以看到控制台输出的路径 这就是godot为我们win系统生成的文件持久化路径</p>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502150939540.png" alt="image-20250502150939540" class="img_ev3q"></p>
<p>这里我们只是展示了一下路径转换并没有创建文件 所有没有 <code>1.TXT</code></p>
<blockquote>
<p>存一个简单的文件</p>
</blockquote>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token namespace punctuation" style="color:#475569">.</span><span class="token namespace">IO</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">localtest</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">string</span><span class="token plain"> path </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> ProjectSettings</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">GlobalizePath</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;user://1.txt&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token string" style="color:#64748b">&quot;路径为&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#475569">+</span><span class="token plain"> path</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		File</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">WriteAllText</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#475569">,</span><span class="token string" style="color:#64748b">&quot;唐唐唐唐唐唐唐唐唐唐唐唐唐唐唐唐唐&quot;</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502151119212.png" alt="image-20250502151119212" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用json来完成更优质的数据存储">使用json来完成更优质的数据存储<a href="#使用json来完成更优质的数据存储" class="hash-link" aria-label="Direct link to 使用json来完成更优质的数据存储" title="Direct link to 使用json来完成更优质的数据存储">​</a></h3>
<p>我们使用字典格式来存储为json</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#0f172a;--prism-background-color:#f1f5f9"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#0f172a;background-color:#f1f5f9"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#0f172a"><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token namespace punctuation" style="color:#475569">.</span><span class="token namespace">IO</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Godot</span><span class="token namespace punctuation" style="color:#475569">.</span><span class="token namespace">Collections</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token namespace">Microsoft</span><span class="token namespace punctuation" style="color:#475569">.</span><span class="token namespace">VisualBasic</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">using</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Array</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">Godot</span><span class="token class-name punctuation" style="color:#475569">.</span><span class="token class-name" style="color:#0ea5e9">Collections</span><span class="token class-name punctuation" style="color:#475569">.</span><span class="token class-name" style="color:#0ea5e9">Array</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">class</span><span class="token plain"> </span><span class="token class-name" style="color:#0ea5e9">localtest</span><span class="token plain"> </span><span class="token punctuation" style="color:#475569">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:#0ea5e9">Node2D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token comment" style="color:#6A9955">// Called when the node enters the scene tree for the first time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token keyword" style="color:#0c4a6e">public</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">override</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#0c4a6e">void</span><span class="token plain"> </span><span class="token function" style="color:#0e7490">_Ready</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//{user:[{&quot;name&quot;:&quot;小冷&quot;},{&quot;血量&quot;:&quot;100&quot;}]}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//第二层的数据 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name" style="color:#0ea5e9">Dictionary</span><span class="token plain"> user1 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Dictionary</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name" style="color:#0ea5e9">Dictionary</span><span class="token plain"> user2 </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Dictionary</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		user1</span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;小冷&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		user1</span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;血量&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;100&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		user2</span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;name&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;猫头&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		user2</span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;血量&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token string" style="color:#64748b">&quot;114514&quot;</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token comment" style="color:#6A9955">//创造一个字典数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">var</span><span class="token plain"> array </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Array</span><span class="token punctuation" style="color:#475569">{</span><span class="token plain">user1</span><span class="token punctuation" style="color:#475569">,</span><span class="token plain">user2</span><span class="token punctuation" style="color:#475569">}</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name" style="color:#0ea5e9">Dictionary</span><span class="token plain"> dic </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> </span><span class="token keyword" style="color:#0c4a6e">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:#0ea5e9">Dictionary</span><span class="token punctuation" style="color:#475569">(</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		dic</span><span class="token punctuation" style="color:#475569">[</span><span class="token string" style="color:#64748b">&quot;user&quot;</span><span class="token punctuation" style="color:#475569">]</span><span class="token plain"> </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> array</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		</span><span class="token class-name keyword" style="color:#0c4a6e">string</span><span class="token plain"> stringify </span><span class="token operator" style="color:#475569">=</span><span class="token plain"> Json</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Stringify</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">dic</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">		GD</span><span class="token punctuation" style="color:#475569">.</span><span class="token function" style="color:#0e7490">Print</span><span class="token punctuation" style="color:#475569">(</span><span class="token plain">stringify</span><span class="token punctuation" style="color:#475569">)</span><span class="token punctuation" style="color:#475569">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain">	</span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain"></span><span class="token punctuation" style="color:#475569">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#0f172a"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>效果</p>
</blockquote>
<p><img decoding="async" loading="lazy" src="http://img.doomwatcher.cn/img/image-20250502152121541.png" alt="image-20250502152121541" class="img_ev3q"></p>
<h1>总结</h1>
<p>到这里 我们的Godot基础学习与认识 笔记就完结了 之后就可以去尝试学习和创造一些demo 将自己的想象力通过godot实现出来</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#安装环境" class="table-of-contents__link toc-highlight">安装环境</a></li><li><a href="#场景和节点" class="table-of-contents__link toc-highlight">场景和节点</a></li><li><a href="#脚本" class="table-of-contents__link toc-highlight">脚本</a><ul><li><a href="#生命周期方法" class="table-of-contents__link toc-highlight">生命周期方法</a></li></ul></li><li><a href="#输入" class="table-of-contents__link toc-highlight">输入</a><ul><li><a href="#键盘事件" class="table-of-contents__link toc-highlight">键盘事件</a></li><li><a href="#鼠标事件" class="table-of-contents__link toc-highlight">鼠标事件</a></li><li><a href="#输入映射常用" class="table-of-contents__link toc-highlight">输入映射(常用)</a></li></ul></li><li><a href="#节点重要" class="table-of-contents__link toc-highlight">节点(重要)</a><ul><li><a href="#变为子节点" class="table-of-contents__link toc-highlight">变为子节点</a></li><li><a href="#创建节点" class="table-of-contents__link toc-highlight">创建节点</a></li><li><a href="#更快速的操作" class="table-of-contents__link toc-highlight">更快速的操作</a></li><li><a href="#节点的详细面板" class="table-of-contents__link toc-highlight">节点的详细面板</a></li><li><a href="#节点常用属性" class="table-of-contents__link toc-highlight">节点常用属性</a></li><li><a href="#精灵节点" class="table-of-contents__link toc-highlight">精灵节点</a></li><li><a href="#节点分组管理" class="table-of-contents__link toc-highlight">节点分组管理</a></li><li><a href="#节点通信信号" class="table-of-contents__link toc-highlight">节点通信(信号)</a></li></ul></li><li><a href="#场景" class="table-of-contents__link toc-highlight">场景</a><ul><li><a href="#跳转场景路径跳转" class="table-of-contents__link toc-highlight">跳转场景(路径跳转)</a></li><li><a href="#场景跳转属性跳转" class="table-of-contents__link toc-highlight">场景跳转(属性跳转)</a></li><li><a href="#实例化场景-预设体" class="table-of-contents__link toc-highlight">实例化场景 (预设体)</a></li><li><a href="#保证设定脚本任意场景都存活" class="table-of-contents__link toc-highlight">保证设定脚本任意场景都存活</a></li></ul></li><li><a href="#向量" class="table-of-contents__link toc-highlight">向量</a><ul><li><a href="#向量的计算" class="table-of-contents__link toc-highlight">向量的计算</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#节点动画" class="table-of-contents__link toc-highlight">节点动画</a><ul><li><a href="#认识动画与选项卡配置动画" class="table-of-contents__link toc-highlight">认识动画与选项卡配置动画</a></li></ul></li><li><a href="#2d光照" class="table-of-contents__link toc-highlight">2D光照</a><ul><li><a href="#全局光照" class="table-of-contents__link toc-highlight">全局光照</a></li><li><a href="#点光源" class="table-of-contents__link toc-highlight">点光源</a></li><li><a href="#阴影效果" class="table-of-contents__link toc-highlight">阴影效果</a></li></ul></li><li><a href="#音频" class="table-of-contents__link toc-highlight">音频</a></li><li><a href="#碰撞" class="table-of-contents__link toc-highlight">碰撞</a><ul><li><a href="#基础碰撞" class="table-of-contents__link toc-highlight">基础碰撞</a></li><li><a href="#射线碰撞" class="table-of-contents__link toc-highlight">射线碰撞</a></li><li><a href="#物理碰撞" class="table-of-contents__link toc-highlight">物理碰撞</a></li><li><a href="#小实现-物理的任务控制" class="table-of-contents__link toc-highlight">小实现 物理的任务控制</a></li></ul></li><li><a href="#人物控制器" class="table-of-contents__link toc-highlight">人物控制器</a></li><li><a href="#ui" class="table-of-contents__link toc-highlight">UI</a><ul><li><a href="#带纹理的方块" class="table-of-contents__link toc-highlight">带纹理的方块</a></li><li><a href="#文字控件" class="table-of-contents__link toc-highlight">文字控件</a></li><li><a href="#按钮节点" class="table-of-contents__link toc-highlight">按钮节点</a></li><li><a href="#进度条" class="table-of-contents__link toc-highlight">进度条</a></li><li><a href="#输入框" class="table-of-contents__link toc-highlight">输入框</a></li><li><a href="#容器" class="table-of-contents__link toc-highlight">容器</a></li><li><a href="#选项列表" class="table-of-contents__link toc-highlight">选项列表</a></li></ul></li><li><a href="#2d相机" class="table-of-contents__link toc-highlight">2d相机</a></li><li><a href="#地图" class="table-of-contents__link toc-highlight">地图</a><ul><li><a href="#基础" class="table-of-contents__link toc-highlight">基础</a></li><li><a href="#地图分层" class="table-of-contents__link toc-highlight">地图分层</a></li><li><a href="#元素复用" class="table-of-contents__link toc-highlight">元素复用</a></li><li><a href="#元素碰撞" class="table-of-contents__link toc-highlight">元素碰撞</a></li></ul></li><li><a href="#导航寻路" class="table-of-contents__link toc-highlight">导航寻路</a></li><li><a href="#粒子特效" class="table-of-contents__link toc-highlight">粒子特效</a></li><li><a href="#数据持久化" class="table-of-contents__link toc-highlight">数据持久化</a><ul><li><a href="#使用json来完成更优质的数据存储" class="table-of-contents__link toc-highlight">使用json来完成更优质的数据存储</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">  来自冷环渊的技术支持与文档创作 @2025</div></div></div></footer></div>
</body>
</html>