"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5550],{6938:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"Java/Docker \u5feb\u901f\u5165\u95e8","title":"Docker","description":"Docker","source":"@site/docs/Java/Docker \u5feb\u901f\u5165\u95e8.md","sourceDirName":"Java","slug":"/Java/Docker \u5feb\u901f\u5165\u95e8","permalink":"/docs/Java/Docker \u5feb\u901f\u5165\u95e8","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Java/Docker \u5feb\u901f\u5165\u95e8.md","tags":[],"version":"current","frontMatter":{},"sidebar":"JavaSidebar","next":{"title":"Java8 \u65b0\u7279\u6027","permalink":"/docs/Java/Java 8 \u66f4\u65b0\u7684\u65b0\u7279\u6027 \uff08\u51fd\u6570\u5f0f\u63a5\u53e3 lambda stream option\uff09"}}');var i=r(4848),s=r(8453);const o={},d="Docker",l={},a=[{value:"docker \u6982\u8ff0",id:"docker-\u6982\u8ff0",level:2},{value:"docker \u4e3a\u4ec0\u4e48\u51fa\u73b0\uff1f",id:"docker-\u4e3a\u4ec0\u4e48\u51fa\u73b0",level:3},{value:"Docker \u7684\u5386\u53f2\u548c\u4f5c\u7528",id:"docker-\u7684\u5386\u53f2\u548c\u4f5c\u7528",level:2},{value:"Docker \u5b89\u88c5",id:"docker-\u5b89\u88c5",level:2},{value:"Docker \u7684\u7ec4\u6210\u7ed3\u6784",id:"docker-\u7684\u7ec4\u6210\u7ed3\u6784",level:3},{value:"\u5b89\u88c5 Docker",id:"\u5b89\u88c5-docker",level:3},{value:"\u963f\u91cc\u4e91\u7684\u5bb9\u5668\u52a0\u901f",id:"\u963f\u91cc\u4e91\u7684\u5bb9\u5668\u52a0\u901f",level:3},{value:"\u56de\u987e hello world \u7684\u5b8c\u6574\u8fc7\u7a0b",id:"\u56de\u987e-hello-world-\u7684\u5b8c\u6574\u8fc7\u7a0b",level:3},{value:"\u5e95\u5c42\u539f\u7406",id:"\u5e95\u5c42\u539f\u7406",level:3},{value:"Docker \u7684\u5e38\u7528\u547d\u4ee4",id:"docker-\u7684\u5e38\u7528\u547d\u4ee4",level:2},{value:"\u5e2e\u52a9\u547d\u4ee4",id:"\u5e2e\u52a9\u547d\u4ee4",level:3},{value:"\u955c\u50cf\u547d\u4ee4",id:"\u955c\u50cf\u547d\u4ee4",level:3},{value:"\u5bb9\u5668\u547d\u4ee4",id:"\u5bb9\u5668\u547d\u4ee4",level:3},{value:"\u5e38\u7528\u7684\u5176\u4ed6\u547d\u4ee4",id:"\u5e38\u7528\u7684\u5176\u4ed6\u547d\u4ee4",level:3},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",level:3},{value:"\u7ec3\u4e60",id:"\u7ec3\u4e60",level:3},{value:"nginx",id:"nginx",level:3},{value:"tomcat",id:"tomcat",level:3},{value:"\u53ef\u89c6\u5316",id:"\u53ef\u89c6\u5316",level:3},{value:"Docker \u955c\u50cf\u8bb2\u89e3",id:"docker-\u955c\u50cf\u8bb2\u89e3",level:2},{value:"\u955c\u50cf\u662f\u4ec0\u4e48",id:"\u955c\u50cf\u662f\u4ec0\u4e48",level:3},{value:"Docker \u955c\u50cf\u52a0\u8f7d\u539f\u7406",id:"docker-\u955c\u50cf\u52a0\u8f7d\u539f\u7406",level:3},{value:"\u5206\u5c42\u7406\u89e3",id:"\u5206\u5c42\u7406\u89e3",level:3},{value:"COMMIT \u955c\u50cf",id:"commit-\u955c\u50cf",level:3},{value:"\u5bb9\u5668\u6570\u636e\u5377",id:"\u5bb9\u5668\u6570\u636e\u5377",level:2},{value:"\u4ec0\u4e48\u662f\u5bb9\u5668\u7684\u6570\u636e\u5377",id:"\u4ec0\u4e48\u662f\u5bb9\u5668\u7684\u6570\u636e\u5377",level:3},{value:"\u4f7f\u7528\u6570\u636e\u5377",id:"\u4f7f\u7528\u6570\u636e\u5377",level:3},{value:"\u5b9e\u6218\u5b89\u88c5 mysql",id:"\u5b9e\u6218\u5b89\u88c5-mysql",level:3},{value:"\u5177\u540d\u6302\u8f7d\u548c\u533f\u540d\u6302\u8f7d",id:"\u5177\u540d\u6302\u8f7d\u548c\u533f\u540d\u6302\u8f7d",level:3},{value:"\u521d\u8bc6 dockerfile",id:"\u521d\u8bc6-dockerfile",level:3},{value:"\u6570\u636e\u5377\u5bb9\u5668",id:"\u6570\u636e\u5377\u5bb9\u5668",level:3},{value:"\u7ed3\u8bba\uff1a",id:"\u7ed3\u8bba",level:3},{value:"dockerfile",id:"dockerfile",level:2},{value:"dockerfile \u4ecb\u7ecd",id:"dockerfile-\u4ecb\u7ecd",level:3},{value:"DockerFile \u6784\u5efa\u8fc7\u7a0b",id:"dockerfile-\u6784\u5efa\u8fc7\u7a0b",level:3},{value:"Dockerfile \u7684\u6307\u4ee4",id:"dockerfile-\u7684\u6307\u4ee4",level:3},{value:"\u5b9e\u6218\u6d4b\u8bd5",id:"\u5b9e\u6218\u6d4b\u8bd5",level:3},{value:"\u6d4b\u8bd5 CMD",id:"\u6d4b\u8bd5-cmd",level:4},{value:"\u6d4b\u8bd5 ENTRYPOINT",id:"\u6d4b\u8bd5-entrypoint",level:4},{value:"\u5b9e\u6218 tomcat",id:"\u5b9e\u6218-tomcat",level:3},{value:"\u53d1\u5e03",id:"\u53d1\u5e03",level:3},{value:"docker \u7f51\u7edc",id:"docker-\u7f51\u7edc",level:2},{value:"\u8ba4\u8bc6 docker \u7f51\u7edc",id:"\u8ba4\u8bc6-docker-\u7f51\u7edc",level:3},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3-1",level:3},{value:"--link",id:"--link",level:3},{value:"\u81ea\u5b9a\u4e49\u7f51\u7edc",id:"\u81ea\u5b9a\u4e49\u7f51\u7edc",level:3},{value:"\u7f51\u7edc\u8fde\u901a",id:"\u7f51\u7edc\u8fde\u901a",level:3},{value:"springboot \u6253\u5305\u5fae\u670d\u52a1\u9879\u76ee\u4e0a docker",id:"springboot-\u6253\u5305\u5fae\u670d\u52a1\u9879\u76ee\u4e0a-docker",level:2}];function t(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"docker",children:"Docker"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Docker"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"docker \u662f\u4ec0\u4e48\uff0cdocker \u7684\u7528\u5904\uff0c\u4ee5\u524d\u662f\u5fc5\u987b\u4f1a spring\uff0c\u73b0\u5728\u9ad8\u7ea7\u7684\u5de5\u7a0b\u5e08\u9700\u8981\u638c\u63e1 docker"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u5982\u4f55\u5b66\u4e60 docker"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Docker \u6982\u8ff0"}),"\n",(0,i.jsx)(e.li,{children:"docker \u5b89\u88c5"}),"\n",(0,i.jsxs)(e.li,{children:["docker \u547d\u4ee4\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u955c\u50cf\u547d\u4ee4"}),"\n",(0,i.jsx)(e.li,{children:"\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,i.jsx)(e.li,{children:"\u64cd\u4f5c\u547d\u4ee4"}),"\n",(0,i.jsx)(e.li,{children:"\u7b49\u7b49"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"docker \u955c\u50cf"}),"\n",(0,i.jsx)(e.li,{children:"\u5bb9\u5668\u6570\u636e\u5377"}),"\n",(0,i.jsx)(e.li,{children:"dockerfile"}),"\n",(0,i.jsx)(e.li,{children:"docker \u7f51\u7edc\u539f\u7406"}),"\n",(0,i.jsx)(e.li,{children:"docker \u6574\u5408 idea"}),"\n",(0,i.jsx)(e.li,{children:"docker compose"}),"\n",(0,i.jsx)(e.li,{children:"docker swarm"}),"\n",(0,i.jsx)(e.li,{children:"DI/CD jenkins"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u77e5\u9053\u7684\u8d8a\u591a\uff0c\u4e0d\u77e5\u9053\u7684\u8d8a\u591a"}),"\n",(0,i.jsx)(e.h2,{id:"docker-\u6982\u8ff0",children:"docker \u6982\u8ff0"}),"\n",(0,i.jsx)(e.h3,{id:"docker-\u4e3a\u4ec0\u4e48\u51fa\u73b0",children:"docker \u4e3a\u4ec0\u4e48\u51fa\u73b0\uff1f"}),"\n",(0,i.jsx)(e.p,{children:"\u4e00\u6b3e\u4ea7\u54c1\uff1a\u5f00\u53d1--\u4e0a\u7ebf \u4e24\u5957\u73af\u5883\uff0c \u4e24\u5957\u914d\u7f6e"}),"\n",(0,i.jsx)(e.p,{children:"\u5f00\u53d1 \u548c \u8fd0\u7ef4 \u95ee\u9898\uff1a\u5728\u6211\u7684\u7535\u8111\u4e0a\u53ef\u4ee5\u8fd0\u884c\uff0c\u7248\u672c\u66f4\u65b0\uff0c\u5bfc\u81f4\u670d\u52a1\u4e0d\u53ef\u7528\uff01\u5bf9\u4e8e\u8fd0\u7ef4\u6765\u8bf4\uff0c\u8003\u9a8c\u5341\u5206\u7684\u5927"}),"\n",(0,i.jsx)(e.p,{children:"\u5f00\u53d1\u5373\u662f\u8fd0\u7ef4\u7684\u60c5\u51b5\u4e0b\u66f4\u662f\u5982\u6b64\uff0c\u6bcf\u4e00\u4e2a\u673a\u5668\u90fd\u8981\u90e8\u7f72\u73af\u5883\uff0c\u6d6a\u8d39\u65f6\u95f4\u548c\u4eba\u529b\uff0c\u5bb9\u5668\u5316\uff0c\u9879\u76ee\u5e26\u7740\u73af\u5883\u6765\u6253\u5305\uff0c\u914d\u7f6e\u5f88\u9ebb\u70e6\uff0c\u4e5f\u6709\u90e8\u5206\u4e0d\u80fd\u8de8\u5e73\u53f0\u6bd4\u5982\u5f00\u53d1 win\uff0c\u6253\u5305\u5230 linux"}),"\n",(0,i.jsx)(e.p,{children:"\u4f20\u7edf\u601d\u60f3 : \u5f00\u53d1 jar \u8fd0\u7ef4\u6765\u505a"}),"\n",(0,i.jsx)(e.p,{children:"\u73b0\u5728 : \u5f00\u53d1\u6253\u5305\u90e8\u7f72\u4e0a\u7ebf\uff0c\u4e00\u5957\u6d41\u7a0b\u505a\u5b8c"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u4e3a\u4ec0\u4e48 docker \u5389\u5bb3\uff1f"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"java --apk --\u53d1\u5e03 --- \u5f20\u4e09\u4f7f\u7528 apk --- \u5b89\u88c5\u5373\u53ef\u7528\uff01"}),"\n",(0,i.jsx)(e.p,{children:"java ---jar ---\u6253\u5305\u9879\u76ee\u5e26\u4e0a\u73af\u5883\uff08\u955c\u50cf\uff09 --- \uff08docker \u4ed3\u5e93\u955c\u50cf\uff09--\u4e0b\u8f7d\u5f00\u53d1\u4eba\u5458\u4e0a\u4f20\u7684\u955c\u50cf -- \u76f4\u63a5\u5c31\u53ef\u4ee5\u8fd0\u884c"}),"\n",(0,i.jsx)(e.p,{children:"docker \u6839\u636e\u4ee5\u4e0a\u7684\u95ee\u9898\u7ed9\u51fa\u4e86\u89e3\u51b3\u65b9\u6848"}),"\n",(0,i.jsx)(e.p,{children:"docker \u7684\u601d\u60f3\u6765\u81ea\u4e8e\u96c6\u88c5\u7bb1"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/202305081810893.png",alt:"image-20211006142006627"})}),"\n",(0,i.jsx)(e.p,{children:"JRE - -\u591a\u4e2a\u5e94\u7528---\u539f\u6765\u662f\u4ea4\u53c9\u7684"}),"\n",(0,i.jsx)(e.p,{children:"docker \u7684\u6838\u5fc3\u601d\u60f3 \uff1a \u9694\u79bb\uff0c\u6253\u5305\u88c5\u7bb1\uff0c\u6bcf\u4e2a\u7bb1\u5b50\u90fd\u662f\u4e92\u76f8\u9694\u79bb\u7684"}),"\n",(0,i.jsx)(e.p,{children:"Docker \u901a\u8fc7\u9694\u79bb\u673a\u5236\uff0c\u8ba9\u670d\u52a1\u5668\u66f4\u597d\u7684\u53d1\u6325"}),"\n",(0,i.jsx)(e.p,{children:"\u672c\u8d28 \uff1a \u6240\u6709\u7684\u6280\u672f\u90fd\u662f\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u53bb\u89e3\u51b3"}),"\n",(0,i.jsx)(e.h2,{id:"docker-\u7684\u5386\u53f2\u548c\u4f5c\u7528",children:"Docker \u7684\u5386\u53f2\u548c\u4f5c\u7528"}),"\n",(0,i.jsxs)(e.p,{children:["2010\uff0c\u51e0\u4e2a\u641e it \u7684\u5e74\u8f7b\u4eba\uff0c\u6700\u5f00\u59cb\u7684\u65f6\u5019\u5e76\u4e0d\u53eb Docker ",(0,i.jsx)(e.code,{children:"dotcloud"})]}),"\n",(0,i.jsx)(e.p,{children:"\u505a\u4e00\u4e9b pass \u7684\u4e91\u8ba1\u7b97\u670d\u52a1\uff0cLXC \u6709\u5173\u7684\u5bb9\u5668\u6280\u672f"}),"\n",(0,i.jsx)(e.p,{children:"\u4ed6\u4eec\u5c06\u81ea\u5df1\u7684\u6280\u672f\uff08\u5bb9\u5668\u5316\u6280\u672f\uff09\u540c\u4e00\u7684\u547d\u540d\u4e3a Docker"}),"\n",(0,i.jsx)(e.p,{children:"\u5e94\u4e3a\u521a\u8bde\u751f\u6240\u4ee5\u6ca1\u4ec0\u4e48\u57fa\u7840\uff0c\u4e8e\u662f\u4e4e\u9886\u5bfc\u4eba\u4eec\u9009\u62e9\u4e86\u5c06 Docker \u7684\u6e90\u7801\u5f00\u653e"}),"\n",(0,i.jsx)(e.p,{children:"\u5f00\u6e90\u4e4b\u540e\u7684 Docker \u4e00\u77ac\u95f4\u5c31\u706b\u4e86"}),"\n",(0,i.jsx)(e.p,{children:"\u4e3a\u4ec0\u4e48 Docker \u706b\u8d77\u6765\u4e86\uff0c\u5e94\u4e3a\u76f8\u6bd4\u865a\u62df\u673a\uff0cDocker \u8981\u66f4\u52a0\u7684\u8f7b\u91cf"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u865a\u62df\u673a :"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u200b \u4e00\u822c\u90fd\u662f\u518d win \u4e2d\u5b89\u88c5 Vmware \u901a\u8fc7\u8fd9\u4e2a\u6280\u672f\u6211\u4eec\u53ef\u4ee5\u865a\u62df\u51fa\u6765\u4e00\u53f0\u7535\u8111\u6216\u8005\u662f\u591a\u53f0\u7535\u8111\uff0c\u4f46\u662f\u5360\u7528\u8fc7\u5927\uff0c\u968f\u4fbf\u4e00\u4e2a\u955c\u50cf\u5c31\u662f\u5341\u51e0\u4e2a g\uff0c\u5341\u5206\u7684\u7b28\u91cd"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/202305081811097.png",alt:"image-20211006143537787"})}),"\n",(0,i.jsx)(e.p,{children:"\u865a\u62df\u673a\u6280\u672f\u7684\u7f3a\u70b9\uff1a"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u8d44\u6e90\u5360\u7528\u5341\u5206\u591a"}),"\n",(0,i.jsx)(e.li,{children:"\u5f00\u673a\u5173\u673a\u9700\u8981\u65f6\u95f4"}),"\n",(0,i.jsx)(e.li,{children:"\u8fd0\u884c\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u8fd8\u8981\u5b89\u88c5\u8fd0\u884c\u8f6f\u4ef6"}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Docker :"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u200b \u76f8\u6bd4\u4e4b\u4e0b Docker \u5c31\u663e\u5f97\u683c\u5916\u7684\u5c0f\u5de7\u3002\u9694\u79bb\uff0c\u955c\u50cf\uff08\u6838\u5fc3\u7684\u73af\u5883 4m+jdk+mysql\uff09\u9700\u8981\u7684\u65f6\u5019\u6211\u4eec\u53ea\u9700\u8981\u53bb\u8fd0\u884c\u955c\u50cf\u5c31\u53ef\u4ee5\u4e86\uff0c\u5927\u5927\u63d0\u5347\u4e86\u7075\u6d3b\u6027"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/d1b709bb810ce5c6b9f73b15be00aad3.png",alt:"image-20211006143627502"})}),"\n",(0,i.jsx)(e.p,{children:"Docker \u6280\u672f :"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u8fd0\u884c\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\uff0c\u5bb9\u5668\u6ca1\u6709\u5185\u6838\uff0c\u4e5f\u4e0d\u7528\u865a\u62df\u786c\u4ef6"}),"\n",(0,i.jsx)(e.li,{children:"\u6bcf\u4e2a\u5bb9\u5668\u662f\u4e92\u76f8\u9694\u79bb\u7684\uff0c\u53c8\u5c5e\u4e8e\u81ea\u5df1\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e0d\u4f1a\u4e92\u76f8\u7684\u5f71\u54cd"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u4e86\u89e3\u4e86 Docker \u7684\u4f5c\u7528\uff0c\u53ef\u4ee5\u77e5\u9053\u6211\u4eec\u7a0b\u5e8f\u5458\u638c\u63e1 Docker \u662f\u5341\u5206\u7684\u5fc5\u8981\u7684"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u793e\u533a\u6587\u6863"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Docker \u7684\u793e\u533a\u6587\u6863\u662f\u5341\u5206\u7684\u8be6\u7ec6\u7684"}),"\n",(0,i.jsxs)(e.p,{children:["\u6587\u6863\u8fde\u63a5 : ",(0,i.jsx)(e.a,{href:"https://docs.docker.com/",children:"https://docs.docker.com/"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/49533587298023be1e905cab9b1d0f73.png",alt:"image-20211006143117018"})}),"\n",(0,i.jsxs)(e.p,{children:["Docker \u4ed3\u5e93\u5730\u5740 : ",(0,i.jsx)(e.a,{href:"https://www.docker.com/products/docker-hub",children:"https://www.docker.com/products/docker-hub"})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"DevOps(\u5f00\u53d1\u548c\u8fd0\u7ef4)"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u4ed6\u7684\u5b97\u65e8\u662f\u4ec0\u4e48"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5e94\u7528\u66f4\u5feb\u901f\u7684\u4ea4\u4ed8\u548c\u90e8\u7f72"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4f20\u7edf : \u4e00\u5806\u5e2e\u52a9\u6587\u6863\uff0c\u5b89\u88c5\u7a0b\u5e8f"}),"\n",(0,i.jsx)(e.li,{children:"Docker\uff1a\u6253\u5305\u955c\u50cf\u53d1\u5e03\u6d4b\u8bd5\uff0c\u4e00\u952e\u8fd0\u884c"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u66f4\u4fbf\u6377\u7684\u5347\u7ea7\u548c\u6269\u5bb9"})}),"\n",(0,i.jsx)(e.p,{children:"\u4f7f\u7528\u4e86 Docker \u4e4b\u540e\uff0c\u6211\u4eec\u90e8\u7f72\u7684\u5e94\u7528\u548c\u642d\u79ef\u6728\u4e00\u6837"}),"\n",(0,i.jsx)(e.p,{children:"\u9879\u76ee\u6253\u5305\u6210\u4e00\u4e2a\u955c\u50cf\uff0c\u6269\u5c55\u5230\u670d\u52a1\u5668 A\uff0c\u670d\u52a1\u5668 B"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u66f4\u7b80\u5355\u7684\u7cfb\u7edf\u8fd0\u7ef4"})}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u5bb9\u5668\u5316\u4e4b\u540e\uff0c\u6211\u4eec\u7684\u5f00\u53d1\uff0c\u6d4b\u8bd5\u73af\u5883\uff0c\u9ad8\u5ea6\u7684\u4e00\u81f4"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u66f4\u9ad8\u6548\u7684\u8ba1\u7b97\u8d44\u6e90\u5229\u7528"})}),"\n",(0,i.jsx)(e.p,{children:"Docker \u662f\u5185\u6838\u7ea7\u522b\u7684\u865a\u62df\u5316\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a\u7269\u7406\u673a\u4e0a\u8fd0\u884c\u5f88\u591a\u7684\u5bb9\u5668\u5b9e\u4f8b"}),"\n",(0,i.jsx)(e.h2,{id:"docker-\u5b89\u88c5",children:"Docker \u5b89\u88c5"}),"\n",(0,i.jsx)(e.h3,{id:"docker-\u7684\u7ec4\u6210\u7ed3\u6784",children:"Docker \u7684\u7ec4\u6210\u7ed3\u6784"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/571f7702a15987f6d10208f13b311b19.png",alt:"\u67e5\u770b\u6e90\u56fe\u50cf"})}),"\n",(0,i.jsx)(e.p,{children:"\u955c\u50cf\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"Docker \u7684\u955c\u50cf\u5c31\u50cf\u662f\u4e00\u4e2a\u6a21\u677f\uff0c\u53ef\u4ee5\u8363\u56fd\u8fd9\u4e2a\u6a21\u677f\u6765\u521b\u5efa\u5bb9\u5668\u670d\u52a1"}),"\n",(0,i.jsx)(e.p,{children:"\u4f8b\u5b50\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"tomcat ====\u300brun ===\u300btomcat01 \u5bb9\u5668\uff08\u63d0\u4f9b\u670d\u52a1\uff09"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u540c\u8fc7\u955c\u50cf\u521b\u5efa\u591a\u4e2a\u5bb9\u5668\uff08\u6700\u7ec8\u670d\u52a1\u8fd0\u884c\u6216\u8005\u662f\u9879\u76ee\u8fd0\u884c\u90fd\u662f\u5728\u5bb9\u5668\u4e2d\u7684\uff09"}),"\n",(0,i.jsx)(e.p,{children:"\u5bb9\u5668\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"Docker \u5229\u7528\u5bb9\u5668\u6280\u672f\uff0c\u72ec\u7acb\u8fd0\u884c\u4e00\u4e2a\u6216\u8005\u4e00\u7ec4\u5e94\u7528\uff0c\u901a\u8fc7\u5bb9\u5668\u6765\u521b\u5efa\u7684"}),"\n",(0,i.jsx)(e.p,{children:"\u542f\u52a8\uff0c\u505c\u6b62\uff0c\u5220\u9664\uff0c\u7b49\u57fa\u672c\u547d\u4ee4"}),"\n",(0,i.jsx)(e.p,{children:"\u76ee\u524d\u6211\u4eec\u53ef\u4ee5\u628a\u5bb9\u5668\u7406\u89e3\u4e3a\u4e00\u4e2a\u5efa\u8bae\u7684 linux \u7cfb\u7edf\uff0c\u9879\u76ee\u90fd\u662f\u8dd1\u5728\u7cfb\u7edf\u4e0a\u7684"}),"\n",(0,i.jsx)(e.p,{children:"\u4ed3\u5e93\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"\u4ed3\u5e93\u5c31\u662f\u5b58\u653e\u955c\u50cf\u7684\u5730\u65b9"}),"\n",(0,i.jsx)(e.p,{children:"\u6709\u79c1\u6709\u7684\u6709\u5171\u6709\u7684"}),"\n",(0,i.jsx)(e.p,{children:"DockerHub"}),"\n",(0,i.jsx)(e.p,{children:"\u963f\u91cc\u4e91\u7b49\u7b49\u5382\u5546\u90fd\u6709\u955c\u50cf\u670d\u52a1"}),"\n",(0,i.jsx)(e.h3,{id:"\u5b89\u88c5-docker",children:"\u5b89\u88c5 Docker"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u73af\u5883\u51c6\u5907"}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u9700\u8981\u4f1a\u4e00\u70b9\u70b9 linx \u7684\u57fa\u7840"}),"\n",(0,i.jsx)(e.li,{children:"linux : CentOS7"}),"\n",(0,i.jsx)(e.li,{children:"\u4f7f\u7528\u8fde\u63a5\u5de5\u5177\u8fde\u63a5\u670d\u52a1\u5668\u64cd\u4f5c"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u786e\u8ba4\u7cfb\u7edf\u73af\u5883"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"[root@iZwz90ps06ioyada63oiwiZ ~]# uname -r\r\n3.10.0-957.21.3.el7.x86_64\r\n\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'[root@iZwz90ps06ioyada63oiwiZ ~]# cat /etc/os-release\r\nNAME="CentOS Linux"\r\nVERSION="7 (Core)"\r\nID="centos"\r\nID_LIKE="rhel fedora"\r\nVERSION_ID="7"\r\nPRETTY_NAME="CentOS Linux 7 (Core)"\r\nANSI_COLOR="0;31"\r\nCPE_NAME="cpe:/o:centos:centos:7"\r\nHOME_URL="https://www.centos.org/"\r\nBUG_REPORT_URL="https://bugs.centos.org/"\r\n\r\nCENTOS_MANTISBT_PROJECT="CentOS-7"\r\nCENTOS_MANTISBT_PROJECT_VERSION="7"\r\nREDHAT_SUPPORT_PRODUCT="centos"\r\nREDHAT_SUPPORT_PRODUCT_VERSION="7"\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u5b98\u65b9\u6587\u6863\u53ef\u4ee5\u770b\u5230\u8981\u6c42\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/9d957d75664c8a5ead0e3d7f2f201828.png",alt:"image-20211006145800662"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u5982\u679c\u662f\u7528\u7684 linxu \u7cfb\u7edf\u662f CentOS \u90a3\u4e48\u5fc5\u987b\u662f 7 \u7248\u672c\u4ee5\u4e0a\u624d\u652f\u6301\u7684"}),"\n",(0,i.jsx)(e.p,{children:"\u5982\u679c\u5b89\u88c5\u88c5\u8fc7\u7684\u8bdd\uff0c\u5efa\u8bae\u5220\u9664\u4e4b\u524d\u7684\u65e7\u7248\u672c\u7684 docker"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:" #1\xb7\u5378\u8f7d\u6389\u65e7\u7684\u7248\u672c\r\n sudo yum remove docker \\\r\n                  docker-client \\\r\n                  docker-client-latest \\\r\n                  docker-common \\\r\n                  docker-latest \\\r\n                  docker-latest-logrotate \\\r\n                  docker-logrotate \\\r\n                  docker-engine\r\n\r\n#2 \u9700\u8981\u7684\u5b89\u88c5\u5305\r\n sudo yum install -y yum-utils\r\n\r\n#3\u8bbe\u7f6e\u955c\u50cf\u7684\u4ed3\u5e93\uff0c\u9ed8\u8ba4\u662f\u56fd\u5916\u7684\uff08\u5efa\u8bae\u5927\u5bb6\u4f7f\u7528\u963f\u91cc\u4e91\u7684\u955c\u50cf\uff09\r\nsudo yum-config-manager \\\r\n    --add-repo \\\r\nhttp://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\r\n\r\n#4 \u5b89\u88c5docker\u76f8\u5173\u7684\u5185\u5bb9\r\n yum install docker-ce docker-ce-cli containerd.io\r\n\r\n#5 \u5b89\u88c5\u4e4b\u540e\u6d4b\u8bd5\u662f\u5426\u5b89\u88c5\u6210\u529f\r\nsystemctl start docker\r\n\r\n#6\u67e5\u770bdocker\u7684\u7248\u672c\u53f7\r\ndocker version\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u67e5\u770b\u6211\u4eec docker \u7684\u7248\u672c\u5373\u53ef"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/75439c23d98f9c80765ff7dc717c09aa.png",alt:"image-20211006150606651"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#7 \u8fd0\u884cdocker\u7684helloword\r\ndocker run hello-world\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/f8f4972a39d99e8f4dc445704a495987.png",alt:"image-20211006150917425"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# 8 \u5982\u4f55\u67e5\u770bdocker\u4e0b\u8f7d\u7684\u955c\u50cf\u5462\uff1f\r\ndocker images\r\n# \u5c31\u53ef\u4ee5\u67e5\u770bdocker\u4e0b\u8f7d\u7684\u4f4d\u7f6e\u4e86\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/93eae6f2e9d0ebc98cd89c3fa276ebd5.png",alt:"image-20211006150957136"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e86\u89e3 \u5982\u4f55\u5378\u8f7d docker"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#1 \u5378\u8f7ddocker\u7684\u76f8\u5173\u5185\u5bb9\r\nyum remove docker-ce docker-ce-cli containerd.io\r\n#2 \u5378\u8f7ddocker\u7684\u548c\u6211\u4eec\u4e0b\u8f7d\u5bb9\u5668\r\n sudo rm -rf /var/lib/docker\r\n sudo rm -rf /var/lib/containerd\r\n# /var/lib/docker \u662f docker\u7684\u9ed8\u8ba4\u5de5\u4f5c\u8def\u5f84\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u63d0\u5347\u6548\u7387"}),"\n",(0,i.jsx)(e.h3,{id:"\u963f\u91cc\u4e91\u7684\u5bb9\u5668\u52a0\u901f",children:"\u963f\u91cc\u4e91\u7684\u5bb9\u5668\u52a0\u901f"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u767b\u5f55\u963f\u91cc\u4e91\u627e\u5230\u5bb9\u5668\u670d\u52a1"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/77252e88c60f276771458234b36f4f82.png",alt:"image-20211006151353748"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u627e\u5230\u955c\u50cf\u52a0\u901f\u5730\u5740"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/151bdf868b13587d449e5fc830a4d273.png",alt:"image-20211006151407490"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u914d\u7f6e\u4f7f\u7528"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'sudo mkdir -p /etc/docker\r\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\r\n{\r\n  "registry-mirrors": ["https://v3ev0217.mirror.aliyuncs.com"]\r\n}\r\nEOF\r\nsudo systemctl daemon-reload\r\nsudo systemctl restart docker\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u56de\u987e-hello-world-\u7684\u5b8c\u6574\u8fc7\u7a0b",children:"\u56de\u987e hello world \u7684\u5b8c\u6574\u8fc7\u7a0b"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/d4300db6dc027e73b1c83dd163438e6b.png",alt:"image-20211006163940871"})}),"\n",(0,i.jsx)(e.p,{children:"run \u7684\u8fc7\u7a0b\u5206\u6790\u56fe"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/f4897e329f360626c34585be8e4699a6.png",alt:"image-20211006163925489"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5e95\u5c42\u539f\u7406",children:"\u5e95\u5c42\u539f\u7406"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"docker \u662f\u505a\u4ec0\u4e48\u5de5\u4f5c\u7684\uff1f"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Docker \u662f\u4e00\u4e2a Client server \u7684\u7cfb\u7edf\uff0cDocker \u662f\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u5728\u4e3b\u673a\u4e0a\u3002\u901a\u8fc7 socket \u4ece\u5ba2\u6237\u7aef\u8bbf\u95ee"}),"\n",(0,i.jsx)(e.p,{children:"DockerServer \u63a5\u53d7\u5230 Docker-Client \u7684\u6307\u4ee4\uff0c\u5c31\u4f1a\u53bb\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\u3002"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/6f939530243320134b093b83c3192135.png",alt:"image-20211006164315668"})}),"\n",(0,i.jsx)(e.p,{children:"Docker \u4e3a\u4ec0\u4e48\u6bd4\u865a\u62df\u673a\u5feb"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Docker \u6709\u7740\u6bd4\u865a\u62df\u673a\u66f4\u5c11\u7684\u62bd\u8c61\u5c42"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/84388446a5243056933561567275738d.png",alt:"image-20211006164353290"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Docker \u5229\u7528\u7684\u662f\u4e3b\u673a\u7684\u5185\u6838\uff0cvm \u9700\u8981\u7684\u662f Guset OS"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6240\u4ee5\u8bf4\u65b0\u5efa\u4e00\u4e2a\u5bb9\u5668\u7684\u65f6\u5019\uff0cdocker \u4e0d\u9700\u8981\u60f3\u865a\u62df\u673a\u4e00\u6837\u91cd\u65b0\u52a0\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\uff0c\u907f\u514d\u5f15\u5bfc\uff0c"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u865a\u62df\u673a\u662f\u52a0\u8f7d Guest OS \u5206\u949f\u7ea7\u522b\u7684\uff0c"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u800c docker \u662f\u5229\u7528\u4e3b\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u7701\u7565\u4e86\u8fd9\u4e2a\u590d\u6742\u7684\u52a0\u8f7d\u8fc7\u7a0b\uff0c\u79d2\u7ea7\u522b"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/27523c2da39108a3e1b10d65ad7dab04.png",alt:"image-20211006164648744"})}),"\n",(0,i.jsx)(e.p,{children:"\u73b0\u5728\u7684 docker \u662f\u90fd\u652f\u6301\u7684"}),"\n",(0,i.jsx)(e.p,{children:"\u4e0d\u53ea\u652f\u6301 linux\uff0cMac OS, windows \u90fd\u652f\u6301"}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u53c8 docker \u7684\u4f7f\u7528\u7ecf\u9a8c\u4e4b\u540e\u6211\u4eec\u56de\u8fc7\u5934\u6765\u518d\u770b\u7406\u8bba\uff0c\u5c31\u4f1a\u7406\u89e3\u7684\u5f88\u6e05\u6670\u4e86"}),"\n",(0,i.jsx)(e.h2,{id:"docker-\u7684\u5e38\u7528\u547d\u4ee4",children:"Docker \u7684\u5e38\u7528\u547d\u4ee4"}),"\n",(0,i.jsx)(e.h3,{id:"\u5e2e\u52a9\u547d\u4ee4",children:"\u5e2e\u52a9\u547d\u4ee4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker version    #\u67e5\u770bdocker\u7684\u7248\u672c\u4fe1\u606f\r\ndocker info       #\u663e\u793adocker\u7684\u7cfb\u7edf\u4fe1\u606f\uff0c\u5305\u62ec\u5bb9\u5668\u548c\u955c\u50cf\u7684\u6570\u91cf\r\ndocker --help     #\u663e\u793adocker\u7684\u6240\u6709\u547d\u4ee4\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u5e2e\u52a9\u6587\u6863\u7684\u5730\u5740 :"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://docs.docker.com/engine/reference/run/",children:"https://docs.docker.com/engine/reference/run/"})}),"\n",(0,i.jsx)(e.h3,{id:"\u955c\u50cf\u547d\u4ee4",children:"\u955c\u50cf\u547d\u4ee4"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Docker imeages #\u67e5\u770b\u6240\u6709\u672c\u5730\u7684\u4e3b\u673a\u4e0a\u6709\u7684\u955c\u50cf"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"[root@iZwz90ps06ioyada63oiwiZ ~]# docker images\r\nREPOSITORY    TAG       IMAGE ID       CREATED       SIZE\r\nhello-world   latest    feb5d9fea6a5   12 days ago   13.3kB\r\n\r\n#\u89e3\u91ca\r\nREPOSITORY \u955c\u50cf\u7684\u4ed3\u5e93\u6e90\r\nTAG         \u955c\u50cf\u7684\u6807\u7b7e\r\nIMAGE ID    \u955c\u50cf\u7684id\r\nCREATED     \u955c\u50cf\u7684\u521b\u5efa\u65f6\u95f4\r\nSIZE        \u955c\u50cf\u7684\u50a8\u5b58\u5927\u5c0f\r\n\r\n#\u53ef\u9009\u9879\r\n-a -all   #\u5217\u51fa\u6240\u6709\u7684\u955c\u50cf\r\n-q --quiet  #\u53ea\u663e\u793a\u955c\u50cf\u7684id\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Docker pull \u4e0b\u8f7d"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#\u4e0b\u8f7d\u5185\u5bb9 \uff0c\u9ed8\u8ba4\u7684tag \u662f latest\r\n#\u53ef\u4ee5\u6309\u7167\u7248\u672c\u53f7 \uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528mysql\u4e0b\u8f7d\u7248\u672c\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker pull mysql:5.7\r\n5.7: Pulling from library/mysql\r\n07aded7c29c6: Already exists  #\u5206\u6bb5\u7684\u4e0b\u8f7d\uff0c\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e0d\u7528\u91cd\u590d\u4e0b\u8f7d\uff0c\u53ef\u4ee5\u5171\u7528\u91cd\u590d\u7684\u90e8\u5206\r\nf68b8cbd22de: Already exists\r\n30c1754a28c4: Already exists\r\n1b7cb4d6fe05: Already exists\r\n79a41dc56b9a: Already exists\r\n00a75e3842fb: Already exists\r\nb36a6919c217: Already exists\r\n5e11fe494f45: Pull complete\r\n9c7de1f889a7: Pull complete\r\ncf6a13d05a76: Pull complete\r\nfc5aa81f393a: Pull complete\r\nDigest: sha256:360c7488c2b5d112804a74cd272d1070d264eef4812d9a9cc6b8ed68c3546189\r\nStatus: Downloaded newer image for mysql:5.7\r\ndocker.io/library/mysql:5.7\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/b45b41b9caa64608f98918a288731991.png",alt:"image-20211006225936295"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5220\u9664\u547d\u4ee4"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker rmi -f 9f35042c6a98 #\u6839\u636e \u955c\u50cfid \u5220\u9664docker\u955c\u50cf\r\ndocker rmi -f images id images id images id #\u6279\u91cf\u5220\u9664docker\u955c\u50cf\r\ndocker rmi -f $(docker images -aq) # \u5220\u9664\u5168\u90e8\u955c\u50cf\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/2eefae446dfdf18c2e6968e91eaca6bf.png",alt:"image-20211006230329893"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5bb9\u5668\u547d\u4ee4",children:"\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,i.jsx)(e.p,{children:"\u8bf4\u660e\uff1a\u6211\u4eec\u6709\u4e86\u955c\u50cf\u624d\u53ef\u4ee5\u521b\u5efa\u5bb9\u5668\uff0c\u4ee5 linux \u4e3a\u4f8b\u5b50\uff0c\u521b\u9020\u4e00\u4e2a CentOS \u7684\u5bb9\u5668"}),"\n",(0,i.jsx)(e.p,{children:"\u6765\u6d4b\u8bd5\u5b66\u4e60"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker pull centos\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u65b0\u5efa\u5bb9\u5668\u5e76\u4e14\u542f\u52a8"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'docker run [\u53ef\u9009\u53c2\u6570] image\r\n\r\n#\u53c2\u6570\u8bf4\u660e\r\n\r\n--name = "name" \u5bb9\u5668\u540d\u5b57\uff0c tomcat 1 \uff0ctomcat 2\u6765\u533a\u5206\u5bb9\u5668\r\n-d              \u540e\u53f0\u7684\u65b9\u5f0f\u8fd0\u884c\r\n-it             \u4f7f\u7528\u4ea4\u4e92\u65b9\u5f0f\u8fd0\u884c \uff0c\u8fdb\u5165\u5bb9\u5668\u67e5\u770b\u5185\u5bb9\r\n-p              \u6307\u5b9a\u5bb9\u5668\u7684\u7aef\u53e3 -p 8080\uff1a8080\r\n\t-p ip \uff1a\u4e3b\u673a\u7aef\u53e3\uff1a\u5bb9\u5668\u7aef\u53e3\r\n\t-p  \u4e3b\u673a\u7aef\u53e3 \uff1a \u5bb9\u5668\u7aef\u53e3\uff08\u5e38\u7528\uff09\r\n\t-p  \u5bb9\u5668\u7aef\u53e3\r\n-p               \u968f\u673a\u6307\u5b9a\u7aef\u53e3\r\n\r\n#\u6d4b\u8bd5\uff0c\u5e76\u4e14\u542f\u52a8\u8fdb\u5165\u5bb9\u5668\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker run -it centos /bin/bash\r\n[root@aa1a02ed3f51 /]# ls\r\nbin  etc   lib\t  lost+found  mnt  proc  run   srv  tmp  var\r\ndev  home  lib64  media       opt  root  sbin  sys  usr\r\n\r\n#\u63a8\u51fa\u5bb9\u5668\u67e5\u770b\r\n[root@iZwz90ps06ioyada63oiwiZ /]# ls\r\nbin   dev  home  lib64       media  mynacos  nginxWebdata  patch  project  run   srv  tmp  var\r\nboot  etc  lib   lost+found  mnt    myredis  opt           proc   root     sbin  sys  usr  www\r\n\r\n\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5217\u51fa\u6240\u6709\u8fd0\u884c\u7684\u5bb9\u5668"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'docker ps\r\n#\u5217\u51fa\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\r\n-a  #\u5217\u51fa\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668+\u5e26\u51fa\u5386\u53f2\u8fd0\u884c\u8fc7\u7684\u5185\u5bb9\r\n-n = \uff1f #\u663e\u793a\u6700\u8fd1\u521b\u5efa\u7684\u5bb9\u5668\r\n-q    #\u53ea\u663e\u793a\u5bb9\u5668\u7684\u7f16\u53f7\r\n#\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u4e4b\u524d\u4f7f\u7528\u7684 helloworld \u548c centos \u5bb9\u5668\r\n[root@iZwz90ps06ioyada63oiwiZ /]#  docker ps -a\r\nCONTAINER ID   IMAGE          COMMAND       CREATED         STATUS                     PORTS     NAMES\r\naa1a02ed3f51   centos         "/bin/bash"   3 minutes ago   Exited (0) 2 minutes ago             upbeat_matsumoto\r\n0341862ece26   feb5d9fea6a5   "/hello"      8 hours ago     Exited (0) 8 hours ago               clever_jennings\r\n\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u9000\u51fa\u5bb9\u5668"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"exit #\u76f4\u63a5\u5bb9\u5668\u505c\u6b62\u5e76\u4e14\u63a8\u51fa\r\nCtrl + p + q #\u5bb9\u5668\u4e0d\u505c\u6b62 \u63a8\u51fa\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5220\u9664\u5bb9\u5668"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker rm \u5bb9\u5668id  # \u5220\u9664\u6307\u5b9a\u5bb9\u5668\uff0c\u4e0d\u80fd\u5220\u9664\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\r\ndocker rm -f $(docker ps -aq) #\u5220\u9664\u6240\u6709\u7684\u5bb9\u5668\r\ndocker ps -a|xargs docker rm #\u4e5f\u53ef\u4ee5\u5220\u9664\u6240\u6709\u7684\u5bb9\u5668\r\n\r\n[root@iZwz90ps06ioyada63oiwiZ /]# docker rm -f $(docker ps -aq)\r\naa1a02ed3f51\r\n0341862ece26\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u542f\u52a8\u548c\u505c\u6b62\u5bb9\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker start \u5bb9\u5668id     #\u542f\u52a8\u5bb9\u5668\r\ndocker restart \u5bb9\u5668id   #\u91cd\u542f\u5bb9\u5668\r\ndocker stop \u5bb9\u5668id\t  #\u5173\u95ed\u5bb9\u5668\r\ndocker kill \u5bb9\u5668id\t  #\u5f3a\u5236\u5173\u95ed\u5f53\u524d\u7684\u5bb9\u5668\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5e38\u7528\u7684\u5176\u4ed6\u547d\u4ee4",children:"\u5e38\u7528\u7684\u5176\u4ed6\u547d\u4ee4"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u540e\u53f0\u542f\u52a8\u5bb9\u5668"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#\u547d\u4ee4 docker run -d \u955c\u50cf\uff01\r\n#\u95ee\u9898 docker ps \u53d1\u73b0centos\u505c\u6b62\u4e86\r\n#\u5e38\u89c1\u7684\u5751 docker \u5bb9\u5668\u4f7f\u7528\u540e\u53f0\u8fd0\u884c\uff0c\u5c31\u5fc5\u987b\u8981\u6709\u4e00\u4e2a\u524d\u53f0\u7684\u8fdb\u7a0b\uff0cdocker\u53d1\u73b0\u6ca1\u6709\u524d\u53f0\u7684\u5e94\u7528\uff0c\u5c31\u4f1a\u81ea\u52a8\u505c\u6b62\r\n#nginx \u5bb9\u5668\u542f\u52a8\u540e\uff0c\u53d1\u73b0\u81ea\u5df1\u6ca1\u6709\u63d0\u4f9b\u670d\u52a1\uff0c\u5c31\u4f1a\u7acb\u523b\u505c\u6b62\uff0c\u5c31\u662f\u6ca1\u6709\u7a0b\u5e8f\u4e86\r\n\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u67e5\u770b\u65e5\u5fd7"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'docker logs -f -t --tail \u5bb9\u5668\r\n\r\n#\u81ea\u5df1\u7f16\u5199\u4e00\u6bb5shell\u811a\u672c\r\nwhile true; do echo hyc;sleep 1;done\r\n\r\n#\u67e5\u770b\u8fd0\u884c\u662f\u5426\u6210\u529f\r\n[root@iZwz90ps06ioyada63oiwiZ /]# docker ps -a\r\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS                     PORTS     NAMES\r\n754a5ea93b0c   centos    "/bin/sh -c \'while t\u2026"   5 seconds ago   Exited (1) 5 seconds ago             sad_morse\r\n\r\n#\u663e\u793a\u65e5\u5fd7\r\ndocker logs\r\n\u663e\u793a\u5168\u90e8\u65e5\u5fd7\r\ndocker logs -tf cb8836c6fe21\r\n\r\n\u6309\u6761\u4ef6\u663e\u793a\u65e5\u5fd7\uff0c\u4e4b\u540e\u4e00\u76f4\u663e\u793a\r\ndocker logs -tf --tail 10  cb8836c6fe2\r\n\r\n--tf   #\u663e\u793a\u65e5\u5fd7\r\n--tail number #\u663e\u793a\u65e5\u5fd7\u7684\u6761\u6570\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u67e5\u770b\u5bb9\u5668\u4e2d\u7684\u8fdb\u7a0b\u4fe1\u606f"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"[root@iZwz90ps06ioyada63oiwiZ /]# docker top cb8836c6fe21\r\nUID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD\r\nroot                3490                3472                0                   23:32               ?                   00:00:00            /bin/sh -c while true;do echo hyc;sleep 1;done\r\nroot                4994                3490                0                   23:39               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u67e5\u770b\u955c\u50cf\u7684\u5143\u6570\u636e"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'#\u547d\u4ee4 \u67e5\u770b docker inspect cb8836c6fe21\r\n[\r\n    {\r\n        "Id": "cb8836c6fe217ecab4ba2c0fa5f3d83ecd298c09f26aed3f2024062b0191bfcf",\r\n        "Created": "2021-10-06T15:32:31.74201481Z",\r\n        "Path": "/bin/sh",\r\n        "Args": [\r\n            "-c",\r\n            "while true;do echo hyc;sleep 1;done"\r\n        ],\r\n        "State": {\r\n            "Status": "running",\r\n            "Running": true,\r\n            "Paused": false,\r\n            "Restarting": false,\r\n            "OOMKilled": false,\r\n            "Dead": false,\r\n            "Pid": 3490,\r\n            "ExitCode": 0,\r\n            "Error": "",\r\n            "StartedAt": "2021-10-06T15:32:32.049192513Z",\r\n            "FinishedAt": "0001-01-01T00:00:00Z"\r\n        },\r\n        "Image": "sha256:5d0da3dc976460b72c77d94c8a1ad043720b0416bfc16c52c45d4847e53fadb6",\r\n        "ResolvConfPath": "/var/lib/docker/containers/cb8836c6fe217ecab4ba2c0fa5f3d83ecd298c09f26aed3f2024062b0191bfcf/resolv.conf",\r\n        "HostnamePath": "/var/lib/docker/containers/cb8836c6fe217ecab4ba2c0fa5f3d83ecd298c09f26aed3f2024062b0191bfcf/hostname",\r\n        "HostsPath": "/var/lib/docker/containers/cb8836c6fe217ecab4ba2c0fa5f3d83ecd298c09f26aed3f2024062b0191bfcf/hosts",\r\n        "LogPath": "/var/lib/docker/containers/cb8836c6fe217ecab4ba2c0fa5f3d83ecd298c09f26aed3f2024062b0191bfcf/cb8836c6fe217ecab4ba2c0fa5f3d83ecd298c09f26aed3f2024062b0191bfcf-json.log",\r\n        "Name": "/wizardly_hopper",\r\n        "RestartCount": 0,\r\n        "Driver": "overlay2",\r\n        "Platform": "linux",\r\n        "MountLabel": "",\r\n        "ProcessLabel": "",\r\n        "AppArmorProfile": "",\r\n        "ExecIDs": null,\r\n        "HostConfig": {\r\n            "Binds": null,\r\n            "ContainerIDFile": "",\r\n            "LogConfig": {\r\n                "Type": "json-file",\r\n                "Config": {}\r\n            },\r\n            "NetworkMode": "default",\r\n            "PortBindings": {},\r\n            "RestartPolicy": {\r\n                "Name": "no",\r\n                "MaximumRetryCount": 0\r\n            },\r\n            "AutoRemove": false,\r\n            "VolumeDriver": "",\r\n            "VolumesFrom": null,\r\n            "CapAdd": null,\r\n            "CapDrop": null,\r\n            "CgroupnsMode": "host",\r\n            "Dns": [],\r\n            "DnsOptions": [],\r\n            "DnsSearch": [],\r\n            "ExtraHosts": null,\r\n            "GroupAdd": null,\r\n            "IpcMode": "private",\r\n            "Cgroup": "",\r\n            "Links": null,\r\n            "OomScoreAdj": 0,\r\n            "PidMode": "",\r\n            "Privileged": false,\r\n            "PublishAllPorts": false,\r\n            "ReadonlyRootfs": false,\r\n            "SecurityOpt": null,\r\n            "UTSMode": "",\r\n            "UsernsMode": "",\r\n            "ShmSize": 67108864,\r\n            "Runtime": "runc",\r\n            "ConsoleSize": [\r\n                0,\r\n                0\r\n            ],\r\n            "Isolation": "",\r\n            "CpuShares": 0,\r\n            "Memory": 0,\r\n            "NanoCpus": 0,\r\n            "CgroupParent": "",\r\n            "BlkioWeight": 0,\r\n            "BlkioWeightDevice": [],\r\n            "BlkioDeviceReadBps": null,\r\n            "BlkioDeviceWriteBps": null,\r\n            "BlkioDeviceReadIOps": null,\r\n            "BlkioDeviceWriteIOps": null,\r\n            "CpuPeriod": 0,\r\n            "CpuQuota": 0,\r\n            "CpuRealtimePeriod": 0,\r\n            "CpuRealtimeRuntime": 0,\r\n            "CpusetCpus": "",\r\n            "CpusetMems": "",\r\n            "Devices": [],\r\n            "DeviceCgroupRules": null,\r\n            "DeviceRequests": null,\r\n            "KernelMemory": 0,\r\n            "KernelMemoryTCP": 0,\r\n            "MemoryReservation": 0,\r\n            "MemorySwap": 0,\r\n            "MemorySwappiness": null,\r\n            "OomKillDisable": false,\r\n            "PidsLimit": null,\r\n            "Ulimits": null,\r\n            "CpuCount": 0,\r\n            "CpuPercent": 0,\r\n            "IOMaximumIOps": 0,\r\n            "IOMaximumBandwidth": 0,\r\n            "MaskedPaths": [\r\n                "/proc/asound",\r\n                "/proc/acpi",\r\n                "/proc/kcore",\r\n                "/proc/keys",\r\n                "/proc/latency_stats",\r\n                "/proc/timer_list",\r\n                "/proc/timer_stats",\r\n                "/proc/sched_debug",\r\n                "/proc/scsi",\r\n                "/sys/firmware"\r\n            ],\r\n            "ReadonlyPaths": [\r\n                "/proc/bus",\r\n                "/proc/fs",\r\n                "/proc/irq",\r\n                "/proc/sys",\r\n                "/proc/sysrq-trigger"\r\n            ]\r\n        },\r\n        "GraphDriver": {\r\n            "Data": {\r\n                "LowerDir": "/var/lib/docker/overlay2/db5602f161d4930ca2f6f2d70eaddf29fb5daf635fa1307c9f3f9ee559ca7c50-init/diff:/var/lib/docker/overlay2/c57ecea0403cf58cf7c21ca1f4db2a1a84dadf594ceccd5560466191cfc22ec8/diff",\r\n                "MergedDir": "/var/lib/docker/overlay2/db5602f161d4930ca2f6f2d70eaddf29fb5daf635fa1307c9f3f9ee559ca7c50/merged",\r\n                "UpperDir": "/var/lib/docker/overlay2/db5602f161d4930ca2f6f2d70eaddf29fb5daf635fa1307c9f3f9ee559ca7c50/diff",\r\n                "WorkDir": "/var/lib/docker/overlay2/db5602f161d4930ca2f6f2d70eaddf29fb5daf635fa1307c9f3f9ee559ca7c50/work"\r\n            },\r\n            "Name": "overlay2"\r\n        },\r\n        "Mounts": [],\r\n        "Config": {\r\n            "Hostname": "cb8836c6fe21",\r\n            "Domainname": "",\r\n            "User": "",\r\n            "AttachStdin": false,\r\n            "AttachStdout": false,\r\n            "AttachStderr": false,\r\n            "Tty": false,\r\n            "OpenStdin": false,\r\n            "StdinOnce": false,\r\n            "Env": [\r\n                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"\r\n            ],\r\n            "Cmd": [\r\n                "/bin/sh",\r\n                "-c",\r\n                "while true;do echo hyc;sleep 1;done"\r\n            ],\r\n            "Image": "centos",\r\n            "Volumes": null,\r\n            "WorkingDir": "",\r\n            "Entrypoint": null,\r\n            "OnBuild": null,\r\n            "Labels": {\r\n                "org.label-schema.build-date": "20210915",\r\n                "org.label-schema.license": "GPLv2",\r\n                "org.label-schema.name": "CentOS Base Image",\r\n                "org.label-schema.schema-version": "1.0",\r\n                "org.label-schema.vendor": "CentOS"\r\n            }\r\n        },\r\n        "NetworkSettings": {\r\n            "Bridge": "",\r\n            "SandboxID": "7e30f1e5819c55f424a9444110159f16e04b63b5e5a4e53146eece8e4a8df0f3",\r\n            "HairpinMode": false,\r\n            "LinkLocalIPv6Address": "",\r\n            "LinkLocalIPv6PrefixLen": 0,\r\n            "Ports": {},\r\n            "SandboxKey": "/var/run/docker/netns/7e30f1e5819c",\r\n            "SecondaryIPAddresses": null,\r\n            "SecondaryIPv6Addresses": null,\r\n            "EndpointID": "3e938d5faea175bc21e47cbc812e2157a9853ade29723ce12b6114c99637bb86",\r\n            "Gateway": "172.18.0.1",\r\n            "GlobalIPv6Address": "",\r\n            "GlobalIPv6PrefixLen": 0,\r\n            "IPAddress": "172.18.0.2",\r\n            "IPPrefixLen": 16,\r\n            "IPv6Gateway": "",\r\n            "MacAddress": "02:42:ac:12:00:02",\r\n            "Networks": {\r\n                "bridge": {\r\n                    "IPAMConfig": null,\r\n                    "Links": null,\r\n                    "Aliases": null,\r\n                    "NetworkID": "cedc24b7c89ecc2306b4f241d9a60b0a1b1246a8ce98c9013432c67af21785f6",\r\n                    "EndpointID": "3e938d5faea175bc21e47cbc812e2157a9853ade29723ce12b6114c99637bb86",\r\n                    "Gateway": "172.18.0.1",\r\n                    "IPAddress": "172.18.0.2",\r\n                    "IPPrefixLen": 16,\r\n                    "IPv6Gateway": "",\r\n                    "GlobalIPv6Address": "",\r\n                    "GlobalIPv6PrefixLen": 0,\r\n                    "MacAddress": "02:42:ac:12:00:02",\r\n                    "DriverOpts": null\r\n                }\r\n            }\r\n        }\r\n    }\r\n]\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8fdb\u5165\u5bb9\u5668\u4e4b\u540e\uff0c\u4fee\u6539\u4e00\u4e9b\u914d\u7f6e"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'\u6211\u4eec\u5bb9\u5668\u901a\u957f\u4f7f\u7528\u540e\u53f0\u7684\u65b9\u5f0f\u8fd0\u884c \u9700\u8981\u8fdb\u5165\u5bb9\u5668 \u4fee\u6539\u4e00\u4e9b\u914d\u7f6e\r\n\r\n#\u547d\u4ee4\r\n[root@iZwz90ps06ioyada63oiwiZ /]# docker ps -a #\u65b0\u5efa\u4e00\u4e2a\u4ea4\u4e92\u547d\u4ee4\u884c\r\nCONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS     NAMES\r\ncb8836c6fe21   centos    "/bin/sh -c \'while t\u2026"   13 minutes ago   Up 13 minutes             wizardly_hopper\r\n[root@iZwz90ps06ioyada63oiwiZ /]# docker exec -it cb8836c6fe21 /bin/bash\r\n[root@cb8836c6fe21 /]# ps -ef\r\nUID        PID  PPID  C STIME TTY          TIME CMD\r\nroot         1     0  0 15:32 ?        00:00:00 /bin/sh -c while true;do echo hyc;sleep 1;done\r\nroot       986     0  0 15:48 pts/0    00:00:00 /bin/bash\r\nroot      1014     1  0 15:48 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin\r\nroot      1015   986  0 15:48 pts/0    00:00:00 ps -ef\r\n[root@cb8836c6fe21 /]#\r\n\r\n#\u65b9\u5f0f\u4e8c\r\ndocker attach \u5bb9\u5668id\r\n#\u6d4b\u8bd5\r\n\u8fdb\u5165\u4e4b\u540e\u4f1a\u663e\u793a\u6b63\u5728\u6267\u884c\u7684 \u4ee3\u7801\r\n\r\n#docker exec \u8fdb\u5165\u5bb9\u5668\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u7ec8\u7aef\u3002\u53ef\u4ee5\u518d\u91cc\u9762\u64cd\u4f5c\uff08\u5e38\u7528\uff09\r\n#docker attach \u8fdb\u5165\u5bb9\u5668\u6b63\u7838\u6267\u884c\u7684\u7ec8\u7aef\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u4ece docker \u4e2d\u53d6\u51fa\u6587\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'#\u521b\u5efa\u6587\u4ef6\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# touch athyc.java\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# ls\r\nathyc.java  hyc.java  test.java\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# docker attach bcf5c1ea447c\r\nYou cannot attach to a stopped container, start it first\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# docker ps -a\r\nCONTAINER ID   IMAGE     COMMAND       CREATED         STATUS                     PORTS     NAMES\r\nbcf5c1ea447c   centos    "/bin/bash"   5 minutes ago   Exited (0) 4 minutes ago             cool_ishizaka\r\n63184e5cad4d   centos    "/bin/bash"   8 minutes ago   Exited (0) 6 minutes ago             jovial_cori\r\n#\u542f\u52a8\u5bb9\u5668\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# docker start bcf5c1ea447c\r\nbcf5c1ea447c\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# docker start bcf5c1ea447c /bin/bash\r\nbcf5c1ea447c\r\nError response from daemon: No such container: bin/bash\r\nError: failed to start containers: /bin/bash\r\n\r\n#\u8fdb\u5165\u547d\u4ee4\u884c\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# docker attach bcf5c1ea447c\r\n[root@bcf5c1ea447c /]# ls\r\nbin  etc   lib\t  lost+found  mnt  proc  run   srv  tmp  var\r\ndev  home  lib64  media       opt  root  sbin  sys  usr\r\n[root@bcf5c1ea447c /]# cd /home\r\n\r\n#\u521b\u5efa\u6587\u4ef6\r\n[root@bcf5c1ea447c home]# touch someone.java\r\n[root@bcf5c1ea447c home]# ls\r\nsomeone.java  test.java\r\n[root@bcf5c1ea447c home]# exit\r\nexit\r\n#\u4ecedocker\u4e2d\u590d\u5236\u6587\u4ef6\u5230\u4e3b\u673a\u6587\u4ef6\u5939\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# docker cp bcf5c1ea447c:/home/someone.java /dockerTest/\r\n[root@iZwz90ps06ioyada63oiwiZ dockerTest]# ls\r\nathyc.java  hyc.java  someone.java  test.java\r\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u5c0f\u7ed3",children:"\u5c0f\u7ed3"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/cfbcd30013a42355f809c1e330413230.png",alt:"image-20211007001746033"})}),"\n",(0,i.jsx)(e.p,{children:"\u65e5\u5e38\u4f7f\u7528\u547d\u4ee4\u5927\u5168"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"attach      Attach local standard input, output, and error streams to a running container\r\n  #\u5f53\u524dshell\u4e0b attach\u8fde\u63a5\u6307\u5b9a\u8fd0\u884c\u7684\u955c\u50cf\r\n  build       Build an image from a Dockerfile # \u901a\u8fc7Dockerfile\u5b9a\u5236\u955c\u50cf\r\n  commit      Create a new image from a container's changes #\u63d0\u4ea4\u5f53\u524d\u5bb9\u5668\u4e3a\u65b0\u7684\u955c\u50cf\r\n  cp          Copy files/folders between a container and the local filesystem #\u62f7\u8d1d\u6587\u4ef6\r\n  create      Create a new container #\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bb9\u5668\r\n  diff        Inspect changes to files or directories on a container's filesystem #\u67e5\u770bdocker\u5bb9\u5668\u7684\u53d8\u5316\r\n  events      Get real time events from the server # \u4ece\u670d\u52a1\u83b7\u53d6\u5bb9\u5668\u5b9e\u65f6\u65f6\u95f4\r\n  exec        Run a command in a running container # \u5728\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\u4e0a\u8fd0\u884c\u547d\u4ee4\r\n  export      Export a container's filesystem as a tar archive #\u5bfc\u51fa\u5bb9\u5668\u6587\u4ef6\u7cfb\u7edf\u4f5c\u4e3a\u4e00\u4e2atar\u5f52\u6863\u6587\u4ef6[\u5bf9\u5e94import]\r\n  history     Show the history of an image # \u5c55\u793a\u4e00\u4e2a\u955c\u50cf\u5f62\u6210\u5386\u53f2\r\n  images      List images #\u5217\u51fa\u7cfb\u7edf\u5f53\u524d\u7684\u955c\u50cf\r\n  import      Import the contents from a tarball to create a filesystem image #\u4ecetar\u5305\u4e2d\u5bfc\u5165\u5185\u5bb9\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u955c\u50cf\r\n  info        Display system-wide information # \u663e\u793a\u5168\u7cfb\u7edf\u4fe1\u606f\r\n  inspect     Return low-level information on Docker objects #\u67e5\u770b\u5bb9\u5668\u8be6\u7ec6\u4fe1\u606f\r\n  kill        Kill one or more running containers # kill\u6307\u5b9adocker\u5bb9\u5668\r\n  load        Load an image from a tar archive or STDIN #\u4ece\u4e00\u4e2atar\u5305\u6216\u6807\u51c6\u8f93\u5165\u4e2d\u52a0\u8f7d\u4e00\u4e2a\u955c\u50cf[\u5bf9\u5e94save]\r\n  login       Log in to a Docker registry #\r\n  logout      Log out from a Docker registry\r\n  logs        Fetch the logs of a container\r\n  pause       Pause all processes within one or more containers\r\n  port        List port mappings or a specific mapping for the container\r\n  ps          List containers\r\n  pull        Pull an image or a repository from a registry\r\n  push        Push an image or a repository to a registry\r\n  rename      Rename a container\r\n  restart     Restart one or more containers\r\n  rm          Remove one or more containers\r\n  rmi         Remove one or more images\r\n  run         Run a command in a new container\r\n  save        Save one or more images to a tar archive (streamed to STDOUT by default)\r\n  search      Search the Docker Hub for images\r\n  start       Start one or more stopped containers\r\n  stats       Display a live stream of container(s) resource usage statistics\r\n  stop        Stop one or more running containers\r\n  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE\r\n  top         Display the running processes of a container\r\n  unpause     Unpause all processes within one or more containers\r\n  update      Update configuration of one or more containers\r\n  version     Show the Docker version information\r\n  wait        Block until one or more containers stop, then print their exit codes\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u7ec3\u4e60",children:"\u7ec3\u4e60"}),"\n",(0,i.jsx)(e.h3,{id:"nginx",children:"nginx"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"docker \u5b89\u88c5 nginx"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'#1, \u641c\u7d22\u955c\u50cf search \u5efa\u8bae\u53bbdocker hub \u4e0a\u641c\u7d22\u53ef\u4ee5\u770b\u5230\u8be6\u7ec6\u4fe1\u606f\r\ndocker search nginx\r\n#2  \u62c9\u53d6\u955c\u50cf pull \u4e0b\u8f7d\u955c\u50cf\r\ndocker pull nginx\r\n#3  \u8fd0\u884c\u6d4b\u8bd5\r\n#\u4f7f\u7528\u53c2\u6570\r\n#-d \u540e\u53f0\u8fd0\u884c\r\n# --name \u7ed9\u5bb9\u5668\u540d\u5b57\r\n# -p \u5bbf\u4e3b\u673a\u7aef\u53e3\uff1a\u5bb9\u5668\u7aef\u53e3\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker ps -a\r\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker run -d --name nginx01 -p 3344:80 nginx\r\n30361d53c7276f50adecbef37a56865b9858a0b553efa7f33689c8c9f16d927e\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker ps\r\nCONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                  NAMES\r\n30361d53c727   nginx     "/docker-entrypoint.\u2026"   30 seconds ago   Up 30 seconds   0.0.0.0:3344->80/tcp   nginx01\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# curl localhost:3344\r\n\r\n#\u6d4b\u8bd5\u901a\u8fc7\uff0c\u8fdb\u5165\u67e5\u770b\u914d\u7f6e\uff0c\u4e4b\u540e\u505c\u6b62\u5bb9\u5668\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# curl localhost:3344\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n#\u6210\u529f\r\n<title>Welcome to nginx!</title>\r\n<style>\r\nhtml { color-scheme: light dark; }\r\nbody { width: 35em; margin: 0 auto;\r\nfont-family: Tahoma, Verdana, Arial, sans-serif; }\r\n</style>\r\n</head>\r\n<body>\r\n<h1>Welcome to nginx!</h1>\r\n<p>If you see this page, the nginx web server is successfully installed and\r\nworking. Further configuration is required.</p>\r\n\r\n<p>For online documentation and support please refer to\r\n<a href="http://nginx.org/">nginx.org</a>.<br/>\r\nCommercial support is available at\r\n<a href="http://nginx.com/">nginx.com</a>.</p>\r\n\r\n<p><em>Thank you for using nginx.</em></p>\r\n</body>\r\n</html>\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker exec -it nginx01 /bin/bash\r\nroot@30361d53c727:/# ls\r\nbin  boot  dev\tdocker-entrypoint.d  docker-entrypoint.sh  etc\thome  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\r\nroot@30361d53c727:/# whereis nginx\r\nnginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx\r\nroot@30361d53c727:/# cd /etc/nginx\r\nroot@30361d53c727:/etc/nginx# ls\r\nconf.d\tfastcgi_params\tmime.types  modules  nginx.conf  scgi_params  uwsgi_params\r\nroot@30361d53c727:/etc/nginx# exit\r\nexit\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# ls\r\ninstall.sh\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker ps\r\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                  NAMES\r\n30361d53c727   nginx     "/docker-entrypoint.\u2026"   7 minutes ago   Up 7 minutes   0.0.0.0:3344->80/tcp   nginx01\r\n[root@iZwz90ps06ioyada63oiwiZ ~]# docker stop 30361d53c727\r\n30361d53c727\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u7aef\u53e3\u66b4\u9732\u7684\u6982\u5ff5"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/7fcadb319b80f6ef3351e499700593a4.png",alt:"image-20211007113424795"})}),"\n",(0,i.jsx)(e.p,{children:"\u601d\u8003\uff1a\u662f\u4e0d\u662f\u6211\u4eec\u6bcf\u6b21\u521b\u5efa\u4e00\u4e2a nginx \u5bb9\u5668\u90e8\u7f72\u70b9\u4e1c\u897f\uff0c\u90fd\u9700\u8981\u53bb\u4fee\u6539\u914d\u7f6e\uff0c\u8fd9\u663e\u7136\u5f88\u8017\u65f6\u95f4\uff0c\u90a3\u4e48\u6211\u4eec \u9700\u8981\u600e\u4e48\u505a\u5462\uff0c -v \u6570\u636e\u5377\u5bb9\u5668\uff0c\u53ef\u4ee5\u89e3\u51b3\uff0c"}),"\n",(0,i.jsx)(e.h3,{id:"tomcat",children:"tomcat"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"docker \u5b89\u88c5 tomcat"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#\u5b98\u65b9\u7684\u5b9e\u4f8b \u7528\u5b8c\u5c31\u4f1a\u5220\u9664\uff0c\r\ndocker run -it --rm tomcat:9.0\r\n\r\n#\u6211\u4eec\u4e4b\u524d\u542f\u52a8\u7684\u90fd\u662f\u540e\u53f0\uff0c\u505c\u6b62\u4e86\u5bb9\u5668\u4e4b\u540e\uff0c\u540e\u53f0\u8fd8\u662f\u53ef\u4ee5\u67e5\u5230\uff0cdocker run -it --rm\u4e00\u822c\u7528\u6765\u6d4b\u8bd5\uff0c\u7528\u5b8c\u5c31\u4f1a\u81ea\u52a8\u5220\u9664\r\n\r\n#\u4e0b\u8f7d\u542f\u52a8\r\ndocker pull tomcat:9.0\r\n\r\n#\u542f\u52a8\u8fd0\u884c\r\ndocker run -d -p 3355:8080 --name tomcat01 tomcat\r\n\r\n#\u53d1\u73b0\u53ef\u4ee5\u8bbf\u95ee\u4f46\u662f\u6ca1\u6709\u5185\u5bb9\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff0c\u5e94\u4e3a\u4e0b\u8f7d\u7684tomcat\u662f\u9609\u5272\u7248\u672c\uff0cwebapps\u4e0b\u662f\u7a7a\u7684\u6240\u6709\u6ca1\u6709\r\nroot@3fba46045c12:/usr/local/tomcat# ls\r\nBUILDING.txt\t LICENSE  README.md\t RUNNING.txt  conf  logs\t    temp     webapps.dist\r\nCONTRIBUTING.md  NOTICE   RELEASE-NOTES  bin\t      lib   native-jni-lib  webapps  work\r\nroot@3fba46045c12:/usr/local/tomcat# cd webapps\r\nroot@3fba46045c12:/usr/local/tomcat/webapps#\r\n\r\n#\u95ee\u9898 linux\u547d\u4ee4\u5c11\u4e86\uff0cwebapps\u662f\u7a7a\u7684\uff0c\u4e3a\u4ec0\u4e48\uff1f \u5e94\u4e3a\u963f\u91cc\u4e91\u7684\u955c\u50cf\u662f\u6700\u5c0f\u7684\uff0c\u628a\u4e0d\u5fc5\u8981\u7684\u90fd\u5254\u9664\u6389\u4e86\uff0c\u4fdd\u8bc1\u6700\u5c0f\u7684\u8fd0\u884c\r\n\r\n#webapps.dist \u6211\u4eec\u4e4b\u524dwebapps\u7684\u4e1c\u897f\u90fd\u5728\u8fd9\u4e2adist\u91cc\u9762\uff0c\u53ea\u9700\u8981\u590d\u5236\u5185\u5bb9\u5230webapps\u4e2d\u5c31\u53ef\u4ee5\u5b8c\u6210\u8bbf\u95ee\u4e86\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/5ec39e27bc9628ca1ae5264d89bf05ef.png",alt:"image-20211007133450899"})}),"\n",(0,i.jsx)(e.p,{children:"\u601d\u8003\uff1a\u6bcf\u6b21\u5f00\u4e00\u4e2a tomcat \u7684\u5bb9\u5668\uff0c\u5c31\u5f97\u53bb\u590d\u5236\u4e00\u6b21 dist \u6587\u4ef6\uff0c\u8981\u662f\u6211\u90e8\u7f72\u4e86\u9879\u76ee\u5c82\u4e0d\u662f\u6bcf\u6b21\u90fd\u4f1a\u6d88\u5931\uff0c\u6ca1\u6709\u6301\u4e45\u5316\uff0c\u90a3\u8fd8\u5f97\u4e86\u3002\u8fd9\u4e2a\u8fd8\u53ea\u662f tomcat\u3002\u8981\u662f mysql \u5bb9\u5668\u5220\u9664\u4e86\uff0c\u90a3\u5c82\u4e0d\u662f\u76f4\u63a5\u6570\u636e\u5168\u90e8\u4e22\u5931\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u53ef\u89c6\u5316",children:"\u53ef\u89c6\u5316"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"portainer\uff08\u5148\u4f7f\u7528\u8fd9\u4e2a\uff09"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker run -d -p 8088:9000\\\r\n--restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Rancher\uff08CI/CD \u518d\u7528\uff09"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u4ec0\u4e48\u662f portainer"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker run -d -p 8088:9000\\\r\n--restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7\u5b83\u8bbf\u95ee\u4e86"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"http://120.79.14.203:8088/#/init/admin",children:"http://120.79.14.203:8088/#/init/admin"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fdb\u5165\u4e4b\u540e\u4f1a\u8981\u5148\u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/91b73b2ae9296a70e358d53a546a0534.png",alt:"image-20211007151140339"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u9009\u62e9\u672c\u5730\u7684"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/951ba7a4dc80fbb073d91dc5317b51a6.png",alt:"image-20211007151211509"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u5c31\u53ef\u4ee5\u770b\u5230 docker \u7684\u5185\u5bb9\u4e86"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/ac6b7107ca9a799cb620fb4bf4bce665.png",alt:"image-20211007151405290"})}),"\n",(0,i.jsx)(e.p,{children:"\u6bd4\u5982\u6709\u591a\u5c11\u955c\u50cf\u963f\uff0c\u591a\u5c11\u5bb9\u5668\u963f\uff0c\u53ef\u4ee5\u70b9\u8fdb\u53bb\u64cd\u4f5c\u547d\u4ee4"}),"\n",(0,i.jsx)(e.h2,{id:"docker-\u955c\u50cf\u8bb2\u89e3",children:"Docker \u955c\u50cf\u8bb2\u89e3"}),"\n",(0,i.jsx)(e.h3,{id:"\u955c\u50cf\u662f\u4ec0\u4e48",children:"\u955c\u50cf\u662f\u4ec0\u4e48"}),"\n",(0,i.jsx)(e.p,{children:"\u955c\u50cf\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u53ef\u6267\u884c\u7684\u72ec\u7acb\u8f6f\u4ef6\u5305\uff0c\u7528\u6765\u6253\u5305\u8f6f\u4ef6\u8fd0\u884c\u73af\u5883\u548c\u57fa\u4e8e\u73af\u5883\u53d1\u5f00\u7684\u8f6f\u4ef6\uff0c\u5b83\u5305\u542b\u8fd0\u884c\u67d0\u4e2a\u8f6f\u4ef6\u6240\u9700\u8981\u7684\u5185\u5bb9\uff0c\u5305\u62ec\u4ee3\u7801\uff0c\u8fd0\u884c\u65f6\uff0c\u5e93\uff0c\u73af\u5883\u53d8\u91cf\uff0c\u914d\u7f6e\u6587\u4ef6\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6240\u6709\u7684\u5e94\u7528\uff0c\u76f4\u63a5\u6253\u5305 docker \u955c\u50cf\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8dd1\u8d77\u6765"}),"\n",(0,i.jsx)(e.p,{children:"\u5982\u4f55\u83b7\u5f97\u955c\u50cf\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u4e0b\u8f7d"}),"\n",(0,i.jsx)(e.li,{children:"\u670b\u53cb\u62f7\u8d1d"}),"\n",(0,i.jsx)(e.li,{children:"\u81ea\u5df1\u5236\u4f5c\u955c\u50cf dockerfile"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"docker-\u955c\u50cf\u52a0\u8f7d\u539f\u7406",children:"Docker \u955c\u50cf\u52a0\u8f7d\u539f\u7406"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"UnionFS \u8054\u5408\u6587\u4ef6\u7cfb\u7edf"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/a215659899b896e2d33d290cb07a4be7.png",alt:"image-20211007152543164"})})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Docker \u955c\u50cf\u52a0\u8f7d\u7684\u539f\u7406"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/2791350f4d39849629444a20901ced6e.png",alt:"image-20211007152852449"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5206\u5c42\u7406\u89e3",children:"\u5206\u5c42\u7406\u89e3"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u5206\u5c42\u7684\u955c\u50cf"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u53bb\u4e0b\u8f7d\u4e00\u4e2a\u955c\u50cf\uff0c\u6ce8\u610f\u89c2\u5bdf\u4e0b\u8f7d\u7684\u65e5\u5fd7\u8f93\u51fa\uff0c\u53ef\u4ee5\u770b\u5230\u4e00\u5c42\u5c42\u7684\u4e0b\u8f7d\uff0c"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/dcd5a6c3eb8cb9236d925bf954094039.png",alt:"image-20211007153412138"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u4f1a\u53d1\u53ea\u4f1a\u4e0b\u8f7d\u4e00\u4e9b\u65b0\u7684\uff0c\u4e4b\u524d\u8001\u7684\u90fd\u662f\u53ef\u4ee5\u590d\u7528\u7684"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Docker \u7684\u5206\u5c42"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u6bcf\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u90fd\u6709\u81ea\u5df1\u7684\u50a8\u5b58\u65b9\u5f0f"}),"\n",(0,i.jsx)(e.p,{children:"docker \u4e0a\u6211\u4eec\u7684\u64cd\u4f5c\u53ef\u4ee5\u662f\u518d\u955c\u50cf\u5c42\u9762\u7684\u57fa\u7840\u4e0a\u65b0\u52a0\u4e86\u4e00\u5c42\uff0c"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/bd02e647ec8e0010490fdcc29db45ffc.png",alt:"image-20211007154232293"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"docker \u955c\u50cf\u7684\u7279\u70b9"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"docker \u7684\u955c\u50cf\u4e00\u822c\u90fd\u662f\u53ea\u8bfb\u72b6\u6001\u7684\uff0c\u6211\u4eec run \u8d77\u6765\u7684\u5bb9\u5668\uff0c\u90fd\u662f\u518d\u5bb9\u5668\u5c42\u9762\uff0c\u65b0\u5199\u7684\u5c42\u9762\u4f1a\u88ab\u52a0\u5230\u9876\u90e8\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6240\u4ee5\u6211\u4eec\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u57fa\u4e8e\u5bb9\u5668\u7684\uff0c\u5bb9\u5668\u57fa\u4e8e\u4e00\u4e2a\u57fa\u672c\u7684\u955c\u50cf\uff0c"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/47dcd822c86749b47ef5a2b1248cebb5.png",alt:"image-20211007154640895"})}),"\n",(0,i.jsx)(e.p,{children:"\u7406\u89e3\u4e86\u8fd9\u4e9b\u6211\u4eec\u518d\u53bb\u63d0\u4ea4\u4e00\u4e2a\u5c5e\u4e8e\u81ea\u5df1\u7684\u955c\u50cf"}),"\n",(0,i.jsx)(e.h3,{id:"commit-\u955c\u50cf",children:"COMMIT \u955c\u50cf"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker commit \u63d0\u4ea4\u54e6\u8ba9\u5176\u6210\u4e3a\u4e00\u4e2a\u65b0\u7684\u526f\u672c\r\n\r\n#\u547d\u4ee4\u548cgit\u7684\u539f\u7406\u7c7b\u4f3c\r\ndocker commit -m = \u201c\u63d0\u4ea4\u7684\u63cf\u8ff0i\u661f\u7cfb\u201d -a =\u201c\u4f5c\u8005\u201d \u5bb9\u5668id \u76ee\u6807\u7684\u955c\u50cf\u540d\u5b57\uff1a\u3010tag\u3011\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u5b9e\u6218\u6d4b\u8bd5\uff1a\u6253\u5305\u4e00\u4e2a webapps \u4e0b\u6709\u6587\u4ef6\u7684 tocmat \u4e0a\u53bb"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#1 \u542f\u52a8\u4e00\u4e2atomcat\r\n\r\n#2 \u4e4b\u524d\u53d1\u73b0\u7684\u95ee\u9898\uff0c\u6211\u4eec\u7684tomcat\u4e0b\u9ed8\u8ba4\u662f\u6ca1\u6709\u6587\u4ef6\u7684\uff0c\u90fd\u653e\u5728 webapps.dist\u865a\u4e0b\uff0c\u6bcf\u6b21\u6211\u4eec\u90fd\u9700\u8981\u53bb\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e2d\u7684\u4e1c\u897f\u53bb\u590d\u5236\u5230webapps\u4e2d\uff0c\u5341\u5206\u7684\u9ebb\u70e6\u3002\r\n\r\n#3\u6211\u81ea\u5df1\u5c06\u6587\u4ef6\u62f7\u8d1d\u5230\u4e86\u57fa\u672c\u6587\u4ef6\r\n\r\n#4 \u6211\u81ea\u5df1\u62f7\u8d1d\u7684\u955c\u50cf\u6211\u63d0\u4ea4\u4e86\u3002\u8fd9\u4e2a\u6bd4\u8f83\u597d\u7528\uff0c\u6211\u76f4\u63a5\u63d0\u4ea4\u4e0a\u53bb\u7528\u6211\u63d0\u4ea4\u7684\u6211\u89c9\u5f97\u8212\u670d\u7684\u955c\u50cf\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u5230\u4e86\u8fd9\u91cc\u5c31\u7b97\u662f\u5165\u95e8 Docker"}),"\n",(0,i.jsx)(e.h2,{id:"\u5bb9\u5668\u6570\u636e\u5377",children:"\u5bb9\u5668\u6570\u636e\u5377"}),"\n",(0,i.jsx)(e.h3,{id:"\u4ec0\u4e48\u662f\u5bb9\u5668\u7684\u6570\u636e\u5377",children:"\u4ec0\u4e48\u662f\u5bb9\u5668\u7684\u6570\u636e\u5377"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"docker \u7684\u7406\u5ff5\u56de\u987e"})}),"\n",(0,i.jsx)(e.p,{children:"\u5c06\u5e94\u7528\u73af\u5883\u6253\u5305\u6210\u4e00\u4e2a\u955c\u50cf\uff01"}),"\n",(0,i.jsx)(e.p,{children:"\u6570\u636e \u5982\u679c\u6570\u636e\u5728\u5bb9\u5668\u4e2d\uff0c\u6211\u4eec\u5bb9\u5668\u5220\u9664\u7684\u8bdd\uff0c\u6570\u636e\u4e5f\u4f1a\u8ddf\u7740\u6d88\u5931 ==\u9700\u6c42 :\u9700\u8981\u6301\u4e45\u5316=="}),"\n",(0,i.jsx)(e.p,{children:"MySql \u5bb9\u5668\u5220\u9664\uff1d\u5220\u5e93\u8dd1\u8def ==\u9700\u6c42\uff1aMySql \u6570\u636e\u53ef\u4ee5\u5b58\u50a8\u5230\u672c\u5730\uff01=="}),"\n",(0,i.jsx)(e.p,{children:"\u5bb9\u5668\u4e4b\u95f4\u53ef\u4ee5\u6709\u4e00\u4e2a\u6570\u636e\u7a7a\u60f3\u7684\u6280\u672f\uff0cdocker \u5bb9\u5668\u4e2d\u4ea7\u751f\u7684\u6570\u636e\uff0c\u540c\u6b65\u5230\u672c\u5730"}),"\n",(0,i.jsx)(e.p,{children:"\u5220\u9664\u5bb9\u5668\u6570\u636e\u4e0d\u4f1a\u6d88\u5931\uff0c\u8fd9\u4e2a\u5c31\u662f\u5377\u6280\u672f"}),"\n",(0,i.jsx)(e.p,{children:"\u76ee\u5f55\u7684\u6302\u8f7d\uff0c\u5c06\u6211\u4eec\u7684\u5bb9\u5668\u5185\u7684\u76ee\u5f55\uff0c\u6302\u5728\u5230 linux \u4e0a\uff01"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/ed137902480988ab71a8ca38e95a719b.png",alt:"image-20211007162143064"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5bb9\u5668\u9700\u8981\u6301\u4e45\u5316\u548c\u540c\u6b65\u64cd\u4f5c\uff0c\u5bb9\u5668\u95f4\u4e5f\u53ef\u4ee5\u6570\u636e\u5171\u4eab"})}),"\n",(0,i.jsx)(e.h3,{id:"\u4f7f\u7528\u6570\u636e\u5377",children:"\u4f7f\u7528\u6570\u636e\u5377"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u65b9\u5f0f 1\uff1a\u76f4\u63a5\u4f7f\u7528\u547d\u4ee4\u6765\u6302\u5728 -v"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-SHELL",children:"docker run -it -v  \u4e3b\u673a\u76ee\u5f55:\u5bb9\u5668\u76ee\u5f55\r\n\r\n#\u6302\u8f7d\u6d4b\u8bd5\r\ndocker run -it -v /dockerTest/ceshi/:/home centos /bin/bash\r\n\r\n#\u67e5\u770b\u5bb9\u5668\u5143\u6570\u636e\r\ndocker inspcet \u5bb9\u5668id\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/c0c576034f4e436abfcf0b36a6d54cb9.png",alt:"image-20211007162919462"})}),"\n",(0,i.jsx)(e.p,{children:"\u53ef\u4ee5\u770b\u5230\u5377\u7684\u6302\u8f7d\u4fe1\u606f"}),"\n",(0,i.jsx)(e.p,{children:"\u7ed1\u5b9a\u4fe1\u606f\u786e\u8ba4\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u8bd5\u8bd5\u662f\u4e0d\u662f\u771f\u7684\u6210\u529f\u4e86"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/a2ced49787afe11f3b37f0438cf9cedb.png",alt:"image-20211007163222265"})}),"\n",(0,i.jsx)(e.p,{children:"\u7ed1\u5b9a\u6210\u529f\uff0c\u4e4b\u540e\u6211\u4eec\u6d4b\u8bd5\uff0c\u5c31\u662f\u662f\u4e0d\u662f\u5bb9\u5668\u505c\u6b62\u4e0b\u6765\u6570\u636e\u8fd8\u80fd\u6709\u6570\u636e\u561b\uff1f"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u8fd9\u91cc\u5728\u670d\u52a1\u5668\u7684 testjava \u6587\u4ef6\u4e2d\u5199\u70b9\u5185\u5bb9"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/d8e5acaf2f84512e79afe285856e8e4e.png",alt:"image-20211007163529383"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u53bb\u542f\u52a8\u5bb9\u5668\u770b\u770b\u662f\u5426 \u540c\u6b65"}),"\n",(0,i.jsx)(e.p,{children:"\u540c\u6b65\u6210\u529f\uff01\uff01\uff01"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/a67b1aae6dc3d6c6a4bfcc322d374292.png",alt:"image-20211007163639956"})}),"\n",(0,i.jsx)(e.p,{children:"\u5230\u8fd9\u91cc\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u6570\u636e\u5377\u7684\u6570\u636e\u6301\u4e45\u5316\u64cd\u4f5c\uff0c\u53ea\u8981\u5bb9\u5668\u4e0d\u6d88\u5931\uff0c\u5173\u95ed\u4e4b\u540e\u518d\u6b21\u6253\u5f00\u4e5f\u662f\u53ef\u4ee5\u770b\u66f4\u6539\u7684\u5185\u5bb9\u7684\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u5b9e\u6218\u5b89\u88c5-mysql",children:"\u5b9e\u6218\u5b89\u88c5 mysql"}),"\n",(0,i.jsx)(e.p,{children:"mysql \u6301\u4e45\u8bdd\u7684\u95ee\u9898"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#\u62c9\u53bbmysql\u7684\u955c\u50cf\r\ndocker pull mysql:5.7\r\n\r\n#\u542f\u52a8\u6302\u8f7dmysql\u7684\u5bb9\u5668 mysql\u662f\u5fc5\u987b\u8981\u6709\u5bc6\u7801\u7684\r\n#\u5b98\u65b9\u7684\u6d4b\u8bd5\r\n docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag\r\n # -e \u6211\u4eec\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u9700\u8981\u914d\u7f6e\u73af\u5883\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u7528-e\u6765\u914d\u7f6e\r\n\r\ndocker run -d -p 3310:3306\r\n-v /dockerTest/mysql/conf:/etc/mysql/conf.d\r\n-v /dockerTest/mysql/data:/var/lib/mysql\r\n-e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7\r\n\r\n#-d \u662f\u540e\u53f0\u6302\u5728\r\n#-p \u6620\u5c04\u7aef\u53e3\r\n#-v \u5377\u6302\u8f7d\r\n#--name \u5bb9\u5668\u540d\u5b57\r\n#--e \u914d\u7f6e\u73af\u5883\uff0cmysql\u5bc6\u7801\r\n\r\n#\u542f\u52a8\u6210\u529f\u4e4b\u540e\u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\u5de5\u5177\u8fde\u63a5docker\u7684mysql\r\n#navicat \u8fde\u63a5 \u670d\u52a1\u5668\u76843310\uff08\u6620\u5c04\u7684docker 3306\uff09\u8fde\u63a5\u6210\u529f\r\n#\u6d4b\u8bd5\u672c\u5730\u521b\u5efa\u6570\u636e\u5e93\uff0c\u67e5\u770b\u662f\u5426data\u7684\u5185\u5bb9\u6620\u5c04\u5230\u6210\u529f\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u54ea\u6015\u6211\u4eec\u5c06\u5bb9\u5668\u5220\u9664\uff0c\u6211\u4eec\u6302\u8f7d\u5230\u672c\u5730\u7684\u6570\u636e\u662f\u4e0d\u4f1a\u4e22\u5931\u7684\uff0c\u8fd9\u5c31\u5b9e\u73b0\u4e86\u5bb9\u5668\u6301\u4e45\u5316\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u5177\u540d\u6302\u8f7d\u548c\u533f\u540d\u6302\u8f7d",children:"\u5177\u540d\u6302\u8f7d\u548c\u533f\u540d\u6302\u8f7d"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#\u533f\u540d\u6302\u8f7d\r\n-v \u5bb9\u5668\u5185\u8def\u5f84\r\ndocker run -d -P --name nginx01 -v /etc/nginx nginx\r\n\r\n#\u67e5\u770b\u5377\uff08volume\uff09\u7684\u4fe1\u606f\r\ndocker volume ls\r\n\r\n#\u8fd9\u91cc\u53d1\u73b0\u6570\u636e\u90fd\u662f\u6ca1\u6709\u540d\u5b57\u7684\uff0c\u8fd9\u91cc\u6211\u4eec\u6ca1\u6709\u8bbe\u7f6e\u672c\u673a\u7684\u8def\u5f84\uff0c-v\u53ea\u5199\u4e86\u5bb9\u5668\u5185\u7684\u8def\u5f84\uff0c\u8fd9\u4e2a\u5c31\u662f\u533f\u540d\u6302\u8f7d\r\n\r\n#\u5177\u540d\u6302\u8f7d\r\ndocker run -d -P -v juming-nginx:/etc/nginx nginx\r\n\u67e5\u770b\u5377\u4fe1\u606f\r\ndocker volume ls\r\nlocal     10f1524cc8295a9e7dfd75c88dab113395da11959756738bf121b5733ac2be70\r\nlocal     24439de8b83f5493f971314bc3e5ca0e8f60d14a338ee19c7e35910403ade730\r\nlocal     juming-nginx\r\n\r\n\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u521a\u624d\u7684\u8bbe\u7f6e\u7684\r\n#\u901a\u8fc7 -v \u5377\u540d \uff1a \u5bb9\u5668\u5185\u8def\u5f84\r\n#\u67e5\u770b\u4e00\u4e0b\u8fd9\u4e2a\u5377\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/126f6f892af183083502428ab7ca4c80.png",alt:"image-20211008161005185"})}),"\n",(0,i.jsxs)(e.p,{children:["\u6240\u6709\u7684 docker \u5bb9\u5668\u5185\u7684\u5377\uff0c\uff0c\u6ca1\u6709\u6307\u5b9a\u76ee\u5f55\uff0c\u5c31\u90fd\u4f1a\u653e\u5728",(0,i.jsx)(e.code,{children:"/var/lic/docker/volumes/xxx/_data"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u6211\u4eec\u901a\u8fc7\u5177\u540d\u6302\u8f7d\u53ef\u4ee5\u5f88\u8f7b\u677e\u62ff\u51fa\u6765\u914d\u7f6e\u3002\u5927\u591a\u6570\u7684\u65f6\u5019\u6211\u4eec\u90fd\u662f",(0,i.jsx)(e.code,{children:"\u5177\u540d\u6302\u8f7d"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/2ef7f1e70ccdc0f79de4ce1e73baa972.png",alt:"image-20211008161214811"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#\u5982\u4f55\u533a\u5206\u5177\u540d\u6302\u8f7d\uff0c\u533f\u540d\u6302\u8f7d\uff0c\u548c\u7edd\u5bf9\u8def\u5f84\u6302\u8f7d\r\n-v \u5bb9\u5668\u5185\u8def\u5f84  #\u533f\u540d\u6302\u8f7d\r\n-v \u5377\u540d \uff1a\u5bb9\u5668\u5185\u8def\u5f84 #\u5177\u540d\u6302\u8f7d\r\n-v /\u5bbf\u4e3b\u673a\u8def\u5f84\uff1a\u5bb9\u5668\u8def\u5f84 #\u6307\u5b9a\u8def\u5f84\u6302\u8f7d\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u62d3\u5c55"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"#\u901a\u8fc7 -v \u5bb9\u5668\u5185\u7684\u8def\u5f84ro ow\u6539\u53d8\u8bfb\u5199\u6743\u9650\r\nro readonly #\u53ea\u8bfb\r\nrw redwrite #\u53ef\u8bfb\u53ef\u5199\r\n\r\n#\u4e00\u65e6\u8bbe\u7f6e\u4e86\u5bb9\u5668\u6743\u9650\uff0c\u5bb9\u5668\u5bf9\u6211\u4eec\u6302\u8f7d\u51fa\u6765\u7684\u5185\u5bb9\u5c31\u6709\u9650\u9876\u4e86\r\n#ro \u53ea\u8981\u770b\u5230ro\u5c31\u8bf4\u660e\u8fd9\u4e2a\u8def\u5f84\u53ea\u80fd\u901a\u8fc7\u5bbf\u4e3b\u673a\u6765\u64cd\u4f5c\uff0c\u5bb9\u5668\u5185\u90e8\u662f\u65e0\u6cd5\u64cd\u4f5c\u7684\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u521d\u8bc6-dockerfile",children:"\u521d\u8bc6 dockerfile"}),"\n",(0,i.jsx)(e.p,{children:"dockerfile \u5c31\u662f\u901a\u8fc7\u6784\u5efa docker \u955c\u50cf\u7684\u6784\u5efa\u6587\u4ef6\uff0c\u547d\u4ee4\u811a\u672c\uff0c"}),"\n",(0,i.jsx)(e.p,{children:"\u901a\u8fc7\u811a\u672c\u53ef\u4ee5\u751f\u6210\u955c\u50cf\uff0c\u955c\u50cf\u662f\u4e00\u5c42\u4e00\u5c42\u7684\uff0c\u811a\u672c\u5c31\u662f\u4e00\u4e2a\u4e2a\u547d\u4ee4\uff0c\u6bcf\u4e2a\u547d\u4ee4\u5c31\u662f\u4e00\u5c42"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'#\u521b\u5efa\u4e00\u4e2adockerfile \u7684\u6587\u4ef6\uff0c\u540d\u5b57\u53ef\u4ee5\u968f\u610f\uff0c\u5efa\u8baedockerfile\r\n#\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9 \u5927\u5199\r\nFROM centos\r\nVOLUME ["volume01","volume02"]\r\n\r\nCMD\techo "------end-------"\r\nCMD /bin/bash\r\n\r\n#\u8fd9\u91cc\u7684\u6bcf\u4e2a\u6307\u4ee4\u5c31\u662f\u955c\u50cf\u7684\u4e00\u5c42\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/95a538f534f4f41833409d13f31ca947.png",alt:"image-20211008170701378"})}),"\n",(0,i.jsx)(e.p,{children:"\u542f\u52a8 i \u81ea\u5df1\u7684\u5bb9\u5668"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/90059d79e212343bb883893ce6463d08.png",alt:"image-20211008171210378"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u4e2a\u5377\u548c\u5916\u90e8\u4e00\u5b9a\u6709\u4e00\u4e2a\u540c\u6b65\u7684\u76ee\u5f55"}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u4e2a\u662f\u533f\u540d\u6302\u8f7d"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u8981\u627e\u7684\u8bdd\u4e00\u5b9a\u662f\u4e00\u6bb5\u5f88\u957f\u7684\u4e71\u7801"}),"\n",(0,i.jsx)(e.p,{children:"\u627e\u5230\u5377\u6302\u8f7d\u7684\u547d\u4ee4"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/d1842e8ae843dd3d338ef12ade9d1960.png",alt:"image-20211008171418747"})}),"\n",(0,i.jsx)(e.p,{children:"\u5bb9\u5668\u540c\u6b65\u6210\u529f"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/8f821faa0c9143f5278e0bb11e3dda6a.png",alt:"image-20211008171600981"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u79cd\u65b9\u5f0f\u6211\u4eec\u672a\u6765\u4f7f\u7528\u7684\u5341\u5206\u591a\uff0c\u56e0\u4e3a\u6211\u4eec\u901a\u5e38\u4f1a\u6784\u5efa\u81ea\u5df1\u7684\u955c\u50cf"}),"\n",(0,i.jsx)(e.p,{children:"\u5047\u8bbe\u6784\u5efa\u7684\u65f6\u5019\u6ca1\u6709\u6302\u8f7d\u5377\uff0c\u8981\u624b\u52a8\u955c\u50cf\u6302\u8f7d\uff0c-v \u5377\u540d\uff1a\u5bb9\u5668\u8def\u5f84\uff01"}),"\n",(0,i.jsx)(e.h3,{id:"\u6570\u636e\u5377\u5bb9\u5668",children:"\u6570\u636e\u5377\u5bb9\u5668"}),"\n",(0,i.jsx)(e.p,{children:"\u5bb9\u5668\u4e4b\u95f4\u540c\u6b65\u6570\u636e"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/1acfb718259fa8a4b12bdc6185507c23.png",alt:"image-20211008171856431"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u8981\u6253\u5f00\u4e09\u4e2a\u5bb9\u5668\uff0c\u542f\u52a8\u7b2c\u4e00\u4e2a\uff1a\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u6302\u8f7d\u7684\u4e24\u4e2a\u5bb9\u5668"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/1e7ee4ca8beacf47c88319d46e428251.png",alt:"image-20211008172215072"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u8dd1\u8d77\u6765\u5bb9\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker run -it --name docker02 --volumes-from docker01 2dd933a342b1\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u6302\u8f7d\u6211\u4eec\u7684 docker01"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/40d957bc19a16aac440613a07e752616.png",alt:"image-20211008173147275"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u770b\u5230 docker02 \u7684\u91cc\u9762\u4e5f\u6709\u4e4b\u524d\u4e24\u4e2a\u6302\u8f7d\u7684\u5bb9\u5668"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u5728 docker01 \u65b0\u589e volume01 \u65b0\u5efa\u4e2a\u6587\u4ef6\u5939 docker01\uff0c\u5728 docker02 \u4e2d\u4e5f\u53ef\u4ee5\u770b\u89c1"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/7e3dc32163d905f2a62c8e36eba82b8d.png",alt:"image-20211008173242330"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u91cc\u662f docker02 \u67e5\u770b volume1 \u7684\u5185\u5bb9"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/71602b495cf4460b8e8e9f722ead2751.png",alt:"image-20211008173235639"})}),"\n",(0,i.jsx)(e.p,{children:"\u53ef\u4ee5\u770b\u51fa\u5df2\u7ecf\u5f88\u660e\u663e\u4e86\uff0c\u6302\u8f7d\u6210\u529f\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec docker01 \u5c31\u662f\u6570\u636e\u5377\u5bb9\u5668\u540c\u65f6\u4e5f\u662f docker01 \u5bb9\u5668"}),"\n",(0,i.jsx)(e.p,{children:"\u53ea\u8981\u8fd8\u6709\u5bb9\u5668\u5728\u6302\u8f7d\u6570\u636e\u5c31\u4e0d\u4f1a\u4e22\u5931"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/68790ccec8fda3fb4785346baa3db906.png",alt:"image-20211008173533997"})}),"\n",(0,i.jsx)(e.p,{children:"\u591a\u4e2a mysql \u5b9e\u73b0\u6570\u636e\u5171\u4eab"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker run -d -p 3310:3306\r\n-v /etc/mysql/conf.d\r\n-v /var/lib/mysql\r\n-e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7\r\n\r\n#mysql02\u6302\u8f7dmysql01\r\ndocker run -d -p 3310:3306\r\n-e MYSQL_ROOT_PASSWORD=123456 --name mysql01 --volumes-from mysql01  mysql:5.7\r\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u7ed3\u8bba",children:"\u7ed3\u8bba\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"\u5bb9\u5668\u4e4b\u95f4\u914d\u7f6e\u4fe1\u606f\uff0c\u6570\u636e\u5377\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\u4e00\u76f4\u6301\u7eed\u5230\u6ca1\u6709\u5bb9\u5668\u4f4d\u7f6e"}),"\n",(0,i.jsx)(e.p,{children:"\u4f46\u662f\u4e00\u65e6\u6301\u4e45\u5316\u5230\u4e86\u672c\u5730\uff0c \u5c31\u4e0d\u4f1a\u6d88\u5931"}),"\n",(0,i.jsx)(e.h2,{id:"dockerfile",children:"dockerfile"}),"\n",(0,i.jsx)(e.h3,{id:"dockerfile-\u4ecb\u7ecd",children:"dockerfile \u4ecb\u7ecd"}),"\n",(0,i.jsx)(e.p,{children:"\u7528\u6765\u6784\u5efa docker \u955c\u50cf\u7684"}),"\n",(0,i.jsx)(e.p,{children:"\u6784\u5efa\u6b65\u9aa4\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7f16\u5199\u4e00\u4e2a docker file \u6587\u4ef6"}),"\n",(0,i.jsx)(e.li,{children:"docker build \u6784\u5efa\u6210\u4e00\u4e2a\u955c\u50cf"}),"\n",(0,i.jsx)(e.li,{children:"docker run \u8fd0\u884c\u955c\u50cf"}),"\n",(0,i.jsx)(e.li,{children:"docker push \u53d1\u5e03\u955c\u50cf\uff08Docker hub \u963f\u91cc\u4e91\u955c\u50cf\uff09"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u6765\u770b\u770b\u5b98\u65b9\u662f\u600e\u4e48\u505a\u7684"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/5fe1239c19b3466b602364bff68bd209.png",alt:"image-20211106170721576"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/a45bf838b0c472bd68b5584b67daef7e.png",alt:"image-20211106172154705"})}),"\n",(0,i.jsx)(e.p,{children:"\u5f88\u591a\u5b98\u65b9\u7684\u955c\u50cf\u90fd\u662f\u57fa\u7840\u5305\uff0c\u5f88\u591a\u529f\u80fd\u6ca1\u6709\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u81ea\u5df1\u642d\u5efa\u81ea\u5df1\u7684\u955c\u50cf"}),"\n",(0,i.jsx)(e.p,{children:"\u5b98\u65b9\u53ef\u4ee5\u5236\u4f5c\u955c\u50cf\uff0c\u90a3\u6211\u4eec\u4e5f\u53ef\u4ee5"}),"\n",(0,i.jsx)(e.h3,{id:"dockerfile-\u6784\u5efa\u8fc7\u7a0b",children:"DockerFile \u6784\u5efa\u8fc7\u7a0b"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u57fa\u7840\u77e5\u8bc6"}),"\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6bcf\u4e2a\u4fdd\u7559\u5173\u952e\u5b57\uff0c\u6307\u4ee4\u90fd\u5fc5\u987b\u662f\u5927\u5199\u5b57\u6bcd"}),"\n",(0,i.jsx)(e.li,{children:"\u6267\u884c\u4ece\u4e0a\u5230\u4e0b\u6267\u884c"}),"\n",(0,i.jsx)(e.li,{children:"#\u8868\u793a\u6ce8\u91ca"}),"\n",(0,i.jsx)(e.li,{children:"\u6bcf\u4e2a\u6307\u4ee4\u90fd\u4f1a\u521b\u5efa\u63d0\u4ea4\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\u5c42"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/525155f42add449636280bedd39d4080.png",alt:"image-20211106172456651"})}),"\n",(0,i.jsx)(e.p,{children:"dockerfile \u662f\u9762\u5411\u5f00\u53d1\u7684\uff0c\u6211 i \u4eec\u4ee5\u540e\u9700\u8981\u53d1\u5e03\u9879\u76ee\uff0c\u505a\u955c\u50cf\uff0c\u5c31\u9700\u8981\u7f16\u5199 dockerfile \u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5341\u5206\u7b80\u5355\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u8981\u638c\u63e1 dockerfile \u5c31\u57fa\u672c\u53ef\u4ee5\u638c\u63e1\u5e38\u7528\u7684 docker \u955c\u50cf\u4f01\u4e1a\u4ea4\u4ed8\u4e86"}),"\n",(0,i.jsx)(e.p,{children:"dockerfile \uff1a\u6784\u5efa\u6587\u4ef6\uff0c\u5b9a\u4e49\u4e86\u4e00\u5207\u6b65\u9aa4\uff0c\u6e90\u4ee3\u7801"}),"\n",(0,i.jsx)(e.p,{children:"dockerimages\uff1a\u901a\u8fc7 dockerfile \u751f\u6210\u7684\u955c\u50cf\uff0c\u6700\u7ec8\u53d1\u5e03\u548c\u8fd0\u884c\u7684\u4ea7\u54c1"}),"\n",(0,i.jsx)(e.p,{children:"docker \u5bb9\u5668\uff1a\u5bb9\u5668\u5c31\u662f\u955c\u50cf\u8fd0\u884c\u8d77\u6765\uff0c\u63d0\u4f9b\u670d\u52a1\u7684"}),"\n",(0,i.jsx)(e.h3,{id:"dockerfile-\u7684\u6307\u4ee4",children:"Dockerfile \u7684\u6307\u4ee4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"FROM            # \u57fa\u7840\u955c\u50cf\uff0c\u4e00\u5207\u4ece\u8fd9\u91cc\u5f00\u59cb\u6784\u5efa\r\nMAINTAINER      # \u955c\u50cf\u662f\u8c01\u5199\u7684\uff0c \u59d3\u540d+\u90ae\u7bb1\r\nRUN             # \u955c\u50cf\u6784\u5efa\u7684\u65f6\u5019\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4\r\nADD             # \u6b65\u9aa4\uff0c tomcat\u955c\u50cf\uff0c \u8fd9\u4e2atomcat\u538b\u7f29\u5305\uff01\u6dfb\u52a0\u5185\u5bb9\r\nWORKDIR         # \u955c\u50cf\u7684\u5de5\u4f5c\u76ee\u5f55\r\nVOLUME          # \u6302\u8f7d\u7684\u76ee\u5f55\r\nEXPOSE          # \u4fdd\u7559\u7aef\u53e3\u914d\u7f6e\r\nCMD             # \u6307\u5b9a\u8fd9\u4e2a\u5bb9\u5668\u542f\u52a8\u7684\u65f6\u5019\u8981\u8fd0\u884c\u7684\u547d\u4ee4\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u4f1a\u751f\u6548\u53ef\u88ab\u66ff\u4ee3\r\nENTRYPOINT      # \u6307\u5b9a\u8fd9\u4e2a\u5bb9\u5668\u542f\u52a8\u7684\u65f6\u5019\u8981\u8fd0\u884c\u7684\u547d\u4ee4\uff0c \u53ef\u4ee5\u8ffd\u52a0\u547d\u4ee4\r\nONBUILD         # \u5f53\u6784\u5efa\u4e00\u4e2a\u88ab\u7ee7\u627fDockerFile \u8fd9\u4e2a\u65f6\u5019\u5c31\u4f1a\u8fd0\u884c ONBUILD \u7684\u6307\u4ee4\uff0c\u89e6\u53d1\u6307\u4ee4\r\nCOPY            # \u7c7b\u4f3cADD, \u5c06\u6211\u4eec\u6587\u4ef6\u62f7\u8d1d\u5230\u955c\u50cf\u4e2d\r\nENV             # \u6784\u5efa\u7684\u65f6\u5019\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff01\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/807fd8aa351dd687851902d9290046da.png",alt:"image-20211106172810755"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5b9e\u6218\u6d4b\u8bd5",children:"\u5b9e\u6218\u6d4b\u8bd5"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u521b\u5efa\u4e00\u4e2a\u81ea\u5df1\u7684 centos"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'FROM centos\r\nMAINTAINER hyc<3132774018@qq,com>\r\n\r\nENV MYPATH /usr/local\r\nWORKDIR $MYPATH\r\n\r\nRUN yum -y install vim\r\nRUN yum -y install net-tools\r\n\r\nEXPOSE 80\r\n\r\nCMD echo $MYPATH\r\nCMD echo "---end---"\r\nCMD /bin/bash\r\n\r\n# 2. \u901a\u8fc7\u8fd9\u4e2a\u6587\u4ef6\u6784\u5efa\u955c\u50cf\r\n# \u547d\u4ee4 docker build -f dockerfile\u6587\u4ef6\u8def\u5f84 -t \u955c\u50cf\u540d:[tag] .\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker build -f mydockerfile-centos -t mycentos:0.1 .\r\n\r\nSuccessfully built d2d9f0ea8cb2\r\nSuccessfully tagged mycentos:0.1\r\n\r\n#\u6d4b\u8bd5\u8fd0\u884c\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u5bf9\u6bd4\u4e4b\u524d\u539f\u751f\u7684 centos"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/7be8c55dc144f7b94e506fcb02f040e4.png",alt:"image-20211106180200362"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u589e\u52a0\u4e86 vim \u548c net-tools"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u67e5\u770b\u4e00\u4e0b\u955c\u50cf\u7684\u53d8\u66f4\u5386\u53f2"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.code,{children:"docker history <imagesid>"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/f546c42e1e4ce529b69b0db69044710c.png",alt:"image-20211106180537787"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u5e73\u65f6\u62ff\u5230\u4e00\u4e2a\u955c\u50cf\u53ef\u4ee5\u7814\u7a76\u4ed6\u662f\u600e\u4e48\u6784\u5efa\u7684"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"CMD \u548c ENTRYPOINT \u533a\u522b"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"CMD         # \u6307\u5b9a\u8fd9\u4e2a\u5bb9\u5668\u542f\u52a8\u7684\u65f6\u5019\u8981\u8fd0\u884c\u7684\u547d\u4ee4\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u4f1a\u751f\u6548\u53ef\u88ab\u66ff\u4ee3\r\nENTRYPOINT      # \u6307\u5b9a\u8fd9\u4e2a\u5bb9\u5668\u542f\u52a8\u7684\u65f6\u5019\u8981\u8fd0\u884c\u7684\u547d\u4ee4\uff0c \u53ef\u4ee5\u8ffd\u52a0\u547d\u4ee4\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5-cmd",children:"\u6d4b\u8bd5 CMD"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'# 1. \u7f16\u5199dockerfile\u6587\u4ef6\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# vim dockerfile-cmd-test\r\nFROM centos\r\nCMD ["ls", "-a"]\r\n\r\n# 2. \u6784\u5efa\u955c\u50cf\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker build -f dockerfile-cmd-test -t cmdtest .\r\n\r\n# 3. run\u8fd0\u884c\uff0c \u53d1\u73b0\u6211\u4eec\u7684ls -a \u547d\u4ee4\u751f\u6548\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker run ebe6a52bb125\r\n.\r\n..\r\n.dockerenv\r\nbin\r\ndev\r\netc\r\nhome\r\nlib\r\nlib64\r\n\r\n# \u60f3\u8ffd\u52a0\u4e00\u4e2a\u547d\u4ee4 -l \u53d8\u6210 ls -al\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker run ebe6a52bb125 -l\r\ndocker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused "exec: \\"-l\\": executable file not found in $PATH": unknown.\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker run ebe6a52bb125 ls -l\r\n\r\n# cmd\u7684\u60c5\u51b5\u4e0b -l\u66ff\u6362\u4e86CMD["ls", "-a"]\u547d\u4ee4\uff0c -l\u4e0d\u662f\u547d\u4ee4\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\n'})}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5-entrypoint",children:"\u6d4b\u8bd5 ENTRYPOINT"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'# 1. \u7f16\u5199dockerfile\u6587\u4ef6\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# vim dockerfile-entrypoint-test\r\nFROM centos\r\nENTRYPOINT ["ls", "-a"]\r\n\r\n# 2. \u6784\u5efa\u6587\u4ef6\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker build -f dockerfile-entrypoint-test -t entrypoint-test .\r\n\r\n# 3. run\u8fd0\u884c \u53d1\u73b0\u6211\u4eec\u7684ls -a \u547d\u4ee4\u540c\u6837\u751f\u6548\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker run entrypoint-test\r\n.\r\n..\r\n.dockerenv\r\nbin\r\ndev\r\netc\r\nhome\r\nlib\r\n\r\n# 4. \u6211\u4eec\u7684\u8ffd\u52a0\u547d\u4ee4\uff0c \u662f\u76f4\u63a5\u62fc\u63a5\u5230ENTRYPOINT\u547d\u4ee4\u7684\u540e\u9762\u7684\uff01\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ dockerfile]# docker run entrypoint-test -l\r\ntotal 56\r\ndrwxr-xr-x  1 root root 4096 Aug 13 07:52 .\r\ndrwxr-xr-x  1 root root 4096 Aug 13 07:52 ..\r\n-rwxr-xr-x  1 root root    0 Aug 13 07:52 .dockerenv\r\nlrwxrwxrwx  1 root root    7 May 11  2019 bin -> usr/bin\r\ndrwxr-xr-x  5 root root  340 Aug 13 07:52 dev\r\ndrwxr-xr-x  1 root root 4096 Aug 13 07:52 etc\r\ndrwxr-xr-x  2 root root 4096 May 11  2019 home\r\nlrwxrwxrwx  1 root root    7 May 11  2019 lib -> usr/lib\r\nlrwxrwxrwx  1 root root    9 May 11  2019 lib64 -> usr/lib64\r\ndrwx------  2 root root 4096 Aug  9 21:40 lost+found\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u5b9e\u6218-tomcat",children:"\u5b9e\u6218 tomcat"}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u5148\u51c6\u5907\u597d \u9700\u8981\u7528\u5230\u7684 \u5b89\u88c5\u5305"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"apache-tomcat-9.0.54.tar.gz"}),"\n",(0,i.jsx)(e.li,{children:"jdk-8u311-linux-x64.tar.gz"}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u51c6\u5907\u955c\u50cf\u6587\u4ef6 tomcat \u538b\u7f29\u5305\uff0cjdk \u7684\u538b\u7f29\u5305\uff01"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/20200813164403261.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u7f16\u5199 Dockerfile \u6587\u4ef6\uff0c\u5b98\u65b9\u547d\u540d",(0,i.jsx)(e.code,{children:"Dockerfile"}),", build \u4f1a\u81ea\u52a8\u5bfb\u627e\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5c31\u4e0d\u9700\u8981-f \u6307\u5b9a\u4e86\uff01"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"[root@iZwz90ps06ioyada63oiwiZ dockerfiletomcat]# cat Dockerfile\r\nFROM centos\r\nMAINTAINER hyc<3132774018@qq.com>\r\n\r\nCOPY readme.txt /usr/local/readme.txt\r\n\r\nADD jdk-8u311-linux-x64.tar.gz /usr/local/\r\nADD apache-tomcat-9.0.54.tar.gz /usr/local/\r\n\r\nRUN yum -y install vim\r\n\r\nENV MYPATH /usr/local\r\nWORKDIR $MYPATH\r\n\r\nENV JAVA_HOME /usr/local/jdk1.8.0_311\r\nENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\r\nENV CATALINA_HOME /usr/local/apache-tomcat-9.0.54\r\nENV CATALINA_BASH /usr/local/apache-tomcat-9.0.54\r\nENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/bin\r\n\r\nEXPOSE 8080\r\n\r\nCMD /usr/local/apache-tomcat-9.0.54/bin/startup.sh && tail -F /usr/local/apache-tomcat-9.0.54/bin/logs/catalina.out\r\n\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u542f\u52a8\u5e76\u4e14\u6302\u8f7d"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"docker run -d -p 3344:8080 --name hyctomcat11 -v /dockerTest/dockerfiletomcat/test:/usr/local/apache-tomcat-9.0.54/webapps/test -v /dockerTest/dockerfiletomcat/tomcatlogs/:/usr/local/apache-tomcat-9.0.54/logs diytomcat\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u8bbf\u95ee 3344 \u7aef\u53e3"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u6210\u529f"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/f4e089461983627233396d16a8450bdf.png",alt:"image-20211106212344365"})}),"\n",(0,i.jsx)(e.h3,{id:"\u53d1\u5e03",children:"\u53d1\u5e03"}),"\n",(0,i.jsx)(e.p,{children:"\u6ce8\u518c docker hub \u8d26\u53f7"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/1b4962487b98354993149580e123e987.png",alt:"image-20211107171256066"})}),"\n",(0,i.jsx)(e.p,{children:"\u5230\u670d\u52a1\u5668\u547d\u4ee4\u884c\u767b\u9646"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-SHELL",children:"[root@iZwz90ps06ioyada63oiwiZ ~]# docker login -u doomwatcher\r\nPassword:\r\nWARNING! Your password will be stored unencrypted in /root/.docker/config.json.\r\nConfigure a credential helper to remove this warning. See\r\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store\r\n\r\nLogin Succeeded\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u767b\u9646\u81ea\u5df1\u7684 docker \u8d26\u6237"}),"\n",(0,i.jsx)(e.p,{children:"\u767b\u5f55\u6210\u6211\u4eec\u5c31\u53ef\u4ee5 push \u5230 \u81ea\u5df1\u7684\u4ed3\u5e93\u4e86"}),"\n",(0,i.jsxs)(e.p,{children:["\u4e4b\u540e\u6211\u4eec\u8981\u7ed9\u4e4b\u524d\u6211\u4eec\u81ea\u5df1\u5199\u7684 tocmat \u89c4\u8303\u547d\u540d ",(0,i.jsx)(e.code,{children:" docker tag dockerhub\u7528\u6237\u540d/\u955c\u50cf\u540d\uff1a\u7248\u672c\u53f7"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"[root@iZwz90ps06ioyada63oiwiZ ~]# docker tag diytomcat  doomwatcher/diytomcat:1.0\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/07b9bacd1f30d79974ae66aac57a9691.png",alt:"image-20211107172125161"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u6211\u4eec\u7528 docker push \u5230\u6211\u4eec\u7684 docker \u4e0a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/ec9fae64e9fd35a5dcded73fe0a70a93.png",alt:"image-20211107172219696"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/e00d1f00dec9c5b47bcdc4487cea1bb4.png",alt:"image-20211107172248100"})}),"\n",(0,i.jsx)(e.h2,{id:"docker-\u7f51\u7edc",children:"docker \u7f51\u7edc"}),"\n",(0,i.jsx)(e.h3,{id:"\u8ba4\u8bc6-docker-\u7f51\u7edc",children:"\u8ba4\u8bc6 docker \u7f51\u7edc"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u6d4b\u8bd5 ip addr \u67e5\u770b"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/130ece6844f2e1d2489edf6d774e8889.png",alt:"image-20211107193400215"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u5bb9\u5668\u548c\u5bb9\u5668\u4e4b\u95f4 \u80fd\u4e0d\u80fd ping \u901a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/3fbd18792c9b59a05cd61493f6a6c2af.png",alt:"image-20211107193505174"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u8dd1\u4e00\u4e2atomcat\r\ndocker run -d -P --name tomcat01 tomcat\r\n# \u83b7\u53d6ip\r\nip addr\r\n\r\n# \u6211\u4eec\u53ef\u4ee5\u7528\u67e5\u770b\u5143\u6570\u636e\u7684\u65b9\u5f0f\u67e5\u770b \u5bb9\u5668\u7684ip\u5730\u5740\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/1108394344d31f0c571bf239d365d792.png",alt:"image-20211107194843093"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u4e4b\u540e\u7528\u5bbf\u4e3b\u673a linux \u53bbping\u5bb9\u5668\r\n ping 172.18.0.2\r\n\r\n # \u80fd\u901a\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/e3e9c1073f8c924de56dff50560ec772.png",alt:"image-20211107194927467"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u539f\u7406"}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u6211\u4eec\u6bcf\u542f\u52a8\u4e00\u4e2a docker \u5bb9\u5668\uff0c docker \u5c31\u4f1a\u7ed9 \u6211\u4eec\u7684\u6bcf\u4e00\u4e2a\u5bb9\u5668\u5206\u914d\u4e00\u4e2a ip"}),"\n",(0,i.jsx)(e.li,{children:"\u6211\u4eec\u53ea\u8981\u5b89\u88c5 docker \u5c31\u4f1a\u6709\u4e00\u4e2a\u7f51\u5361 docker0 \u6865\u63a5\u6a21\u5f0f\uff0c\u4f7f\u7528\u7684\u6280\u672f\u662f evth-pair \u6280\u672f"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/d3898de85d3600d70cc10ccb829568bb.png",alt:"image-20211107195156421"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u65b0\u542f\u52a8\u7684\u5bb9\u5668\u5c31\u4f1a\u591a\u4e00\u4e2a\u65b0\u7684\u7f51\u5361"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53d1\u73b0\uff0c\u8fd9\u4e9b\u5bb9\u5668\u7684\u7f51\u5361\u90fd\u662f\u4e00\u5bf9\u4e00\u5bf9\u7684"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u6211\u4eec\u53d1\u73b0\u8fd9\u4e2a\u5bb9\u5668\u5e26\u6765\u7f51\u5361\uff0c\u90fd\u662f\u4e00\u5bf9\u5bf9\u7684\r\n# veth-pair \u5c31\u662f\u4e00\u5bf9\u7684\u865a\u62df\u8bbe\u5907\u63a5\u53e3\uff0c\u4ed6\u4eec\u90fd\u662f\u6210\u5bf9\u51fa\u73b0\u7684\uff0c\u4e00\u7aef\u8fde\u7740\u534f\u8bae\uff0c\u4e00\u7aef\u5f7c\u6b64\u76f8\u8fde\r\n# \u6b63\u56e0\u4e3a\u6709\u8fd9\u4e2a\u7279\u6027\uff0cveth-pair\u5145\u5f53\u4e00\u4e2a\u6865\u6881\uff0c \u8fde\u63a5\u5404\u79cd\u865a\u62df\u7f51\u7edc\u8bbe\u5907\r\n# OpenStac\uff0c Docker\u5bb9\u5668\u4e4b\u95f4\u7684\u94fe\u63a5\uff0cOVS\u7684\u94fe\u63a5\uff0c \u90fd\u662f\u4f7f\u7528veth-pair\u6280\u672f\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/550ec4b45731d99f5894945965679813.png",alt:"image-20211107195532158"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a tomcat \u5c1d\u8bd5\u5bb9\u5668\u4e4b\u95f4\u662f\u5426\u80fd\u591f ping \u901a"}),"\n",(0,i.jsx)(e.p,{children:"\u7ed3\u8bba\uff1a\u5bb9\u5668\u4e0e\u5bb9\u5668\u4e4b\u95f4\u662f\u53ef\u4ee5\u76f8\u4e92 ping \u901a\u7684\uff01"}),"\n",(0,i.jsx)(e.p,{children:"\u7ed8\u5236\u4e00\u4e2a\u7f51\u7edc\u6a21\u578b\u56fe"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/pic01.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.p,{children:"\u7ed3\u8bba\uff1atomcat01 \u548c tomcat02 \u662f\u5171\u7528\u7684\u4e00\u4e2a\u8def\u7531\u5668\uff0cdocker0"}),"\n",(0,i.jsx)(e.p,{children:"\u6240\u6709\u5bb9\u5668\u4e0d\u6307\u5b9a\u7f51\u7edc\u7684\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f docker0 \u8def\u7531\u7684\uff0cdoucker \u4f1a\u7ed9\u6211\u4eec\u7684\u5bb9\u5668\u5206\u914d\u4e00\u4e2a\u9ed8\u8ba4\u7684\u53ef\u7528 IP"}),"\n",(0,i.jsx)(e.h3,{id:"\u5c0f\u7ed3-1",children:"\u5c0f\u7ed3"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/pic02.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.p,{children:"Docker \u4f7f\u7528\u7684\u662f Linux \u7684\u6865\u63a5\uff0c\u5bbf\u4e3b\u673a\u4e2d\u662f\u4e00\u4e2a Docker \u5bb9\u5668\u7684\u7f51\u6865 docker0."}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/pic03.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.p,{children:"Docker \u4e2d\u7684\u6240\u6709\u7684\u7f51\u7edc\u63a5\u53e3\u90fd\u662f\u865a\u62df\u7684\uff0c\u865a\u62df\u7684\u8f6c\u53d1\u6548\u7387\u9ad8\uff01\uff08\u5185\u7f51\u4f20\u9012\u6587\u4ef6\uff01\uff09"}),"\n",(0,i.jsx)(e.p,{children:"\u53ea\u8981\u5bb9\u5668\u5220\u9664\uff0c\u5bf9\u5e94\u7684\u7f51\u6865\u4e00\u5bf9\u5c31\u6ca1\u6709\u4e86\uff01"}),"\n",(0,i.jsx)(e.h3,{id:"--link",children:"--link"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u601d\u8003\u4e00\u4e2a\u573a\u666f\uff0c\u6211\u4eec\u7f16\u5199\u4e86\u4e00\u4e2a\u5fae\u670d\u52a1\uff0cdatabase url =ip\uff1b \u9879\u76ee\u4e0d\u91cd\u542f\uff0c\u6570\u636e ip \u6362\u6389\u4e86\uff0c\u6211\u4eec\u5e0c\u671b\u53ef\u4ee5\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u6309\u540d\u5b57\u6765\u8fdb\u884c\u8bbf\u95ee\u5bb9\u5668"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat02 ping tomcat01\r\nping: tomcat01: Name or service not known\r\n\r\n# \u5982\u4f55\u53ef\u4ee5\u89e3\u51b3\u5462\uff1f\r\n# \u901a\u8fc7--link\u65e2\u53ef\u4ee5\u89e3\u51b3\u7f51\u7edc\u8fde\u901a\u95ee\u9898\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker run -d -P  --name tomcat03 --link tomcat02 tomcat\r\n3a2bcaba804c5980d94d168457c436fbd139820be2ee77246888f1744e6bb473\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker ps\r\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES\r\n3a2bcaba804c        tomcat              "catalina.sh run"   4 seconds ago       Up 3 seconds        0.0.0.0:32772->8080/tcp   tomcat03\r\nf22ed47ed1be        tomcat              "catalina.sh run"   57 minutes ago      Up 57 minutes       0.0.0.0:32771->8080/tcp   tomcat02\r\n9d97f93401a0        tomcat              "catalina.sh run"   About an hour ago   Up About an hour    0.0.0.0:32770->8080/tcp   tomcat01\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat03 ping tomcat02\r\nPING tomcat02 (172.17.0.3) 56(84) bytes of data.\r\n64 bytes from tomcat02 (172.17.0.3): icmp_seq=1 ttl=64 time=0.129 ms\r\n64 bytes from tomcat02 (172.17.0.3): icmp_seq=2 ttl=64 time=0.100 ms\r\n64 bytes from tomcat02 (172.17.0.3): icmp_seq=3 ttl=64 time=0.110 ms\r\n64 bytes from tomcat02 (172.17.0.3): icmp_seq=4 ttl=64 time=0.107 ms\r\n\r\n# \u53cd\u5411\u53ef\u4ee5ping\u901a\u5417\uff1f\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat02 ping tomcat03\r\nping: tomcat03: Name or service not known\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u63a2\u7a76\uff1ainspect\uff01"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/pic04.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.p,{children:"\u5176\u5b9e\u8fd9\u4e2a tomcat03 \u5c31\u662f\u5728\u672c\u5730\u914d\u7f6e\u4e86 tomcat02 \u7684\u914d\u7f6e\uff1f"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat03 cat /etc/hosts\r\n127.0.0.1   localhost\r\n::1 localhost ip6-localhost ip6-loopback\r\nfe00::0 ip6-localnet\r\nff00::0 ip6-mcastprefix\r\nff02::1 ip6-allnodes\r\nff02::2 ip6-allrouters\r\n172.17.0.3  tomcat02 f22ed47ed1be\r\n172.17.0.4  3a2bcaba804c\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u672c\u8d28\u63a2\u7a76\uff1a--link \u5c31\u662f\u6211\u4eec\u5728 hosts \u914d\u7f6e\u4e2d\u589e\u52a0\u4e86\u4e00\u4e2a 172.17.0.3 tomcat02 f22ed47ed1be"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u73b0\u5728\u73a9 Docker \u5df2\u7ecf\u4e0d\u5efa\u8bae\u4f7f\u7528--link \u4e86\uff01"}),"\n",(0,i.jsx)(e.p,{children:"\u81ea\u5b9a\u4e49\u7f51\u7edc\uff01\u4e0d\u4f7f\u7528 Docker0\uff01"}),"\n",(0,i.jsx)(e.p,{children:"Docker0 \u7684\u95ee\u9898\uff1a\u5b83\u4e0d\u652f\u6301\u5bb9\u5668\u540d\u94fe\u63a5\u8bbf\u95ee\uff01"}),"\n",(0,i.jsx)(e.h3,{id:"\u81ea\u5b9a\u4e49\u7f51\u7edc",children:"\u81ea\u5b9a\u4e49\u7f51\u7edc"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u67e5\u770b\u6240\u6709\u7684 docker \u7f51\u7edc"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/20200814105640929.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7f51\u7edc\u6a21\u5f0f"})}),"\n",(0,i.jsx)(e.p,{children:"bridge\uff1a \u6865\u63a5\u6a21\u5f0f\uff0c\u6865\u63a5 docker \u9ed8\u8ba4\uff0c\u81ea\u5df1\u521b\u5efa\u7684\u4e5f\u662f\u7528 brdge \u6a21\u5f0f"}),"\n",(0,i.jsx)(e.p,{children:"none\uff1a \u4e0d\u914d\u7f6e\u7f51\u7edc"}),"\n",(0,i.jsx)(e.p,{children:"host\uff1a \u548c\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc"}),"\n",(0,i.jsx)(e.p,{children:"container\uff1a\u5bb9\u5668\u7f51\u7edc\u8fde\u901a\uff01\uff08\u7528\u7684\u5c11\uff0c \u5c40\u9650\u5f88\u5927\uff09"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6d4b\u8bd5"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u6211\u4eec\u76f4\u63a5\u542f\u52a8\u7684\u547d\u4ee4\u9ed8\u8ba4\u6709\u4e00\u4e2a --net bridge\uff0c\u800c\u8fd9\u4e2a\u5c31\u662f\u6211\u4eec\u7684docker0\r\ndocker run -d -P --name tomcat01 tomcat\r\ndocker run -d -P --name tomcat01 --net bridge tomcat\r\n\r\n# docker0\u7279\u70b9\uff0c\u9ed8\u8ba4\uff0c\u5bb9\u5668\u540d\u4e0d\u80fd\u8bbf\u95ee\uff0c --link\u53ef\u4ee5\u6253\u901a\u8fde\u63a5\uff01\r\n# \u6211\u4eec\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e00\u4e2a\u7f51\u7edc\uff01\r\n# --driver bridge\r\n# --subnet 192.168.0.0/16 \u53ef\u4ee5\u652f\u6301255*255\u4e2a\u7f51\u7edc 192.168.0.2 ~ 192.168.255.254\r\n# --gateway 192.168.0.1\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet\r\n26a5afdf4805d7ee0a660b82244929a4226470d99a179355558dca35a2b983ec\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker network ls\r\nNETWORK ID          NAME                DRIVER              SCOPE\r\n30d601788862        bridge              bridge              local\r\n226019b14d91        host                host                local\r\n26a5afdf4805        mynet               bridge              local\r\n7496c014f74b        none                null                local\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u81ea\u5df1\u521b\u5efa\u7684\u7f51\u7edc\u5c31 ok \u4e86\uff01"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/pic05.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u81ea\u5df1\u521b\u5efa\u7684\u7f51\u7edc\u91cc\u9762\u542f\u52a8\u4e24\u4e2a\u5bb9\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker run -d -P --name tomcat-net-01 --net mynet tomcat\r\n0e85ebe6279fd23379d39b27b5f47c1e18f23ba7838637802973bf6449e22f5c\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker run -d -P --name tomcat-net-02 --net mynet tomcat\r\nc6e462809ccdcebb51a4078b1ac8fdec33f1112e9e416406b606d0c9fb6f21b5\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker network inspect mynet\r\n[\r\n    {\r\n        "Name": "mynet",\r\n        "Id": "26a5afdf4805d7ee0a660b82244929a4226470d99a179355558dca35a2b983ec",\r\n        "Created": "2020-08-14T11:12:40.553433163+08:00",\r\n        "Scope": "local",\r\n        "Driver": "bridge",\r\n        "EnableIPv6": false,\r\n        "IPAM": {\r\n            "Driver": "default",\r\n            "Options": {},\r\n            "Config": [\r\n                {\r\n                    "Subnet": "192.168.0.0/16",\r\n                    "Gateway": "192.168.0.1"\r\n                }\r\n            ]\r\n        },\r\n        "Internal": false,\r\n        "Attachable": false,\r\n        "Ingress": false,\r\n        "ConfigFrom": {\r\n            "Network": ""\r\n        },\r\n        "ConfigOnly": false,\r\n        "Containers": {\r\n            "0e85ebe6279fd23379d39b27b5f47c1e18f23ba7838637802973bf6449e22f5c": {\r\n                "Name": "tomcat-net-01",\r\n                "EndpointID": "576ce5c0f5860a5aab5e487a805da9d72f41a409c460f983c0bd341dd75d83ac",\r\n                "MacAddress": "02:42:c0:a8:00:02",\r\n                "IPv4Address": "192.168.0.2/16",\r\n                "IPv6Address": ""\r\n            },\r\n            "c6e462809ccdcebb51a4078b1ac8fdec33f1112e9e416406b606d0c9fb6f21b5": {\r\n                "Name": "tomcat-net-02",\r\n                "EndpointID": "81ecbc4fe26e49855fe374f2d7c00d517b11107cc91a174d383ff6be37d25a30",\r\n                "MacAddress": "02:42:c0:a8:00:03",\r\n                "IPv4Address": "192.168.0.3/16",\r\n                "IPv6Address": ""\r\n            }\r\n        },\r\n        "Options": {},\r\n        "Labels": {}\r\n    }\r\n]\r\n\r\n# \u518d\u6b21\u62fc\u8fde\u63a5\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat-net-01 ping 192.168.0.3\r\nPING 192.168.0.3 (192.168.0.3) 56(84) bytes of data.\r\n64 bytes from 192.168.0.3: icmp_seq=1 ttl=64 time=0.113 ms\r\n64 bytes from 192.168.0.3: icmp_seq=2 ttl=64 time=0.093 ms\r\n^C\r\n--- 192.168.0.3 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 999ms\r\nrtt min/avg/max/mdev = 0.093/0.103/0.113/0.010 ms\r\n\r\n# \u73b0\u5728\u4e0d\u4f7f\u7528 --link\u4e5f\u53ef\u4ee5ping\u540d\u5b57\u4e86\uff01\r\n\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat-net-01 ping tomcat-net-02\r\nPING tomcat-net-02 (192.168.0.3) 56(84) bytes of data.\r\n64 bytes from tomcat-net-02.mynet (192.168.0.3): icmp_seq=1 ttl=64 time=0.068 ms\r\n64 bytes from tomcat-net-02.mynet (192.168.0.3): icmp_seq=2 ttl=64 time=0.096 ms\r\n64 bytes from tomcat-net-02.mynet (192.168.0.3): icmp_seq=3 ttl=64 time=0.094 ms\r\n\r\n\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u7f51\u7edcdocker\u90fd\u5df2\u7ecf\u5e2e\u6211\u4eec\u7ef4\u62a4\u597d\u4e86\u5bf9\u5e94\u7684\u5173\u7cfb\uff0c\u63a8\u8350\u6211\u4eec\u5e73\u65f6\u8fd9\u6837\u4f7f\u7528\u7f51\u7edc\r\n\r\n\u597d\u5904\uff1a\r\n\r\nredis - \u4e0d\u540c\u7684\u96c6\u7fa4\u4f7f\u7528\u4e0d\u540c\u7684\u7f51\u7edc\uff0c\u4fdd\u8bc1\u96c6\u7fa4\u65f6\u5b89\u5168\u548c\u5065\u5eb7\u7684\r\n\r\nmysql - \u4e0d\u540c\u7684\u96c6\u7fa4\u4f7f\u7528\u4e0d\u540c\u7684\u7f51\u7edc\uff0c\u4fdd\u8bc1\u96c6\u7fa4\u65f6\u5b89\u5168\u548c\u5065\u5eb7\u7684\r\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u7f51\u7edc\u8fde\u901a",children:"\u7f51\u7edc\u8fde\u901a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/pic06.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.p,{children:"\u6d4b\u8bd5\u6253\u901a tomcat01 \u548c mynet"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/pic07.png",alt:"\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-perl",children:"# \u8fde\u901aok\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat01 ping tomcat-net-01\r\nPING tomcat-net-01 (192.168.0.2) 56(84) bytes of data.\r\n64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=1 ttl=64 time=0.100 ms\r\n64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=2 ttl=64 time=0.085 ms\r\n^C\r\n--- tomcat-net-01 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1000ms\r\nrtt min/avg/max/mdev = 0.085/0.092/0.100/0.012 ms\r\n# \u4f9d\u65e7\u65e0\u6cd5\u8fde\u901a\uff0c\u6ca1\u6709connect\r\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker exec -it tomcat02 ping tomcat-net-01\r\nping: tomcat-net-01: Name or service not known\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u7ed3\u8bba\uff1a\u5047\u8bbe\u8981\u8de8\u7f51\u7edc \u64cd\u4f5c\u522b\u4eba\uff0c\u5c31\u8981\u4f7f\u7528 docker network connect \u8fde\u901a.....!"}),"\n",(0,i.jsx)(e.h2,{id:"springboot-\u6253\u5305\u5fae\u670d\u52a1\u9879\u76ee\u4e0a-docker",children:"springboot \u6253\u5305\u5fae\u670d\u52a1\u9879\u76ee\u4e0a docker"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6784\u5efa springboot \u9879\u76ee"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u8fd9\u91cc\u65b0\u5efa\u4e00\u4e2a deockerbootDemo"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/34656ca270b6745721d6539dbed36b5d.png",alt:"image-20211107211729453"})}),"\n",(0,i.jsx)(e.p,{children:"\u5199\u4e00\u4e2a controller \u8fd4\u56de\u4e00\u4e2a hello \u5373\u53ef"}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u53bb\u5b89\u88c5\u4e00\u4e2a docker \u7684\u63d2\u4ef6\uff0c\u53ef\u4ee5\u7528 idea \u53d1\u5e03\u5230 docker"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6253\u5305\u5e94\u7528"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7f16\u5199 dockerFile"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'FROM java:8\r\nCOPY *.jar /app.jar\r\n\r\nCMD["------serverprot:8080"]\r\nEXPOSE 8080\r\n\r\nENTRYPOINT ["java","-jar","/app.jar"]\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6784\u5efa\u955c\u50cf"}),"\n",(0,i.jsx)(e.p,{children:"\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230 \u670d\u52a1\u5668\u7684 dockertest/diea \u6587\u4ef6\u5939\u4e2d"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"\u8fd0\u884cdokcer bulid -t name ."}),"\u5373\u53ef\u6784\u5efa\u955c\u50cf"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/07f708ad57e747715e6af683fadb41d0.png",alt:"image-20211107213720789"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u53d1\u5e03\u8fd0\u884c"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u6211\u4eec\u521b\u5efa\u5bb9\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:" docker run -d -P --name hyc-springboot-web hycboot\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/490cb2bffd21f99c327a973c1ce4f6d4.png",alt:"image-20211107213537801"})}),"\n",(0,i.jsx)(e.p,{children:"\u4ee5\u540e\u6211\u4eec\u5c31\u53ea\u9700\u8981\uff0c\u7ed9\u522b\u4eba\u4e00\u4e2a\u955c\u50cf\u5373\u53ef\uff0c"}),"\n",(0,i.jsx)(e.p,{children:"\u8981\u662f\u6211\u4eec\u8981\u5f88\u591a\u4e2a\u955c\u50cf\uff0c\u6211\u4eec\u8be5\u600e\u4e48\u7528\uff1f"}),"\n",(0,i.jsx)(e.p,{children:"docker \u8fdb\u9636\u9884\u544a \uff1a"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Docker compose"}),"\n",(0,i.jsx)(e.li,{children:"Docker Swarm"}),"\n",(0,i.jsx)(e.li,{children:"CI/DI jenkins"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(t,{...n})}):t(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>d});var c=r(6540);const i={},s=c.createContext(i);function o(n){const e=c.useContext(s);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),c.createElement(s.Provider,{value:e},n.children)}}}]);