"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7510],{4640:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>o,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Java/Spring\u5185\u7f6eMVC\u6846\u67b6\uff1aSpringMVC","title":"SpringMVC","description":"1\u3001\u56de\u987e MVC","source":"@site/docs/Java/Spring\u5185\u7f6eMVC\u6846\u67b6\uff1aSpringMVC.md","sourceDirName":"Java","slug":"/Java/Spring\u5185\u7f6eMVC\u6846\u67b6\uff1aSpringMVC","permalink":"/docs/Java/Spring\u5185\u7f6eMVC\u6846\u67b6\uff1aSpringMVC","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"JavaSidebar","previous":{"title":"springcloud2020","permalink":"/docs/Java/SpringCloud Netflix"},"next":{"title":"mybatis plus","permalink":"/docs/Java/mybatis plus"}}');var l=r(4848),t=r(8453);const i={},a="SpringMVC",c={},d=[{value:"1\u3001\u56de\u987e MVC",id:"1\u56de\u987e-mvc",level:2},{value:"1.1\u3001\u4ec0\u4e48\u662f MVC",id:"11\u4ec0\u4e48\u662f-mvc",level:3},{value:"1.2\u3001Model1 \u65f6\u4ee3",id:"12model1-\u65f6\u4ee3",level:3},{value:"1.3\u3001Model2 \u65f6\u4ee3",id:"13model2-\u65f6\u4ee3",level:3},{value:"1.4\u3001\u56de\u987e Servlet",id:"14\u56de\u987e-servlet",level:3},{value:"2\u3001\u4ec0\u4e48\u662f SpringMVC",id:"2\u4ec0\u4e48\u662f-springmvc",level:2},{value:"2.1\u3001\u6982\u8ff0",id:"21\u6982\u8ff0",level:3},{value:"2.2\u3001\u4e2d\u5fc3\u63a7\u5236\u5668",id:"22\u4e2d\u5fc3\u63a7\u5236\u5668",level:3},{value:"2.3\u3001SpringMVC \u6267\u884c\u539f\u7406",id:"23springmvc-\u6267\u884c\u539f\u7406",level:3},{value:"3\u3001\u7b2c\u4e00\u4e2a MVC \u7a0b\u5e8f",id:"3\u7b2c\u4e00\u4e2a-mvc-\u7a0b\u5e8f",level:2},{value:"3.1\u3001\u914d\u7f6e\u7248",id:"31\u914d\u7f6e\u7248",level:3},{value:"3.2\u3001\u6ce8\u89e3\u7248",id:"32\u6ce8\u89e3\u7248",level:3},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",level:3},{value:"4\u3001RestFul \u548c\u63a7\u5236\u5668",id:"4restful-\u548c\u63a7\u5236\u5668",level:2},{value:"4.1\u3001\u63a7\u5236\u5668 Controller",id:"41\u63a7\u5236\u5668-controller",level:3},{value:"4.2\u3001\u5b9e\u73b0 Controller \u63a5\u53e3",id:"42\u5b9e\u73b0-controller-\u63a5\u53e3",level:3},{value:"\u4f7f\u7528\u6ce8\u89e3@Controller",id:"\u4f7f\u7528\u6ce8\u89e3controller",level:3},{value:"RequestMapping",id:"requestmapping",level:3},{value:"RestFul \u98ce\u683c",id:"restful-\u98ce\u683c",level:3},{value:"\u6269\u5c55\uff1a\u5c0f\u9ec4\u9e2d\u8c03\u8bd5\u6cd5",id:"\u6269\u5c55\u5c0f\u9ec4\u9e2d\u8c03\u8bd5\u6cd5",level:3},{value:"5\u3001\u7ed3\u679c\u8df3\u8f6c\u65b9\u5f0f",id:"5\u7ed3\u679c\u8df3\u8f6c\u65b9\u5f0f",level:2},{value:"5.1\u3001ModelAndView",id:"51modelandview",level:3},{value:"5.2\u3001ServletAPI",id:"52servletapi",level:3},{value:"5.3\u3001SpringMVC",id:"53springmvc",level:3},{value:"6\u3001\u6570\u636e\u5904\u7406",id:"6\u6570\u636e\u5904\u7406",level:2},{value:"6.1\u3001\u5904\u7406\u63d0\u4ea4\u6570\u636e",id:"61\u5904\u7406\u63d0\u4ea4\u6570\u636e",level:3},{value:"6.2\u3001\u6570\u636e\u663e\u793a\u5230\u524d\u7aef",id:"62\u6570\u636e\u663e\u793a\u5230\u524d\u7aef",level:3},{value:"6.3\u3001\u5bf9\u6bd4",id:"63\u5bf9\u6bd4",level:3},{value:"7\u3001\u4e71\u7801\u95ee\u9898",id:"7\u4e71\u7801\u95ee\u9898",level:2},{value:"8\u3001Json \u4ea4\u4e92\u5904\u7406",id:"8json-\u4ea4\u4e92\u5904\u7406",level:2},{value:"8.1\u3001\u4ec0\u4e48\u662f JSON\uff1f",id:"81\u4ec0\u4e48\u662f-json",level:3},{value:"8.2\u3001<strong>JSON \u548c JavaScript \u5bf9\u8c61\u4e92\u8f6c</strong>",id:"82json-\u548c-javascript-\u5bf9\u8c61\u4e92\u8f6c",level:3},{value:"8.3\u3001Controller \u8fd4\u56de JSON \u6570\u636e",id:"83controller-\u8fd4\u56de-json-\u6570\u636e",level:3},{value:"8.4 \u4ee3\u7801\u4f18\u5316",id:"84-\u4ee3\u7801\u4f18\u5316",level:3},{value:"8.5\u3001\u6d4b\u8bd5\u96c6\u5408\u8f93\u51fa",id:"85\u6d4b\u8bd5\u96c6\u5408\u8f93\u51fa",level:3},{value:"8.6\u3001\u8f93\u51fa\u65f6\u95f4\u5bf9\u8c61",id:"86\u8f93\u51fa\u65f6\u95f4\u5bf9\u8c61",level:3},{value:"8.7\u3001FastJson",id:"87fastjson",level:3},{value:"9\u3001Ajax \u7814\u7a76",id:"9ajax-\u7814\u7a76",level:2},{value:"9.1\u3001\u7b80\u4ecb",id:"91\u7b80\u4ecb",level:3},{value:"9.2\u3001\u4f2a\u9020 Ajax",id:"92\u4f2a\u9020-ajax",level:3},{value:"9.3\u3001jQuery.ajax",id:"93jqueryajax",level:3},{value:"9.4\u3001<strong>Springmvc \u5b9e\u73b0</strong>",id:"94springmvc-\u5b9e\u73b0",level:3},{value:"9.5\u3001\u6ce8\u518c\u63d0\u793a\u6548\u679c",id:"95\u6ce8\u518c\u63d0\u793a\u6548\u679c",level:3},{value:"9.6\u3001\u83b7\u53d6 baidu \u63a5\u53e3 Demo",id:"96\u83b7\u53d6-baidu-\u63a5\u53e3-demo",level:3},{value:"10\u3001\u62e6\u622a\u5668",id:"10\u62e6\u622a\u5668",level:2},{value:"10.1\u3001\u6982\u8ff0",id:"101\u6982\u8ff0",level:3},{value:"10.2\u3001\u81ea\u5b9a\u4e49\u62e6\u622a\u5668",id:"102\u81ea\u5b9a\u4e49\u62e6\u622a\u5668",level:3},{value:"10.3\u3001\u9a8c\u8bc1\u7528\u6237\u662f\u5426\u767b\u5f55 (\u8ba4\u8bc1\u7528\u6237)",id:"103\u9a8c\u8bc1\u7528\u6237\u662f\u5426\u767b\u5f55-\u8ba4\u8bc1\u7528\u6237",level:3},{value:"11\u3001\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d",id:"11\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d",level:2},{value:"11.1\u3001\u51c6\u5907\u5de5\u4f5c",id:"111\u51c6\u5907\u5de5\u4f5c",level:3},{value:"11.2\u3001\u6587\u4ef6\u4e0a\u4f20",id:"112\u6587\u4ef6\u4e0a\u4f20",level:3},{value:"11.3\u3001\u6587\u4ef6\u4e0b\u8f7d",id:"113\u6587\u4ef6\u4e0b\u8f7d",level:3}];function p(n){const e={a:"a",code:"code",em:"em",font:"font",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"springmvc",children:"SpringMVC"})}),"\n",(0,l.jsx)(e.h2,{id:"1\u56de\u987e-mvc",children:"1\u3001\u56de\u987e MVC"}),"\n",(0,l.jsx)(e.h3,{id:"11\u4ec0\u4e48\u662f-mvc",children:"1.1\u3001\u4ec0\u4e48\u662f MVC"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MVC \u662f\u6a21\u578b(Model)\u3001\u89c6\u56fe(View)\u3001\u63a7\u5236\u5668(Controller)\u7684\u7b80\u5199\uff0c\u662f\u4e00\u79cd\u8f6f\u4ef6\u8bbe\u8ba1\u89c4\u8303\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u662f\u5c06\u4e1a\u52a1\u903b\u8f91\u3001\u6570\u636e\u3001\u663e\u793a\u5206\u79bb\u7684\u65b9\u6cd5\u6765\u7ec4\u7ec7\u4ee3\u7801\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["MVC \u4e3b\u8981\u4f5c\u7528\u662f",(0,l.jsx)(e.strong,{children:"\u964d\u4f4e\u4e86\u89c6\u56fe\u4e0e\u4e1a\u52a1\u903b\u8f91\u95f4\u7684\u53cc\u5411\u5076\u5408"}),"\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["MVC \u4e0d\u662f\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\uff0c",(0,l.jsx)(e.strong,{children:"MVC \u662f\u4e00\u79cd\u67b6\u6784\u6a21\u5f0f"}),"\u3002\u5f53\u7136\u4e0d\u540c\u7684 MVC \u5b58\u5728\u5dee\u5f02\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"**Model\uff08\u6a21\u578b\uff09\uff1a**\u6570\u636e\u6a21\u578b\uff0c\u63d0\u4f9b\u8981\u5c55\u793a\u7684\u6570\u636e\uff0c\u56e0\u6b64\u5305\u542b\u6570\u636e\u548c\u884c\u4e3a\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u9886\u57df\u6a21\u578b\u6216 JavaBean \u7ec4\u4ef6\uff08\u5305\u542b\u6570\u636e\u548c\u884c\u4e3a\uff09\uff0c\u4e0d\u8fc7\u73b0\u5728\u4e00\u822c\u90fd\u5206\u79bb\u5f00\u6765\uff1aValue Object\uff08\u6570\u636e Dao\uff09 \u548c \u670d\u52a1\u5c42\uff08\u884c\u4e3a Service\uff09\u3002\u4e5f\u5c31\u662f\u6a21\u578b\u63d0\u4f9b\u4e86\u6a21\u578b\u6570\u636e\u67e5\u8be2\u548c\u6a21\u578b\u6570\u636e\u7684\u72b6\u6001\u66f4\u65b0\u7b49\u529f\u80fd\uff0c\u5305\u62ec\u6570\u636e\u548c\u4e1a\u52a1\u3002"}),"\n",(0,l.jsx)(e.p,{children:"**View\uff08\u89c6\u56fe\uff09\uff1a**\u8d1f\u8d23\u8fdb\u884c\u6a21\u578b\u7684\u5c55\u793a\uff0c\u4e00\u822c\u5c31\u662f\u6211\u4eec\u89c1\u5230\u7684\u7528\u6237\u754c\u9762\uff0c\u5ba2\u6237\u60f3\u770b\u5230\u7684\u4e1c\u897f\u3002"}),"\n",(0,l.jsx)(e.p,{children:"**Controller\uff08\u63a7\u5236\u5668\uff09\uff1a**\u63a5\u6536\u7528\u6237\u8bf7\u6c42\uff0c\u59d4\u6258\u7ed9\u6a21\u578b\u8fdb\u884c\u5904\u7406\uff08\u72b6\u6001\u6539\u53d8\uff09\uff0c\u5904\u7406\u5b8c\u6bd5\u540e\u628a\u8fd4\u56de\u7684\u6a21\u578b\u6570\u636e\u8fd4\u56de\u7ed9\u89c6\u56fe\uff0c\u7531\u89c6\u56fe\u8d1f\u8d23\u5c55\u793a\u3002\u4e5f\u5c31\u662f\u8bf4\u63a7\u5236\u5668\u505a\u4e86\u4e2a\u8c03\u5ea6\u5458\u7684\u5de5\u4f5c\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6700\u5178\u578b\u7684 MVC \u5c31\u662f JSP + servlet + javabean \u7684\u6a21\u5f0f\u3002"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/7e9a8623c56fa865ec4f19bc59c74261.png",alt:""})}),"\n",(0,l.jsx)(e.h3,{id:"12model1-\u65f6\u4ee3",children:"1.2\u3001Model1 \u65f6\u4ee3"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728 web \u65e9\u671f\u7684\u5f00\u53d1\u4e2d\uff0c\u901a\u5e38\u91c7\u7528\u7684\u90fd\u662f Model1\u3002"}),"\n",(0,l.jsx)(e.li,{children:"Model1 \u4e2d\uff0c\u4e3b\u8981\u5206\u4e3a\u4e24\u5c42\uff0c\u89c6\u56fe\u5c42\u548c\u6a21\u578b\u5c42\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/1344a24e6d33854d41fce7d87fffca00.png",alt:""})}),"\n",(0,l.jsx)(e.p,{children:"Model1 \u4f18\u70b9\uff1a\u67b6\u6784\u7b80\u5355\uff0c\u6bd4\u8f83\u9002\u5408\u5c0f\u578b\u9879\u76ee\u5f00\u53d1\uff1b"}),"\n",(0,l.jsx)(e.p,{children:"Model1 \u7f3a\u70b9\uff1aJSP \u804c\u8d23\u4e0d\u5355\u4e00\uff0c\u804c\u8d23\u8fc7\u91cd\uff0c\u4e0d\u4fbf\u4e8e\u7ef4\u62a4\uff1b"}),"\n",(0,l.jsx)(e.h3,{id:"13model2-\u65f6\u4ee3",children:"1.3\u3001Model2 \u65f6\u4ee3"}),"\n",(0,l.jsxs)(e.p,{children:["Model2 \u628a\u4e00\u4e2a\u9879\u76ee\u5206\u6210\u4e09\u90e8\u5206\uff0c\u5305\u62ec",(0,l.jsx)(e.strong,{children:"\u89c6\u56fe\u3001\u63a7\u5236\u3001\u6a21\u578b\u3002"})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/format,png.png",alt:""})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u7528\u6237\u53d1\u8bf7\u6c42"}),"\n",(0,l.jsx)(e.li,{children:"Servlet \u63a5\u6536\u8bf7\u6c42\u6570\u636e\uff0c\u5e76\u8c03\u7528\u5bf9\u5e94\u7684\u4e1a\u52a1\u903b\u8f91\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.li,{children:"\u4e1a\u52a1\u5904\u7406\u5b8c\u6bd5\uff0c\u8fd4\u56de\u66f4\u65b0\u540e\u7684\u6570\u636e\u7ed9 servlet"}),"\n",(0,l.jsx)(e.li,{children:"servlet \u8f6c\u5411\u5230 JSP\uff0c\u7531 JSP \u6765\u6e32\u67d3\u9875\u9762"}),"\n",(0,l.jsx)(e.li,{children:"\u54cd\u5e94\u7ed9\u524d\u7aef\u66f4\u65b0\u540e\u7684\u9875\u9762"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u804c\u8d23\u5206\u6790\uff1a"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Controller\uff1a\u63a7\u5236\u5668"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u53d6\u5f97\u8868\u5355\u6570\u636e"}),"\n",(0,l.jsx)(e.li,{children:"\u8c03\u7528\u4e1a\u52a1\u903b\u8f91"}),"\n",(0,l.jsx)(e.li,{children:"\u8f6c\u5411\u6307\u5b9a\u7684\u9875\u9762"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Model\uff1a\u6a21\u578b"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u4e1a\u52a1\u903b\u8f91"}),"\n",(0,l.jsx)(e.li,{children:"\u4fdd\u5b58\u6570\u636e\u7684\u72b6\u6001"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"View\uff1a\u89c6\u56fe"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u663e\u793a\u9875\u9762"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"Model2 \u8fd9\u6837\u4e0d\u4ec5\u63d0\u9ad8\u7684\u4ee3\u7801\u7684\u590d\u7528\u7387\u4e0e\u9879\u76ee\u7684\u6269\u5c55\u6027\uff0c\u4e14\u5927\u5927\u964d\u4f4e\u4e86\u9879\u76ee\u7684\u7ef4\u62a4\u6210\u672c\u3002Model 1 \u6a21\u5f0f\u7684\u5b9e\u73b0\u6bd4\u8f83\u7b80\u5355\uff0c\u9002\u7528\u4e8e\u5feb\u901f\u5f00\u53d1\u5c0f\u89c4\u6a21\u9879\u76ee\uff0cModel1 \u4e2d JSP \u9875\u9762\u8eab\u517c View \u548c Controller \u4e24\u79cd\u89d2\u8272\uff0c\u5c06\u63a7\u5236\u903b\u8f91\u548c\u8868\u73b0\u903b\u8f91\u6df7\u6742\u5728\u4e00\u8d77\uff0c\u4ece\u800c\u5bfc\u81f4\u4ee3\u7801\u7684\u91cd\u7528\u6027\u975e\u5e38\u4f4e\uff0c\u589e\u52a0\u4e86\u5e94\u7528\u7684\u6269\u5c55\u6027\u548c\u7ef4\u62a4\u7684\u96be\u5ea6\u3002Model2 \u6d88\u9664\u4e86 Model1 \u7684\u7f3a\u70b9\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"14\u56de\u987e-servlet",children:"1.4\u3001\u56de\u987e Servlet"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u65b0\u5efa\u4e00\u4e2a Maven \u5de5\u7a0b\u5f53\u505a\u7236\u5de5\u7a0b\uff01pom \u4f9d\u8d56\uff01"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"<dependencies>\r\n   <dependency>\r\n       <groupId>junit</groupId>\r\n       <artifactId>junit</artifactId>\r\n       <version>4.12</version>\r\n   </dependency>\r\n   <dependency>\r\n       <groupId>org.springframework</groupId>\r\n       <artifactId>spring-webmvc</artifactId>\r\n       <version>5.1.9.RELEASE</version>\r\n   </dependency>\r\n   <dependency>\r\n       <groupId>javax.servlet</groupId>\r\n       <artifactId>servlet-api</artifactId>\r\n       <version>2.5</version>\r\n   </dependency>\r\n   <dependency>\r\n       <groupId>javax.servlet.jsp</groupId>\r\n       <artifactId>jsp-api</artifactId>\r\n       <version>2.2</version>\r\n   </dependency>\r\n   <dependency>\r\n       <groupId>javax.servlet</groupId>\r\n       <artifactId>jstl</artifactId>\r\n       <version>1.2</version>\r\n   </dependency>\r\n</dependencies>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5efa\u7acb\u4e00\u4e2a Moudle\uff1aspringmvc-01-servlet \uff0c \u6dfb\u52a0 Web app \u7684\u652f\u6301\uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5bfc\u5165 servlet \u548c jsp \u7684 jar \u4f9d\u8d56"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"<dependency>\r\n   <groupId>javax.servlet</groupId>\r\n   <artifactId>servlet-api</artifactId>\r\n   <version>2.5</version>\r\n</dependency>\r\n<dependency>\r\n   <groupId>javax.servlet.jsp</groupId>\r\n   <artifactId>jsp-api</artifactId>\r\n   <version>2.2</version>\r\n</dependency>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a Servlet \u7c7b\uff0c\u7528\u6765\u5904\u7406\u7528\u6237\u7684\u8bf7\u6c42"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.T_Lyon.servlet;\r\n\r\n//\u5b9e\u73b0Servlet\u63a5\u53e3\r\npublic class HelloServlet extends HttpServlet {\r\n   @Override\r\n   protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n       //\u53d6\u5f97\u53c2\u6570\r\n       String method = req.getParameter("method");\r\n       if (method.equals("add")){\r\n           req.getSession().setAttribute("msg","\u6267\u884c\u4e86add\u65b9\u6cd5");\r\n      }\r\n       if (method.equals("delete")){\r\n           req.getSession().setAttribute("msg","\u6267\u884c\u4e86delete\u65b9\u6cd5");\r\n      }\r\n       //\u4e1a\u52a1\u903b\u8f91\r\n       //\u89c6\u56fe\u8df3\u8f6c\r\n       req.getRequestDispatcher("/WEB-INF/jsp/hello.jsp").forward(req,resp);\r\n  }\r\n\r\n   @Override\r\n   protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n       doGet(req,resp);\r\n  }\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199 Hello.jsp\uff0c\u5728 WEB-INF \u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a jsp \u7684\u6587\u4ef6\u5939\uff0c\u65b0\u5efa hello.jsp"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n  <head>\r\n    <title>Kuangshen</title>\r\n  </head>\r\n  <body>\r\n    ${msg}\r\n  </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 web.xml \u4e2d\u6ce8\u518c Servlet"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\r\n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n        xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\r\n        version="4.0">\r\n   <servlet>\r\n       <servlet-name>HelloServlet</servlet-name>\r\n       <servlet-class>com.kuang.servlet.HelloServlet</servlet-class>\r\n   </servlet>\r\n   <servlet-mapping>\r\n       <servlet-name>HelloServlet</servlet-name>\r\n       <url-pattern>/user</url-pattern>\r\n   </servlet-mapping>\r\n\r\n</web-app>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e Tomcat\uff0c\u5e76\u542f\u52a8\u6d4b\u8bd5"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"localhost:8080/user?method=add"}),"\n",(0,l.jsx)(e.li,{children:"localhost:8080/user?method=delete"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"MVC \u6846\u67b6\u8981\u505a\u54ea\u4e9b\u4e8b\u60c5"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5c06 url \u6620\u5c04\u5230 java \u7c7b\u6216 java \u7c7b\u7684\u65b9\u6cd5 ."}),"\n",(0,l.jsx)(e.li,{children:"\u5c01\u88c5\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e ."}),"\n",(0,l.jsx)(e.li,{children:"\u5904\u7406\u8bf7\u6c42--\u8c03\u7528\u76f8\u5173\u7684\u4e1a\u52a1\u5904\u7406--\u5c01\u88c5\u54cd\u5e94\u6570\u636e ."}),"\n",(0,l.jsx)(e.li,{children:"\u5c06\u54cd\u5e94\u7684\u6570\u636e\u8fdb\u884c\u6e32\u67d3 . jsp / html \u7b49\u8868\u793a\u5c42\u6570\u636e ."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e\uff1a"})}),"\n",(0,l.jsx)(e.p,{children:"\u200b \u5e38\u89c1\u7684\u670d\u52a1\u5668\u7aef MVC \u6846\u67b6\u6709\uff1aStruts\u3001Spring MVC\u3001ASP.NET MVC\u3001Zend Framework\u3001JSF\uff1b\u5e38\u89c1\u524d\u7aef MVC \u6846\u67b6\uff1avue\u3001angularjs\u3001react\u3001backbone\uff1b\u7531 MVC \u6f14\u5316\u51fa\u4e86\u53e6\u5916\u4e00\u4e9b\u6a21\u5f0f\u5982\uff1aMVP\u3001MVVM \u7b49\u7b49...."}),"\n",(0,l.jsx)(e.h2,{id:"2\u4ec0\u4e48\u662f-springmvc",children:"2\u3001\u4ec0\u4e48\u662f SpringMVC"}),"\n",(0,l.jsx)(e.h3,{id:"21\u6982\u8ff0",children:"2.1\u3001\u6982\u8ff0"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/6475e209b627bb22c1a0ae9686d65b9a.png",alt:"1594598769272"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.font,{color:"red",children:"Spring MVC \u662f Spring Framework \u7684\u4e00\u90e8\u5206\uff0c\u662f\u57fa\u4e8e Java \u5b9e\u73b0 MVC \u7684\u8f7b\u91cf\u7ea7 Web \u6846\u67b6\u3002"})}),"\n",(0,l.jsxs)(e.p,{children:["\u67e5\u770b\u5b98\u65b9\u6587\u6863\uff1a",(0,l.jsx)(e.a,{href:"https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web",children:"https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web"})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u5b66\u4e60 SpringMVC \u5462?"})}),"\n",(0,l.jsx)(e.p,{children:"Spring MVC \u7684\u7279\u70b9\uff1a"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u8f7b\u91cf\u7ea7\uff0c\u7b80\u5355\u6613\u5b66"}),"\n",(0,l.jsx)(e.li,{children:"\u9ad8\u6548 , \u57fa\u4e8e\u8bf7\u6c42\u54cd\u5e94\u7684 MVC \u6846\u67b6"}),"\n",(0,l.jsx)(e.li,{children:"\u4e0e Spring \u517c\u5bb9\u6027\u597d\uff0c\u65e0\u7f1d\u7ed3\u5408"}),"\n",(0,l.jsx)(e.li,{children:"\u7ea6\u5b9a\u4f18\u4e8e\u914d\u7f6e"}),"\n",(0,l.jsx)(e.li,{children:"\u529f\u80fd\u5f3a\u5927\uff1aRESTful\u3001\u6570\u636e\u9a8c\u8bc1\u3001\u683c\u5f0f\u5316\u3001\u672c\u5730\u5316\u3001\u4e3b\u9898\u7b49"}),"\n",(0,l.jsx)(e.li,{children:"\u7b80\u6d01\u7075\u6d3b"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["Spring \u7684 web \u6846\u67b6\u56f4\u7ed5",(0,l.jsx)(e.strong,{children:"DispatcherServlet"})," [ \u8c03\u5ea6 Servlet ] \u8bbe\u8ba1\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"DispatcherServlet \u7684\u4f5c\u7528\u662f\u5c06\u8bf7\u6c42\u5206\u53d1\u5230\u4e0d\u540c\u7684\u5904\u7406\u5668\u3002\u4ece Spring 2.5 \u5f00\u59cb\uff0c\u4f7f\u7528 Java 5 \u6216\u8005\u4ee5\u4e0a\u7248\u672c\u7684\u7528\u6237\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e\u6ce8\u89e3\u5f62\u5f0f\u8fdb\u884c\u5f00\u53d1\uff0c\u5341\u5206\u7b80\u6d01\uff1b"}),"\n",(0,l.jsx)(e.p,{children:"\u6b63\u56e0\u4e3a SpringMVC \u597d , \u7b80\u5355 , \u4fbf\u6377 , \u6613\u5b66 , \u5929\u751f\u548c Spring \u65e0\u7f1d\u96c6\u6210(\u4f7f\u7528 SpringIoC \u548c Aop) , \u4f7f\u7528\u7ea6\u5b9a\u4f18\u4e8e\u914d\u7f6e . \u80fd\u591f\u8fdb\u884c\u7b80\u5355\u7684 junit \u6d4b\u8bd5 . \u652f\u6301 Restful \u98ce\u683c .\u5f02\u5e38\u5904\u7406 , \u672c\u5730\u5316 , \u56fd\u9645\u5316 , \u6570\u636e\u9a8c\u8bc1 , \u7c7b\u578b\u8f6c\u6362 , \u62e6\u622a\u5668 \u7b49\u7b49......\u6240\u4ee5\u6211\u4eec\u8981\u5b66\u4e60 ."}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6700\u91cd\u8981\u7684\u4e00\u70b9\u8fd8\u662f\u7528\u7684\u4eba\u591a , \u4f7f\u7528\u7684\u516c\u53f8\u591a ."})}),"\n",(0,l.jsx)(e.h3,{id:"22\u4e2d\u5fc3\u63a7\u5236\u5668",children:"2.2\u3001\u4e2d\u5fc3\u63a7\u5236\u5668"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Spring \u7684 web \u6846\u67b6\u56f4\u7ed5 DispatcherServlet \u8bbe\u8ba1\u3002DispatcherServlet \u7684\u4f5c\u7528\u662f\u5c06\u8bf7\u6c42\u5206\u53d1\u5230\u4e0d\u540c\u7684\u5904\u7406\u5668\u3002\u4ece Spring 2.5 \u5f00\u59cb\uff0c\u4f7f\u7528 Java 5 \u6216\u8005\u4ee5\u4e0a\u7248\u672c\u7684\u7528\u6237\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e\u6ce8\u89e3\u7684 controller \u58f0\u660e\u65b9\u5f0f\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/a20e354e5901febb5177c22922d60434.png",alt:"1594600307868"})}),"\n",(0,l.jsxs)(e.p,{children:["Spring MVC \u6846\u67b6\u50cf\u8bb8\u591a\u5176\u4ed6 MVC \u6846\u67b6\u4e00\u6837, ",(0,l.jsx)(e.strong,{children:"\u4ee5\u8bf7\u6c42\u4e3a\u9a71\u52a8"})," , ",(0,l.jsx)(e.strong,{children:"\u56f4\u7ed5\u4e00\u4e2a\u4e2d\u5fc3 Servlet \u5206\u6d3e\u8bf7\u6c42\u53ca\u63d0\u4f9b\u5176\u4ed6\u529f\u80fd"}),"\uff0c",(0,l.jsx)(e.strong,{children:"DispatcherServlet \u662f\u4e00\u4e2a\u5b9e\u9645\u7684 Servlet (\u5b83\u7ee7\u627f\u81ea HttpServlet \u57fa\u7c7b)"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"SpringMVC \u7684\u539f\u7406\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,l.jsx)(e.p,{children:"\u5f53\u53d1\u8d77\u8bf7\u6c42\u65f6\u88ab\u524d\u7f6e\u7684\u63a7\u5236\u5668\u62e6\u622a\u5230\u8bf7\u6c42\uff0c\u6839\u636e\u8bf7\u6c42\u53c2\u6570\u751f\u6210\u4ee3\u7406\u8bf7\u6c42\uff0c\u627e\u5230\u8bf7\u6c42\u5bf9\u5e94\u7684\u5b9e\u9645\u63a7\u5236\u5668\uff0c\u63a7\u5236\u5668\u5904\u7406\u8bf7\u6c42\uff0c\u521b\u5efa\u6570\u636e\u6a21\u578b\uff0c\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u5c06\u6a21\u578b\u54cd\u5e94\u7ed9\u4e2d\u5fc3\u63a7\u5236\u5668\uff0c\u63a7\u5236\u5668\u4f7f\u7528\u6a21\u578b\u4e0e\u89c6\u56fe\u6e32\u67d3\u89c6\u56fe\u7ed3\u679c\uff0c\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u4e2d\u5fc3\u63a7\u5236\u5668\uff0c\u518d\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u8bf7\u6c42\u8005\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.font,{color:"red",children:"\u539f\u56fe"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/50b08b8937aed9f5c5d295e886de8200.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.font,{color:"red",children:"\u4e2d\u6587\u56fe"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/7b4de076eb3b8585a5523ef22c951aeb.png",alt:"1594603929224"})}),"\n",(0,l.jsx)(e.h3,{id:"23springmvc-\u6267\u884c\u539f\u7406",children:"2.3\u3001SpringMVC \u6267\u884c\u539f\u7406"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/e0c966394a3fb8c273424f7a3098bf7e.png",alt:"1594606134497"})}),"\n",(0,l.jsx)(e.p,{children:"\u56fe\u4e3a SpringMVC \u7684\u4e00\u4e2a\u8f83\u5b8c\u6574\u7684\u6d41\u7a0b\u56fe\uff0c\u5b9e\u7ebf\u8868\u793a SpringMVC \u6846\u67b6\u63d0\u4f9b\u7684\u6280\u672f\uff0c\u4e0d\u9700\u8981\u5f00\u53d1\u8005\u5b9e\u73b0\uff0c\u865a\u7ebf\u8868\u793a\u9700\u8981\u5f00\u53d1\u8005\u5b9e\u73b0\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7b80\u8981\u5206\u6790\u6267\u884c\u6d41\u7a0b"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"DispatcherServlet \u8868\u793a\u524d\u7f6e\u63a7\u5236\u5668\uff0c\u662f\u6574\u4e2a SpringMVC \u7684\u63a7\u5236\u4e2d\u5fc3\u3002\u7528\u6237\u53d1\u51fa\u8bf7\u6c42\uff0cDispatcherServlet \u63a5\u6536\u8bf7\u6c42\u5e76\u62e6\u622a\u8bf7\u6c42\u3002"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u6211\u4eec\u5047\u8bbe\u8bf7\u6c42\u7684 url \u4e3a : ",(0,l.jsx)(e.a,{href:"http://localhost:8080/SpringMVC/hello",children:"http://localhost:8080/SpringMVC/hello"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5982\u4e0a url \u62c6\u5206\u6210\u4e09\u90e8\u5206\uff1a"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.a,{href:"http://localhost:8080",children:"http://localhost:8080"})," ------\x3e \u670d\u52a1\u5668\u57df\u540d"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"SpringMVC ------\x3e \u90e8\u7f72\u5728\u670d\u52a1\u5668\u4e0a\u7684 web \u7ad9\u70b9"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"hello ------\x3e \u8868\u793a\u63a7\u5236\u5668"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u901a\u8fc7\u5206\u6790\uff0c\u5982\u4e0a url \u8868\u793a\u4e3a\uff1a\u8bf7\u6c42\u4f4d\u4e8e\u670d\u52a1\u5668 localhost:8080 \u4e0a\u7684 SpringMVC \u7ad9\u70b9\u7684 hello \u63a7\u5236\u5668\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"HandlerMapping \u4e3a\u5904\u7406\u5668\u6620\u5c04\u3002DispatcherServlet \u8c03\u7528 HandlerMapping,HandlerMapping \u6839\u636e\u8bf7\u6c42 url \u67e5\u627e Handler\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"HandlerExecution \u8868\u793a\u5177\u4f53\u7684 Handler,\u5176\u4e3b\u8981\u4f5c\u7528\u662f\u6839\u636e url \u67e5\u627e\u63a7\u5236\u5668\uff0c\u5982\u4e0a url \u88ab\u67e5\u627e\u63a7\u5236\u5668\u4e3a\uff1ahello\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"HandlerExecution \u5c06\u89e3\u6790\u540e\u7684\u4fe1\u606f\u4f20\u9012\u7ed9 DispatcherServlet,\u5982\u89e3\u6790\u63a7\u5236\u5668\u6620\u5c04\u7b49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"HandlerAdapter \u8868\u793a\u5904\u7406\u5668\u9002\u914d\u5668\uff0c\u5176\u6309\u7167\u7279\u5b9a\u7684\u89c4\u5219\u53bb\u6267\u884c Handler\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Handler \u8ba9\u5177\u4f53\u7684 Controller \u6267\u884c\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Controller \u5c06\u5177\u4f53\u7684\u6267\u884c\u4fe1\u606f\u8fd4\u56de\u7ed9 HandlerAdapter,\u5982 ModelAndView\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"HandlerAdapter \u5c06\u89c6\u56fe\u903b\u8f91\u540d\u6216\u6a21\u578b\u4f20\u9012\u7ed9 DispatcherServlet\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"DispatcherServlet \u8c03\u7528\u89c6\u56fe\u89e3\u6790\u5668(ViewResolver)\u6765\u89e3\u6790 HandlerAdapter \u4f20\u9012\u7684\u903b\u8f91\u89c6\u56fe\u540d\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u89c6\u56fe\u89e3\u6790\u5668\u5c06\u89e3\u6790\u7684\u903b\u8f91\u89c6\u56fe\u540d\u4f20\u7ed9 DispatcherServlet\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"DispatcherServlet \u6839\u636e\u89c6\u56fe\u89e3\u6790\u5668\u89e3\u6790\u7684\u89c6\u56fe\u7ed3\u679c\uff0c\u8c03\u7528\u5177\u4f53\u7684\u89c6\u56fe\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6700\u7ec8\u89c6\u56fe\u5448\u73b0\u7ed9\u7528\u6237\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"3\u7b2c\u4e00\u4e2a-mvc-\u7a0b\u5e8f",children:"3\u3001\u7b2c\u4e00\u4e2a MVC \u7a0b\u5e8f"}),"\n",(0,l.jsx)(e.h3,{id:"31\u914d\u7f6e\u7248",children:"3.1\u3001\u914d\u7f6e\u7248"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u65b0\u5efa\u4e00\u4e2a Moudle \uff0c springmvc-02-hello \uff0c \u6dfb\u52a0 web \u7684\u652f\u6301\uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u786e\u5b9a\u5bfc\u5165\u4e86 SpringMVC \u7684\u4f9d\u8d56\uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e web.xml \uff0c \u6ce8\u518c DispatcherServlet"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\r\n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n        xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\r\n        version="4.0">\r\n\r\n   \x3c!--1.\u6ce8\u518cDispatcherServlet--\x3e\r\n   <servlet>\r\n       <servlet-name>springmvc</servlet-name>\r\n       <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\r\n       \x3c!--\u5173\u8054\u4e00\u4e2aspringmvc\u7684\u914d\u7f6e\u6587\u4ef6:\u3010servlet-name\u3011-servlet.xml--\x3e\r\n       <init-param>\r\n           <param-name>contextConfigLocation</param-name>\r\n           <param-value>classpath:springmvc-servlet.xml</param-value>\r\n       </init-param>\r\n       \x3c!--\u542f\u52a8\u7ea7\u522b-1--\x3e\r\n       <load-on-startup>1</load-on-startup>\r\n   </servlet>\r\n\r\n   \x3c!--/ \u5339\u914d\u6240\u6709\u7684\u8bf7\u6c42\uff1b\uff08\u4e0d\u5305\u62ec.jsp\uff09--\x3e\r\n   \x3c!--/* \u5339\u914d\u6240\u6709\u7684\u8bf7\u6c42\uff1b\uff08\u5305\u62ec.jsp\uff09--\x3e\r\n   <servlet-mapping>\r\n       <servlet-name>springmvc</servlet-name>\r\n       <url-pattern>/</url-pattern>\r\n   </servlet-mapping>\r\n\r\n</web-app>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199 SpringMVC \u7684 \u914d\u7f6e\u6587\u4ef6\uff01\u540d\u79f0\uff1aspringmvc-servlet.xml : [servletname]-servlet.xml"}),"\n",(0,l.jsx)(e.p,{children:"\u8bf4\u660e\uff0c\u8fd9\u91cc\u7684\u540d\u79f0\u8981\u6c42\u662f\u6309\u7167\u5b98\u65b9\u6765\u7684"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<beans xmlns="http://www.springframework.org/schema/beans"\r\n      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n      xsi:schemaLocation="http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd">\r\n\r\n</beans>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6dfb\u52a0 \u5904\u7406\u6620\u5c04\u5668\uff08\u53ef\u7701\u7565\uff09"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6dfb\u52a0 \u5904\u7406\u5668\u9002\u914d\u5668\uff08\u53ef\u7701\u7565\uff09"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<bean class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"/>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6dfb\u52a0 \u89c6\u56fe\u89e3\u6790\u5668"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!--\u89c6\u56fe\u89e3\u6790\u5668:DispatcherServlet\u7ed9\u4ed6\u7684ModelAndView--\x3e\r\n<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" id="InternalResourceViewResolver">\r\n   \x3c!--\u524d\u7f00--\x3e\r\n   <property name="prefix" value="/WEB-INF/jsp/"/>\r\n   \x3c!--\u540e\u7f00--\x3e\r\n   <property name="suffix" value=".jsp"/>\r\n</bean>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u6211\u4eec\u8981\u64cd\u4f5c\u4e1a\u52a1 Controller \uff0c\u8981\u4e48\u5b9e\u73b0 Controller \u63a5\u53e3\uff0c\u8981\u4e48\u589e\u52a0\u6ce8\u89e3\uff1b\u9700\u8981\u8fd4\u56de\u4e00\u4e2a ModelAndView\uff0c\u88c5\u6570\u636e\uff0c\u5c01\u89c6\u56fe\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.T_Lyon.controller;\r\n\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport org.springframework.web.servlet.mvc.Controller;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n//\u6ce8\u610f\uff1a\u8fd9\u91cc\u6211\u4eec\u5148\u5bfc\u5165Controller\u63a5\u53e3\r\npublic class HelloController implements Controller {\r\n\r\n   public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n       //ModelAndView \u6a21\u578b\u548c\u89c6\u56fe\r\n       ModelAndView mv = new ModelAndView();\r\n\r\n       //\u5c01\u88c5\u5bf9\u8c61\uff0c\u653e\u5728ModelAndView\u4e2d\u3002Model\r\n       mv.addObject("msg","HelloSpringMVC!");\r\n       //\u5c01\u88c5\u8981\u8df3\u8f6c\u7684\u89c6\u56fe\uff0c\u653e\u5728ModelAndView\u4e2d\r\n       mv.setViewName("hello"); //: /WEB-INF/jsp/hello.jsp\r\n       return mv;\r\n  }\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5c06\u81ea\u5df1\u7684\u7c7b\u4ea4\u7ed9 SpringIOC \u5bb9\u5668\uff0c\u6ce8\u518c bean"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!--Handler--\x3e\r\n<bean id="/hello" class="com.T_Lyon.controller.HelloController"/>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5199\u8981\u8df3\u8f6c\u7684 jsp \u9875\u9762\uff0c\u663e\u793a ModelandView \u5b58\u653e\u7684\u6570\u636e\uff0c\u4ee5\u53ca\u6211\u4eec\u7684\u6b63\u5e38\u9875\u9762\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n  <head>\r\n    <title>Kuangshen</title>\r\n  </head>\r\n  <body>\r\n    ${msg}\r\n  </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e Tomcat \u542f\u52a8\u6d4b\u8bd5\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/fa0a74eb29e34fbaf1ff61d9e95227b7.png",alt:"1595124994780"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\uff1a\u8bbf\u95ee\u51fa\u73b0 404\uff0c\u6392\u67e5\u6b65\u9aa4\uff1a"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u67e5\u770b\u63a7\u5236\u53f0\u8f93\u51fa\uff0c\u770b\u4e00\u4e0b\u662f\u4e0d\u662f\u7f3a\u5c11\u4e86\u4ec0\u4e48 jar \u5305\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679c jar \u5305\u5b58\u5728\uff0c\u663e\u793a\u65e0\u6cd5\u8f93\u51fa\uff0c\u5c31\u5728 IDEA \u7684\u9879\u76ee\u53d1\u5e03\u4e2d\uff0c\u6dfb\u52a0 lib \u4f9d\u8d56\uff01"}),"\n",(0,l.jsx)(e.li,{children:"\u91cd\u542f Tomcat \u5373\u53ef\u89e3\u51b3\uff01"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5c0f\u7ed3\uff1a\u6211\u4eec\u6765\u770b\u4e2a\u6ce8\u89e3\u7248\u5b9e\u73b0\uff0c\u8fd9\u624d\u662f SpringMVC \u7684\u7cbe\u9ad3\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"32\u6ce8\u89e3\u7248",children:"3.2\u3001\u6ce8\u89e3\u7248"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u65b0\u5efa\u4e00\u4e2a Moudle\uff0cspringmvc-03-hello-annotation \u3002\u6dfb\u52a0 web \u652f\u6301\uff01"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7531\u4e8e Maven \u53ef\u80fd\u5b58\u5728\u8d44\u6e90\u8fc7\u6ee4\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5c06\u914d\u7f6e\u5b8c\u5584"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"<build>\r\n   <resources>\r\n       <resource>\r\n           <directory>src/main/java</directory>\r\n           <includes>\r\n               <include>**/*.properties</include>\r\n               <include>**/*.xml</include>\r\n           </includes>\r\n           <filtering>false</filtering>\r\n       </resource>\r\n       <resource>\r\n           <directory>src/main/resources</directory>\r\n           <includes>\r\n               <include>**/*.properties</include>\r\n               <include>**/*.xml</include>\r\n           </includes>\r\n           <filtering>false</filtering>\r\n       </resource>\r\n   </resources>\r\n</build>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 pom.xml \u6587\u4ef6\u5f15\u5165\u76f8\u5173\u7684\u4f9d\u8d56\uff1a\u4e3b\u8981\u6709 Spring \u6846\u67b6\u6838\u5fc3\u5e93\u3001Spring MVC\u3001servlet , JSTL \u7b49\u3002\u6211\u4eec\u5728\u7236\u4f9d\u8d56\u4e2d\u5df2\u7ecf\u5f15\u5165\u4e86\uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u914d\u7f6e web.xml"})}),"\n",(0,l.jsx)(e.p,{children:"\u6ce8\u610f\u70b9\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\r\n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n        xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\r\n        version="4.0">\r\n\r\n   \x3c!--1.\u6ce8\u518cservlet--\x3e\r\n   <servlet>\r\n       <servlet-name>SpringMVC</servlet-name>\r\n       <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\r\n       \x3c!--\u901a\u8fc7\u521d\u59cb\u5316\u53c2\u6570\u6307\u5b9aSpringMVC\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u8fdb\u884c\u5173\u8054--\x3e\r\n       <init-param>\r\n           <param-name>contextConfigLocation</param-name>\r\n           <param-value>classpath:springmvc-servlet.xml</param-value>\r\n       </init-param>\r\n       \x3c!-- \u542f\u52a8\u987a\u5e8f\uff0c\u6570\u5b57\u8d8a\u5c0f\uff0c\u542f\u52a8\u8d8a\u65e9 --\x3e\r\n       <load-on-startup>1</load-on-startup>\r\n   </servlet>\r\n\r\n   \x3c!--\u6240\u6709\u8bf7\u6c42\u90fd\u4f1a\u88abspringmvc\u62e6\u622a --\x3e\r\n   <servlet-mapping>\r\n       <servlet-name>SpringMVC</servlet-name>\r\n       <url-pattern>/</url-pattern>\r\n   </servlet-mapping>\r\n\r\n</web-app>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"/ \u548c /* \u7684\u533a\u522b\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"< url-pattern > / </ url-pattern > \u4e0d\u4f1a\u5339\u914d\u5230.jsp\uff0c \u53ea\u9488\u5bf9\u6211\u4eec\u7f16\u5199\u7684\u8bf7\u6c42\uff1b\u5373\uff1a.jsp \u4e0d\u4f1a\u8fdb\u5165 spring \u7684 DispatcherServlet \u7c7b \u3002"}),"\n",(0,l.jsx)(e.li,{children:"< url-pattern > /_ </ url-pattern > \u4f1a\u5339\u914d _.jsp\uff0c\u4f1a\u51fa\u73b0\u8fd4\u56de jsp \u89c6\u56fe \u65f6\u518d\u6b21\u8fdb\u5165 spring \u7684 DispatcherServlet \u7c7b\uff0c\u5bfc\u81f4\u627e\u4e0d\u5230\u5bf9\u5e94\u7684 controller \u6240\u4ee5\u62a5 404 \u9519\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6dfb\u52a0 Spring MVC \u914d\u7f6e\u6587\u4ef6"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728 resource \u76ee\u5f55\u4e0b\u6dfb\u52a0 springmvc-servlet.xml \u914d\u7f6e\u6587\u4ef6\uff0c\u914d\u7f6e\u7684\u5f62\u5f0f\u4e0e Spring \u5bb9\u5668\u914d\u7f6e\u57fa\u672c\u7c7b\u4f3c\uff0c\u4e3a\u4e86\u652f\u6301\u57fa\u4e8e\u6ce8\u89e3\u7684 IOC\uff0c\u8bbe\u7f6e\u4e86\u81ea\u52a8\u626b\u63cf\u5305\u7684\u529f\u80fd\uff0c\u5177\u4f53\u914d\u7f6e\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<beans xmlns="http://www.springframework.org/schema/beans"\r\n      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n      xmlns:context="http://www.springframework.org/schema/context"\r\n      xmlns:mvc="http://www.springframework.org/schema/mvc"\r\n      xsi:schemaLocation="http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       https://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc\r\n       https://www.springframework.org/schema/mvc/spring-mvc.xsd">\r\n\r\n   \x3c!-- \u81ea\u52a8\u626b\u63cf\u5305\uff0c\u8ba9\u6307\u5b9a\u5305\u4e0b\u7684\u6ce8\u89e3\u751f\u6548,\u7531IOC\u5bb9\u5668\u7edf\u4e00\u7ba1\u7406 --\x3e\r\n   <context:component-scan base-package="com.T_Lyon.controller"/>\r\n   \x3c!-- \u8ba9Spring MVC\u4e0d\u5904\u7406\u9759\u6001\u8d44\u6e90 --\x3e\r\n   <mvc:default-servlet-handler />\r\n   \x3c!--\r\n   \u652f\u6301mvc\u6ce8\u89e3\u9a71\u52a8\r\n       \u5728spring\u4e2d\u4e00\u822c\u91c7\u7528@RequestMapping\u6ce8\u89e3\u6765\u5b8c\u6210\u6620\u5c04\u5173\u7cfb\r\n       \u8981\u60f3\u4f7f@RequestMapping\u6ce8\u89e3\u751f\u6548\r\n       \u5fc5\u987b\u5411\u4e0a\u4e0b\u6587\u4e2d\u6ce8\u518cDefaultAnnotationHandlerMapping\r\n       \u548c\u4e00\u4e2aAnnotationMethodHandlerAdapter\u5b9e\u4f8b\r\n       \u8fd9\u4e24\u4e2a\u5b9e\u4f8b\u5206\u522b\u5728\u7c7b\u7ea7\u522b\u548c\u65b9\u6cd5\u7ea7\u522b\u5904\u7406\u3002\r\n       \u800cannotation-driven\u914d\u7f6e\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u5b8c\u6210\u4e0a\u8ff0\u4e24\u4e2a\u5b9e\u4f8b\u7684\u6ce8\u5165\u3002\r\n    --\x3e\r\n   <mvc:annotation-driven />\r\n\r\n   \x3c!-- \u89c6\u56fe\u89e3\u6790\u5668 --\x3e\r\n   <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"\r\n         id="internalResourceViewResolver">\r\n       \x3c!-- \u524d\u7f00 --\x3e\r\n       <property name="prefix" value="/WEB-INF/jsp/" />\r\n       \x3c!-- \u540e\u7f00 --\x3e\r\n       <property name="suffix" value=".jsp" />\r\n   </bean>\r\n\r\n</beans>\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u89c6\u56fe\u89e3\u6790\u5668\u4e2d\u6211\u4eec\u628a\u6240\u6709\u7684\u89c6\u56fe\u90fd\u5b58\u653e\u5728/WEB-INF/\u76ee\u5f55\u4e0b\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u89c6\u56fe\u5b89\u5168\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff0c\u5ba2\u6237\u7aef\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u3002"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8ba9 IOC \u7684\u6ce8\u89e3\u751f\u6548"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u9759\u6001\u8d44\u6e90\u8fc7\u6ee4 \uff1aHTML . JS . CSS . \u56fe\u7247 \uff0c \u89c6\u9891 ....."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MVC \u7684\u6ce8\u89e3\u9a71\u52a8"}),"\n",(0,l.jsx)(e.li,{children:"\u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"7",children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u521b\u5efa Controller"})}),"\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a Java \u63a7\u5236\u7c7b\uff1acom.T_Lyon.controller.HelloController , \u6ce8\u610f\u7f16\u7801\u89c4\u8303"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.T_Lyon.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping("/HelloController")\r\npublic class HelloController {\r\n\r\n   //\u771f\u5b9e\u8bbf\u95ee\u5730\u5740 : \u9879\u76ee\u540d/HelloController/hello\r\n   @RequestMapping("/hello")\r\n   public String sayHello(Model model){\r\n       //\u5411\u6a21\u578b\u4e2d\u6dfb\u52a0\u5c5e\u6027msg\u4e0e\u503c\uff0c\u53ef\u4ee5\u5728JSP\u9875\u9762\u4e2d\u53d6\u51fa\u5e76\u6e32\u67d3\r\n       model.addAttribute("msg","hello,SpringMVC");\r\n       //web-inf/jsp/hello.jsp\r\n       return "hello";\r\n  }\r\n}\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"@Controller \u662f\u4e3a\u4e86\u8ba9 Spring IOC \u5bb9\u5668\u521d\u59cb\u5316\u65f6\u81ea\u52a8\u626b\u63cf\u5230\uff1b"}),"\n",(0,l.jsx)(e.li,{children:"@RequestMapping \u662f\u4e3a\u4e86\u6620\u5c04\u8bf7\u6c42\u8def\u5f84\uff0c\u8fd9\u91cc\u56e0\u4e3a\u7c7b\u4e0e\u65b9\u6cd5\u4e0a\u90fd\u6709\u6620\u5c04\u6240\u4ee5\u8bbf\u95ee\u65f6\u5e94\u8be5\u662f/HelloController/hello\uff1b"}),"\n",(0,l.jsx)(e.li,{children:"\u65b9\u6cd5\u4e2d\u58f0\u660e Model \u7c7b\u578b\u7684\u53c2\u6570\u662f\u4e3a\u4e86\u628a Action \u4e2d\u7684\u6570\u636e\u5e26\u5230\u89c6\u56fe\u4e2d\uff1b"}),"\n",(0,l.jsxs)(e.li,{children:["\u65b9\u6cd5\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u89c6\u56fe\u7684\u540d\u79f0 hello\uff0c\u52a0\u4e0a\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u524d\u540e\u7f00\u53d8\u6210 WEB-INF/jsp/",(0,l.jsx)(e.strong,{children:"hello"}),".jsp"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u521b\u5efa\u89c6\u56fe\u5c42"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728 WEB-INF/ jsp \u76ee\u5f55\u4e2d\u521b\u5efa hello.jsp \uff0c \u89c6\u56fe\u53ef\u4ee5\u76f4\u63a5\u53d6\u51fa\u5e76\u5c55\u793a\u4ece Controller \u5e26\u56de\u7684\u4fe1\u606f\uff1b"}),"\n",(0,l.jsx)(e.p,{children:"\u53ef\u4ee5\u901a\u8fc7 EL \u8868\u793a\u53d6\u51fa Model \u4e2d\u5b58\u653e\u7684\u503c\uff0c\u6216\u8005\u5bf9\u8c61\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n  <head>\r\n    <title>SpringMVC</title>\r\n  </head>\r\n  <body>\r\n    ${msg}\r\n  </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u914d\u7f6e Tomcat \u8fd0\u884c"})}),"\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e Tomcat \uff0c \u5f00\u542f\u670d\u52a1\u5668 \uff0c \u8bbf\u95ee \u5bf9\u5e94\u7684\u8bf7\u6c42\u8def\u5f84\uff01"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/54b9fee9508cad4abf753f941e9cdb5f.png",alt:"1594622304382"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"OK\uff0c\u8fd0\u884c\u6210\u529f\uff01"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5c0f\u7ed3",children:"\u5c0f\u7ed3"}),"\n",(0,l.jsx)(e.p,{children:"\u5b9e\u73b0\u6b65\u9aa4\u5176\u5b9e\u975e\u5e38\u7684\u7b80\u5355\uff1a"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u65b0\u5efa\u4e00\u4e2a web \u9879\u76ee"}),"\n",(0,l.jsx)(e.li,{children:"\u5bfc\u5165\u76f8\u5173 jar \u5305"}),"\n",(0,l.jsx)(e.li,{children:"\u7f16\u5199 web.xml , \u6ce8\u518c DispatcherServlet"}),"\n",(0,l.jsx)(e.li,{children:"\u7f16\u5199 springmvc \u914d\u7f6e\u6587\u4ef6"}),"\n",(0,l.jsx)(e.li,{children:"\u63a5\u4e0b\u6765\u5c31\u662f\u53bb\u521b\u5efa\u5bf9\u5e94\u7684\u63a7\u5236\u7c7b , controller"}),"\n",(0,l.jsx)(e.li,{children:"\u6700\u540e\u5b8c\u5584\u524d\u7aef\u89c6\u56fe\u548c controller \u4e4b\u95f4\u7684\u5bf9\u5e94"}),"\n",(0,l.jsx)(e.li,{children:"\u6d4b\u8bd5\u8fd0\u884c\u8c03\u8bd5."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.font,{color:"red",children:"\u4f7f\u7528 springMVC \u5fc5\u987b\u914d\u7f6e\u7684\u4e09\u5927\u4ef6"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.font,{color:"red",children:"\u5904\u7406\u5668\u6620\u5c04\u5668\u3001\u5904\u7406\u5668\u9002\u914d\u5668\u3001\u89c6\u56fe\u89e3\u6790\u5668"})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.font,{color:"red",children:["\u901a\u5e38\uff0c\u6211\u4eec\u53ea\u9700\u8981",(0,l.jsx)(e.strong,{children:"\u624b\u52a8\u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668"}),"\uff0c\u800c",(0,l.jsx)(e.strong,{children:"\u5904\u7406\u5668\u6620\u5c04\u5668"}),"\u548c",(0,l.jsx)(e.strong,{children:"\u5904\u7406\u5668\u9002\u914d\u5668"}),"\u53ea\u9700\u8981\u5f00\u542f",(0,l.jsx)(e.strong,{children:"\u6ce8\u89e3\u9a71\u52a8"}),"\u5373\u53ef\uff0c\u800c\u7701\u53bb\u4e86\u5927\u6bb5\u7684 xml \u914d\u7f6e"]})}),"\n",(0,l.jsx)(e.h2,{id:"4restful-\u548c\u63a7\u5236\u5668",children:"4\u3001RestFul \u548c\u63a7\u5236\u5668"}),"\n",(0,l.jsx)(e.h3,{id:"41\u63a7\u5236\u5668-controller",children:"4.1\u3001\u63a7\u5236\u5668 Controller"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u63a7\u5236\u5668\u590d\u6742\u63d0\u4f9b\u8bbf\u95ee\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\uff0c\u901a\u5e38\u901a\u8fc7\u63a5\u53e3\u5b9a\u4e49\u6216\u6ce8\u89e3\u5b9a\u4e49\u4e24\u79cd\u65b9\u6cd5\u5b9e\u73b0\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u63a7\u5236\u5668\u8d1f\u8d23\u89e3\u6790\u7528\u6237\u7684\u8bf7\u6c42\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6a21\u578b\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 Spring MVC \u4e2d\u4e00\u4e2a\u63a7\u5236\u5668\u7c7b\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u65b9\u6cd5"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 Spring MVC \u4e2d\uff0c\u5bf9\u4e8e Controller \u7684\u914d\u7f6e\u65b9\u5f0f\u6709\u5f88\u591a\u79cd"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"42\u5b9e\u73b0-controller-\u63a5\u53e3",children:"4.2\u3001\u5b9e\u73b0 Controller \u63a5\u53e3"}),"\n",(0,l.jsx)(e.p,{children:"Controller \u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u5728 org.springframework.web.servlet.mvc \u5305\u4e0b\uff0c\u63a5\u53e3\u4e2d\u53ea\u6709\u4e00\u4e2a\u65b9\u6cd5\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"//\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u7c7b\u83b7\u5f97\u63a7\u5236\u5668\u529f\u80fd\r\npublic interface Controller {\r\n   //\u5904\u7406\u8bf7\u6c42\u4e14\u8fd4\u56de\u4e00\u4e2a\u6a21\u578b\u4e0e\u89c6\u56fe\u5bf9\u8c61\r\n   ModelAndView handleRequest(HttpServletRequest var1, HttpServletResponse var2) throws Exception;\r\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6d4b\u8bd5"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u65b0\u5efa\u4e00\u4e2a Moudle\uff0cspringmvc-04-controller\uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"mvc \u7684\u914d\u7f6e\u6587\u4ef6\u53ea\u7559\u4e0b \u89c6\u56fe\u89e3\u6790\u5668\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a Controller \u7c7b\uff0cControllerTest1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'//\u5b9a\u4e49\u63a7\u5236\u5668\r\n//\u6ce8\u610f\u70b9\uff1a\u4e0d\u8981\u5bfc\u9519\u5305\uff0c\u5b9e\u73b0Controller\u63a5\u53e3\uff0c\u91cd\u5199\u65b9\u6cd5\uff1b\r\npublic class ControllerTest1 implements Controller {\r\n\r\n   public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception {\r\n       //\u8fd4\u56de\u4e00\u4e2a\u6a21\u578b\u89c6\u56fe\u5bf9\u8c61\r\n       ModelAndView mv = new ModelAndView();\r\n       mv.addObject("msg","Test1Controller");\r\n       mv.setViewName("test");\r\n       return mv;\r\n  }\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u5b8c\u6bd5\u540e\uff0c\u53bb Spring \u914d\u7f6e\u6587\u4ef6\u4e2d\u6ce8\u518c\u8bf7\u6c42\u7684 bean\uff1bname \u5bf9\u5e94\u8bf7\u6c42\u8def\u5f84\uff0cclass \u5bf9\u5e94\u5904\u7406\u8bf7\u6c42\u7684\u7c7b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<bean name="/t1" class="com.T_Lyon.controller.ControllerTest1"/>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u524d\u7aef test.jsp\uff0c\u6ce8\u610f\u5728 WEB-INF/jsp \u76ee\u5f55\u4e0b\u7f16\u5199\uff0c\u5bf9\u5e94\u6211\u4eec\u7684\u89c6\u56fe\u89e3\u6790\u5668"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n  <head>\r\n    <title>Kuangshen</title>\r\n  </head>\r\n  <body>\r\n    ${msg}\r\n  </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e Tomcat \u8fd0\u884c\u6d4b\u8bd5\uff0c\u6211\u8fd9\u91cc\u6ca1\u6709\u9879\u76ee\u53d1\u5e03\u540d\u914d\u7f6e\u7684\u5c31\u662f\u4e00\u4e2a / \uff0c\u6240\u4ee5\u8bf7\u6c42\u4e0d\u7528\u52a0\u9879\u76ee\u540d\uff0cOK\uff01"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/be2c3856e2d15fa0e71a6c51c542dda6.png",alt:"1595128496794"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5b9e\u73b0\u63a5\u53e3 Controller \u5b9a\u4e49\u63a7\u5236\u5668\u662f\u8f83\u8001\u7684\u529e\u6cd5"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f3a\u70b9\u662f\uff1a\u4e00\u4e2a\u63a7\u5236\u5668\u4e2d\u53ea\u6709\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5982\u679c\u8981\u591a\u4e2a\u65b9\u6cd5\u5219\u9700\u8981\u5b9a\u4e49\u591a\u4e2a Controller\uff1b\u5b9a\u4e49\u7684\u65b9\u5f0f\u6bd4\u8f83\u9ebb\u70e6\uff1b"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u4f7f\u7528\u6ce8\u89e3controller",children:"\u4f7f\u7528\u6ce8\u89e3@Controller"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"@Controller \u6ce8\u89e3\u7c7b\u578b\u7528\u4e8e\u58f0\u660e Spring \u7c7b\u7684\u5b9e\u4f8b\u662f\u4e00\u4e2a\u63a7\u5236\u5668\uff08\u5728\u8bb2 IOC \u65f6\u8fd8\u63d0\u5230\u4e86\u53e6\u5916 3 \u4e2a\u6ce8\u89e3\uff09\uff1b"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Spring \u53ef\u4ee5\u4f7f\u7528\u626b\u63cf\u673a\u5236\u6765\u627e\u5230\u5e94\u7528\u7a0b\u5e8f\u4e2d\u6240\u6709\u57fa\u4e8e\u6ce8\u89e3\u7684\u63a7\u5236\u5668\u7c7b\uff0c\u4e3a\u4e86\u4fdd\u8bc1 Spring \u80fd\u627e\u5230\u4f60\u7684\u63a7\u5236\u5668\uff0c\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u58f0\u660e\u7ec4\u4ef6\u626b\u63cf\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u81ea\u52a8\u626b\u63cf\u6307\u5b9a\u7684\u5305\uff0c\u4e0b\u9762\u6240\u6709\u6ce8\u89e3\u7c7b\u4ea4\u7ed9IOC\u5bb9\u5668\u7ba1\u7406 --\x3e\r\n<context:component-scan base-package="com.T_Lyon.controller"/>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u589e\u52a0\u4e00\u4e2a ControllerTest2 \u7c7b\uff0c\u4f7f\u7528\u6ce8\u89e3\u5b9e\u73b0\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'//@Controller\u6ce8\u89e3\u7684\u7c7b\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5230Spring\u4e0a\u4e0b\u6587\u4e2d\r\n@Controller\r\npublic class ControllerTest2{\r\n\r\n   //\u6620\u5c04\u8bbf\u95ee\u8def\u5f84\r\n   @RequestMapping("/t2")\r\n   public String index(Model model){\r\n       //Spring MVC\u4f1a\u81ea\u52a8\u5b9e\u4f8b\u5316\u4e00\u4e2aModel\u5bf9\u8c61\u7528\u4e8e\u5411\u89c6\u56fe\u4e2d\u4f20\u503c\r\n       model.addAttribute("msg", "ControllerTest2");\r\n       //\u8fd4\u56de\u89c6\u56fe\u4f4d\u7f6e\r\n       return "test";\r\n  }\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8fd0\u884c tomcat \u6d4b\u8bd5"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/bfb08b240fbed33ecf13dd7af85b0267.png",alt:"1595128649687"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u7684\u4e24\u4e2a\u8bf7\u6c42\u90fd\u53ef\u4ee5\u6307\u5411\u4e00\u4e2a\u89c6\u56fe(test)\uff0c\u4f46\u662f\u9875\u9762\u7ed3\u679c\u7684\u7ed3\u679c\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u4ece\u8fd9\u91cc\u53ef\u4ee5\u770b\u51fa\u89c6\u56fe\u662f\u88ab\u590d\u7528\u7684\uff0c\u800c\u63a7\u5236\u5668\u4e0e\u89c6\u56fe\u4e4b\u95f4\u662f\u5f31\u5076\u5408\u5173\u7cfb\u3002"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6ce8\u89e3\u65b9\u5f0f\u662f\u5e73\u65f6\u4f7f\u7528\u7684\u6700\u591a\u7684\u65b9\u5f0f\uff01"})}),"\n",(0,l.jsx)(e.h3,{id:"requestmapping",children:"RequestMapping"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"@RequestMapping"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"@RequestMapping \u6ce8\u89e3\u7528\u4e8e\u6620\u5c04 url \u5230\u63a7\u5236\u5668\u7c7b\u6216\u4e00\u4e2a\u7279\u5b9a\u7684\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u3002\u53ef\u7528\u4e8e\u7c7b\u6216\u65b9\u6cd5\u4e0a\u3002\u7528\u4e8e\u7c7b\u4e0a\uff0c\u8868\u793a\u7c7b\u4e2d\u7684\u6240\u6709\u54cd\u5e94\u8bf7\u6c42\u7684\u65b9\u6cd5\u90fd\u662f\u4ee5\u8be5\u5730\u5740\u4f5c\u4e3a\u7236\u8def\u5f84\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4e3a\u4e86\u6d4b\u8bd5\u7ed3\u8bba\u66f4\u52a0\u51c6\u786e\uff0c\u6211\u4eec\u53ef\u4ee5\u52a0\u4e0a\u4e00\u4e2a\u9879\u76ee\u540d\u6d4b\u8bd5 myweb"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u53ea\u6ce8\u89e3\u5728\u65b9\u6cd5\u4e0a\u9762"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class TestController {\r\n   @RequestMapping("/h1")\r\n   public String test(){\r\n       return "test";\r\n  }\r\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u8bbf\u95ee\u8def\u5f84\uff1a",(0,l.jsx)(e.a,{href:"http://localhost:8080",children:"http://localhost:8080"})," / \u9879\u76ee\u540d / h1"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u540c\u65f6\u6ce8\u89e3\u7c7b\u4e0e\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\n@RequestMapping("/admin")\r\npublic class TestController {\r\n   @RequestMapping("/h1")\r\n   public String test(){\r\n       return "test";\r\n  }\r\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u8bbf\u95ee\u8def\u5f84\uff1a",(0,l.jsx)(e.a,{href:"http://localhost:8080",children:"http://localhost:8080"})," / \u9879\u76ee\u540d/ admin /h1 , \u9700\u8981\u5148\u6307\u5b9a\u7c7b\u7684\u8def\u5f84\u518d\u6307\u5b9a\u65b9\u6cd5\u7684\u8def\u5f84\uff1b"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"restful-\u98ce\u683c",children:"RestFul \u98ce\u683c"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6982\u5ff5"})}),"\n",(0,l.jsx)(e.p,{children:"Restful \u5c31\u662f\u4e00\u4e2a\u8d44\u6e90\u5b9a\u4f4d\u53ca\u8d44\u6e90\u64cd\u4f5c\u7684\u98ce\u683c\u3002\u4e0d\u662f\u6807\u51c6\u4e5f\u4e0d\u662f\u534f\u8bae\uff0c\u53ea\u662f\u4e00\u79cd\u98ce\u683c\u3002\u57fa\u4e8e\u8fd9\u4e2a\u98ce\u683c\u8bbe\u8ba1\u7684\u8f6f\u4ef6\u53ef\u4ee5\u66f4\u7b80\u6d01\uff0c\u66f4\u6709\u5c42\u6b21\uff0c\u66f4\u6613\u4e8e\u5b9e\u73b0\u7f13\u5b58\u7b49\u673a\u5236\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u529f\u80fd"})}),"\n",(0,l.jsx)(e.p,{children:"\u8d44\u6e90\uff1a\u4e92\u8054\u7f51\u6240\u6709\u7684\u4e8b\u7269\u90fd\u53ef\u4ee5\u88ab\u62bd\u8c61\u4e3a\u8d44\u6e90"}),"\n",(0,l.jsx)(e.p,{children:"\u8d44\u6e90\u64cd\u4f5c\uff1a\u4f7f\u7528 POST\u3001DELETE\u3001PUT\u3001GET\uff0c\u4f7f\u7528\u4e0d\u540c\u65b9\u6cd5\u5bf9\u8d44\u6e90\u8fdb\u884c\u64cd\u4f5c\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5206\u522b\u5bf9\u5e94 \u6dfb\u52a0\u3001 \u5220\u9664\u3001\u4fee\u6539\u3001\u67e5\u8be2\u3002"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4f20\u7edf\u65b9\u5f0f\u64cd\u4f5c\u8d44\u6e90"})," \uff1a\u901a\u8fc7\u4e0d\u540c\u7684\u53c2\u6570\u6765\u5b9e\u73b0\u4e0d\u540c\u7684\u6548\u679c\uff01\u65b9\u6cd5\u5355\u4e00\uff0cpost \u548c get"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item/queryItem.action?id=1",children:"http://127.0.0.1/item/queryItem.action?id=1"})," \u67e5\u8be2,GET"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item/saveItem.action",children:"http://127.0.0.1/item/saveItem.action"})," \u65b0\u589e,POST"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item/updateItem.action",children:"http://127.0.0.1/item/updateItem.action"})," \u66f4\u65b0,POST"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item/deleteItem.action?id=1",children:"http://127.0.0.1/item/deleteItem.action?id=1"})," \u5220\u9664,GET \u6216 POST"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4f7f\u7528 RESTful \u64cd\u4f5c\u8d44\u6e90"})," \uff1a\u53ef\u4ee5\u901a\u8fc7\u4e0d\u540c\u7684\u8bf7\u6c42\u65b9\u5f0f\u6765\u5b9e\u73b0\u4e0d\u540c\u7684\u6548\u679c\uff01\u5982\u4e0b\uff1a\u8bf7\u6c42\u5730\u5740\u4e00\u6837\uff0c\u4f46\u662f\u529f\u80fd\u53ef\u4ee5\u4e0d\u540c\uff01"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item/1",children:"http://127.0.0.1/item/1"})," \u67e5\u8be2,GET"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item",children:"http://127.0.0.1/item"})," \u65b0\u589e,POST"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item",children:"http://127.0.0.1/item"})," \u66f4\u65b0,PUT"]}),"\n",(0,l.jsxs)(e.p,{children:["\u200b ",(0,l.jsx)(e.a,{href:"http://127.0.0.1/item/1",children:"http://127.0.0.1/item/1"})," \u5220\u9664,DELETE"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5b66\u4e60\u6d4b\u8bd5"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728\u65b0\u5efa\u4e00\u4e2a\u7c7b RestFulController"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"@Controller\r\npublic class RestFulController {}\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 Spring MVC \u4e2d\u53ef\u4ee5\u4f7f\u7528 @PathVariable \u6ce8\u89e3\uff0c\u8ba9\u65b9\u6cd5\u53c2\u6570\u7684\u503c\u5bf9\u5e94\u7ed1\u5b9a\u5230\u4e00\u4e2a URI \u6a21\u677f\u53d8\u91cf\u4e0a\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class RestFulController {\r\n\r\n   //\u6620\u5c04\u8bbf\u95ee\u8def\u5f84\r\n   @RequestMapping("/add/{p1}/{p2}")\r\n   public String index(@PathVariable int p1, @PathVariable int p2, Model model){\r\n\r\n       int result = p1+p2;\r\n       //Spring MVC\u4f1a\u81ea\u52a8\u5b9e\u4f8b\u5316\u4e00\u4e2aModel\u5bf9\u8c61\u7528\u4e8e\u5411\u89c6\u56fe\u4e2d\u4f20\u503c\r\n       model.addAttribute("msg", "\u7ed3\u679c\uff1a"+result);\r\n       //\u8fd4\u56de\u89c6\u56fe\u4f4d\u7f6e\r\n       return "test";\r\n\r\n  }\r\n\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u6765\u6d4b\u8bd5\u8bf7\u6c42\u67e5\u770b\u4e0b"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/d18c3101cf5b60164b021bf7901e33a7.png",alt:"1595129216809"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u601d\u8003\uff1a\u4f7f\u7528\u8def\u5f84\u53d8\u91cf\u7684\u597d\u5904\uff1f"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4f7f\u8def\u5f84\u53d8\u5f97\u66f4\u52a0\u7b80\u6d01\uff1b"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u83b7\u5f97\u53c2\u6570\u66f4\u52a0\u65b9\u4fbf\uff0c\u6846\u67b6\u4f1a\u81ea\u52a8\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u901a\u8fc7\u8def\u5f84\u53d8\u91cf\u7684\u7c7b\u578b\u53ef\u4ee5\u7ea6\u675f\u8bbf\u95ee\u53c2\u6570\uff0c\u5982\u679c\u7c7b\u578b\u4e0d\u4e00\u6837\uff0c\u5219\u8bbf\u95ee\u4e0d\u5230\u5bf9\u5e94\u7684\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5982\u8fd9\u91cc\u8bbf\u95ee\u662f\u7684\u8def\u5f84\u662f/add/1/a\uff0c\u5219\u8def\u5f84\u4e0e\u65b9\u6cd5\u4e0d\u5339\u914d\uff0c\u800c\u4e0d\u4f1a\u662f\u53c2\u6570\u8f6c\u6362\u5931\u8d25\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/94127b07c67fdd442933439e592278c6.png",alt:"1595129271494"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u6765\u4fee\u6539\u4e0b\u5bf9\u5e94\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u518d\u6b21\u6d4b\u8bd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'//\u6620\u5c04\u8bbf\u95ee\u8def\u5f84\r\n@RequestMapping("/add/{p1}/{p2}")\r\npublic String index(@PathVariable int p1, @PathVariable String p2, Model model){\r\n\r\n   String result = p1+p2;\r\n   //Spring MVC\u4f1a\u81ea\u52a8\u5b9e\u4f8b\u5316\u4e00\u4e2aModel\u5bf9\u8c61\u7528\u4e8e\u5411\u89c6\u56fe\u4e2d\u4f20\u503c\r\n   model.addAttribute("msg", "\u7ed3\u679c\uff1a"+result);\r\n   //\u8fd4\u56de\u89c6\u56fe\u4f4d\u7f6e\r\n   return "test";\r\n\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/6d36fa75dc31d7ac6f7ff0f43b0135c1.png",alt:"1595129577077"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4f7f\u7528 method \u5c5e\u6027\u6307\u5b9a\u8bf7\u6c42\u7c7b\u578b"})}),"\n",(0,l.jsx)(e.p,{children:"\u7528\u4e8e\u7ea6\u675f\u8bf7\u6c42\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u6536\u7a84\u8bf7\u6c42\u8303\u56f4\u3002\u6307\u5b9a\u8bf7\u6c42\u8c13\u8bcd\u7684\u7c7b\u578b\u5982 GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACE \u7b49"}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u589e\u52a0\u4e00\u4e2a\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'//\u6620\u5c04\u8bbf\u95ee\u8def\u5f84,\u5fc5\u987b\u662fPOST\u8bf7\u6c42\r\n@RequestMapping(value = "/hello",method = {RequestMethod.POST})\r\npublic String index2(Model model){\r\n   model.addAttribute("msg", "hello!");\r\n   return "test";\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u4f7f\u7528\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8fdb\u884c\u8bbf\u95ee\u9ed8\u8ba4\u662f Get \u8bf7\u6c42\uff0c\u4f1a\u62a5\u9519 405\uff1a"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/b612f6da482fff0aae2b4deae4b07da1.png",alt:"1595129829057"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5982\u679c\u5c06 POST \u4fee\u6539\u4e3a GET \u5219\u6b63\u5e38\u4e86\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'//\u6620\u5c04\u8bbf\u95ee\u8def\u5f84,\u5fc5\u987b\u662fGet\u8bf7\u6c42\r\n@RequestMapping(value = "/hello",method = {RequestMethod.GET})\r\npublic String index2(Model model){\r\n   model.addAttribute("msg", "hello!");\r\n   return "test";\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/71106ae815c07b5cf2471871085de402.png",alt:"1595129889298"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5c0f\u7ed3\uff1a"})}),"\n",(0,l.jsx)(e.p,{children:"Spring MVC \u7684 @RequestMapping \u6ce8\u89e3\u80fd\u591f\u5904\u7406 HTTP \u8bf7\u6c42\u7684\u65b9\u6cd5, \u6bd4\u5982 GET, PUT, POST, DELETE \u4ee5\u53ca PATCH\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6240\u6709\u7684\u5730\u5740\u680f\u8bf7\u6c42\u9ed8\u8ba4\u90fd\u4f1a\u662f HTTP GET \u7c7b\u578b\u7684\u3002"})}),"\n",(0,l.jsx)(e.p,{children:"\u65b9\u6cd5\u7ea7\u522b\u7684\u6ce8\u89e3\u53d8\u4f53\u6709\u5982\u4e0b\u51e0\u4e2a\uff1a\u7ec4\u5408\u6ce8\u89e3"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"@GetMapping\r\n@PostMapping\r\n@PutMapping\r\n@DeleteMapping\r\n@PatchMapping\n"})}),"\n",(0,l.jsx)(e.p,{children:"@GetMapping \u662f\u4e00\u4e2a\u7ec4\u5408\u6ce8\u89e3\uff0c\u5e73\u65f6\u4f7f\u7528\u7684\u4f1a\u6bd4\u8f83\u591a\uff01"}),"\n",(0,l.jsx)(e.p,{children:"\u5b83\u6240\u626e\u6f14\u7684\u662f @RequestMapping(method =RequestMethod.GET) \u7684\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"\u6269\u5c55\u5c0f\u9ec4\u9e2d\u8c03\u8bd5\u6cd5",children:"\u6269\u5c55\uff1a\u5c0f\u9ec4\u9e2d\u8c03\u8bd5\u6cd5"}),"\n",(0,l.jsxs)(e.p,{children:["\u573a\u666f\u4e00\uff1a",(0,l.jsx)(e.em,{children:"\u6211\u4eec\u90fd\u6709\u8fc7\u5411\u522b\u4eba\uff08\u751a\u81f3\u53ef\u80fd\u5411\u5b8c\u5168\u4e0d\u4f1a\u7f16\u7a0b\u7684\u4eba\uff09\u63d0\u95ee\u53ca\u89e3\u91ca\u7f16\u7a0b\u95ee\u9898\u7684\u7ecf\u5386\uff0c\u4f46\u662f\u5f88\u591a\u65f6\u5019\u5c31\u5728\u6211\u4eec\u89e3\u91ca\u7684\u8fc7\u7a0b\u4e2d\u81ea\u5df1\u5374\u60f3\u5230\u4e86\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u7136\u540e\u5bf9\u65b9\u5374\u4e00\u8138\u832b\u7136\u3002"})]}),"\n",(0,l.jsx)(e.p,{children:"\u573a\u666f\u4e8c\uff1a\u4f60\u7684\u540c\u884c\u8dd1\u6765\u95ee\u4f60\u4e00\u4e2a\u95ee\u9898\uff0c\u4f46\u662f\u5f53\u4ed6\u81ea\u5df1\u628a\u95ee\u9898\u8bf4\u5b8c\uff0c\u6216\u8bf4\u5230\u4e00\u534a\u7684\u65f6\u5019\u5c31\u60f3\u51fa\u7b54\u6848\u8d70\u4e86\uff0c\u7559\u4e0b\u4e00\u8138\u832b\u7136\u7684\u4f60\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5176\u5b9e\u4e0a\u9762\u4e24\u79cd\u573a\u666f\u73b0\u8c61\u5c31\u662f\u6240\u8c13\u7684\u5c0f\u9ec4\u9e2d\u8c03\u8bd5\u6cd5\uff08Rubber Duck Debuging\uff09\uff0c\u53c8\u79f0\u6a61\u76ae\u9e2d\u8c03\u8bd5\u6cd5\uff0c\u5b83\u662f\u6211\u4eec\u8f6f\u4ef6\u5de5\u7a0b\u4e2d\u6700\u5e38\u4f7f\u7528\u8c03\u8bd5\u65b9\u6cd5\u4e4b\u4e00\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/0b07cae4116e3b1dd167bd11b9bf206a.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u6b64\u6982\u5ff5\u636e\u8bf4\u6765\u81ea\u300a\u7a0b\u5e8f\u5458\u4fee\u70bc\u4e4b\u9053\u300b\u4e66\u4e2d\u7684\u4e00\u4e2a\u6545\u4e8b\uff0c\u4f20\u8bf4\u7a0b\u5e8f\u5927\u5e08\u968f\u8eab\u643a\u5e26\u4e00\u53ea\u5c0f\u9ec4\u9e2d\uff0c\u5728\u8c03\u8bd5\u4ee3\u7801\u7684\u65f6\u5019\u4f1a\u5728\u684c\u4e0a\u653e\u4e0a\u8fd9\u53ea\u5c0f\u9ec4\u9e2d\uff0c\u7136\u540e\u8be6\u7ec6\u5730\u5411\u9e2d\u5b50\u89e3\u91ca\u6bcf\u884c\u4ee3\u7801\uff0c\u7136\u540e\u5f88\u5feb\u5c31\u5c06\u95ee\u9898\u5b9a\u4f4d\u4fee\u590d\u4e86\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"5\u7ed3\u679c\u8df3\u8f6c\u65b9\u5f0f",children:"5\u3001\u7ed3\u679c\u8df3\u8f6c\u65b9\u5f0f"}),"\n",(0,l.jsx)(e.h3,{id:"51modelandview",children:"5.1\u3001ModelAndView"}),"\n",(0,l.jsx)(e.p,{children:"\u8bbe\u7f6e ModelAndView \u5bf9\u8c61 , \u6839\u636e view \u7684\u540d\u79f0 , \u548c\u89c6\u56fe\u89e3\u6790\u5668\u8df3\u5230\u6307\u5b9a\u7684\u9875\u9762 ."}),"\n",(0,l.jsx)(e.p,{children:"\u9875\u9762 : {\u89c6\u56fe\u89e3\u6790\u5668\u524d\u7f00} + viewName +{\u89c6\u56fe\u89e3\u6790\u5668\u540e\u7f00}"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u89c6\u56fe\u89e3\u6790\u5668 --\x3e\r\n<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"\r\n     id="internalResourceViewResolver">\r\n   \x3c!-- \u524d\u7f00 --\x3e\r\n   <property name="prefix" value="/WEB-INF/jsp/" />\r\n   \x3c!-- \u540e\u7f00 --\x3e\r\n   <property name="suffix" value=".jsp" />\r\n</bean>\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5bf9\u5e94\u7684 controller \u7c7b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public class ControllerTest1 implements Controller {\r\n\r\n   public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception {\r\n       //\u8fd4\u56de\u4e00\u4e2a\u6a21\u578b\u89c6\u56fe\u5bf9\u8c61\r\n       ModelAndView mv = new ModelAndView();\r\n       mv.addObject("msg","ControllerTest1");\r\n       mv.setViewName("test");\r\n       return mv;\r\n  }\r\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"52servletapi",children:"5.2\u3001ServletAPI"}),"\n",(0,l.jsx)(e.p,{children:"ServletAPI"}),"\n",(0,l.jsx)(e.p,{children:"\u901a\u8fc7\u8bbe\u7f6e ServletAPI , \u4e0d\u9700\u8981\u89c6\u56fe\u89e3\u6790\u5668 ."}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u901a\u8fc7 HttpServletResponse \u8fdb\u884c\u8f93\u51fa"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u901a\u8fc7 HttpServletResponse \u5b9e\u73b0\u91cd\u5b9a\u5411"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u901a\u8fc7 HttpServletResponse \u5b9e\u73b0\u8f6c\u53d1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class ResultGo {\r\n\r\n   @RequestMapping("/result/t1")\r\n   public void test1(HttpServletRequest req, HttpServletResponse rsp) throws IOException {\r\n       rsp.getWriter().println("Hello,Spring BY servlet API");\r\n  }\r\n\r\n   @RequestMapping("/result/t2")\r\n   public void test2(HttpServletRequest req, HttpServletResponse rsp) throws IOException {\r\n       rsp.sendRedirect("/index.jsp");\r\n  }\r\n\r\n   @RequestMapping("/result/t3")\r\n   public void test3(HttpServletRequest req, HttpServletResponse rsp) throws Exception {\r\n       //\u8f6c\u53d1\r\n       req.setAttribute("msg","/result/t3");\r\n       req.getRequestDispatcher("/WEB-INF/jsp/test.jsp").forward(req,rsp);\r\n  }\r\n\r\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"53springmvc",children:"5.3\u3001SpringMVC"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u901a\u8fc7 SpringMVC \u6765\u5b9e\u73b0\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411 - \u65e0\u9700\u89c6\u56fe\u89e3\u6790\u5668\uff1b"})}),"\n",(0,l.jsx)(e.p,{children:"\u6d4b\u8bd5\u524d\uff0c\u9700\u8981\u5c06\u89c6\u56fe\u89e3\u6790\u5668\u6ce8\u91ca\u6389"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u9ed8\u8ba4\u4e3a forward \u8f6c\u53d1\uff08",(0,l.jsx)(e.font,{color:"red",children:"\u4e5f\u53ef\u4ee5\u52a0\u4e0a"}),"\uff09"]}),"\n",(0,l.jsx)(e.li,{children:"redirect \u8f6c\u53d1\u9700\u7279\u522b\u52a0"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class ResultSpringMVC {\r\n   @RequestMapping("/rsm/t1")\r\n   public String test1(){\r\n       //\u8f6c\u53d1\r\n       return "/index.jsp";\r\n  }\r\n\r\n   @RequestMapping("/rsm/t2")\r\n   public String test2(){\r\n       //\u8f6c\u53d1\u4e8c\r\n       return "forward:/index.jsp";\r\n  }\r\n\r\n   @RequestMapping("/rsm/t3")\r\n   public String test3(){\r\n       //\u91cd\u5b9a\u5411\r\n       return "redirect:/index.jsp";\r\n  }\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u901a\u8fc7 SpringMVC \u6765\u5b9e\u73b0\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411 - \u6709\u89c6\u56fe\u89e3\u6790\u5668\uff1b"})}),"\n",(0,l.jsx)(e.p,{children:"\u91cd\u5b9a\u5411 , \u4e0d\u9700\u8981\u89c6\u56fe\u89e3\u6790\u5668 , \u672c\u8d28\u5c31\u662f\u91cd\u65b0\u8bf7\u6c42\u4e00\u4e2a\u65b0\u5730\u65b9\u561b , \u6240\u4ee5\u6ce8\u610f\u8def\u5f84\u95ee\u9898."}),"\n",(0,l.jsx)(e.p,{children:"\u53ef\u4ee5\u91cd\u5b9a\u5411\u5230\u53e6\u5916\u4e00\u4e2a\u8bf7\u6c42\u5b9e\u73b0 ."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u9ed8\u8ba4\u4e3a forward \u8f6c\u53d1\uff08",(0,l.jsx)(e.font,{color:"red",children:"\u4e0d\u53ef\u4ee5\u52a0\u4e0a"}),"\uff09"]}),"\n",(0,l.jsx)(e.li,{children:"redirect \u8f6c\u53d1\u9700\u7279\u522b\u52a0"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class ResultSpringMVC2 {\r\n   @RequestMapping("/rsm2/t1")\r\n   public String test1(){\r\n       //\u8f6c\u53d1\r\n       return "test";\r\n  }\r\n\r\n   @RequestMapping("/rsm2/t2")\r\n   public String test2(){\r\n       //\u91cd\u5b9a\u5411\r\n       return "redirect:/index.jsp";\r\n       //return "redirect:hello.do"; //hello.do\u4e3a\u53e6\u4e00\u4e2a\u8bf7\u6c42/\r\n  }\r\n\r\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"6\u6570\u636e\u5904\u7406",children:"6\u3001\u6570\u636e\u5904\u7406"}),"\n",(0,l.jsx)(e.h3,{id:"61\u5904\u7406\u63d0\u4ea4\u6570\u636e",children:"6.1\u3001\u5904\u7406\u63d0\u4ea4\u6570\u636e"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"1\u3001\u63d0\u4ea4\u7684\u57df\u540d\u79f0\u548c\u5904\u7406\u65b9\u6cd5\u7684\u53c2\u6570\u540d\u4e00\u81f4"})}),"\n",(0,l.jsxs)(e.p,{children:["\u63d0\u4ea4\u6570\u636e : ",(0,l.jsx)(e.a,{href:"http://localhost:8080/hello?name=kuangshen",children:"http://localhost:8080/hello?name=kuangshen"})]}),"\n",(0,l.jsx)(e.p,{children:"\u5904\u7406\u65b9\u6cd5 :"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/hello")\r\npublic String hello(String name){\r\n   System.out.println(name);\r\n   return "hello";\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u540e\u53f0\u8f93\u51fa : kuangshen"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"2\u3001\u63d0\u4ea4\u7684\u57df\u540d\u79f0\u548c\u5904\u7406\u65b9\u6cd5\u7684\u53c2\u6570\u540d\u4e0d\u4e00\u81f4"})}),"\n",(0,l.jsxs)(e.p,{children:["\u63d0\u4ea4\u6570\u636e : ",(0,l.jsx)(e.a,{href:"http://localhost:8080/hello?username=kuangshen",children:"http://localhost:8080/hello?username=kuangshen"})]}),"\n",(0,l.jsx)(e.p,{children:"\u5904\u7406\u65b9\u6cd5 :"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'//@RequestParam("username") : username\u63d0\u4ea4\u7684\u57df\u7684\u540d\u79f0 .\r\n@RequestMapping("/hello")\r\npublic String hello(@RequestParam("username") String name){\r\n   System.out.println(name);\r\n   return "hello";\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u540e\u53f0\u8f93\u51fa : kuangshen"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"3\u3001\u63d0\u4ea4\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61"})}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u6c42\u63d0\u4ea4\u7684\u8868\u5355\u57df\u548c\u5bf9\u8c61\u7684\u5c5e\u6027\u540d\u4e00\u81f4 , \u53c2\u6570\u4f7f\u7528\u5bf9\u8c61\u5373\u53ef"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5b9e\u4f53\u7c7b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"public class User {\r\n   private int id;\r\n   private String name;\r\n   private int age;\r\n   //\u6784\u9020\r\n   //get/set\r\n   //tostring()\r\n}\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u63d0\u4ea4\u6570\u636e : ",(0,l.jsx)(e.a,{href:"http://localhost:8080/mvc04/user?name=kuangshen&id=1&age=15",children:"http://localhost:8080/mvc04/user?name=kuangshen&id=1&age=15"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5904\u7406\u65b9\u6cd5 :"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/user")\r\npublic String user(User user){\r\n   System.out.println(user);\r\n   return "hello";\r\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u540e\u53f0\u8f93\u51fa : User { id=1, name='kuangshen', age=15 }"}),"\n",(0,l.jsxs)(e.p,{children:["\u8bf4\u660e\uff1a\u5982\u679c\u4f7f\u7528\u5bf9\u8c61\u7684\u8bdd\uff0c\u524d\u7aef\u4f20\u9012\u7684",(0,l.jsx)(e.font,{color:"red",children:"\u53c2\u6570\u540d\u548c\u5bf9\u8c61\u540d\u5fc5\u987b\u4e00\u81f4"}),"\uff0c\u5426\u5219\u5c31\u662f null\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"62\u6570\u636e\u663e\u793a\u5230\u524d\u7aef",children:"6.2\u3001\u6570\u636e\u663e\u793a\u5230\u524d\u7aef"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7b2c\u4e00\u79cd : \u901a\u8fc7 ModelAndView"})}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u524d\u9762\u4e00\u76f4\u90fd\u662f\u5982\u6b64 . \u5c31\u4e0d\u8fc7\u591a\u89e3\u91ca"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public class ControllerTest1 implements Controller {\r\n\r\n   public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception {\r\n       //\u8fd4\u56de\u4e00\u4e2a\u6a21\u578b\u89c6\u56fe\u5bf9\u8c61\r\n       ModelAndView mv = new ModelAndView();\r\n       mv.addObject("msg","ControllerTest1");\r\n       mv.setViewName("test");\r\n       return mv;\r\n  }\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7b2c\u4e8c\u79cd : \u901a\u8fc7 ModelMap"})}),"\n",(0,l.jsx)(e.p,{children:"ModelMap"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/hello")\r\npublic String hello(@RequestParam("username") String name, ModelMap modelMap){\r\n   //\u5c01\u88c5\u8981\u663e\u793a\u5230\u89c6\u56fe\u4e2d\u7684\u6570\u636e\r\n   //\u76f8\u5f53\u4e8ereq.setAttribute("name",name);\r\n   modelMap.addAttribute("name",name);\r\n   System.out.println(name);\r\n   return "hello";\r\n}\r\n\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7b2c\u4e09\u79cd : \u901a\u8fc7 Model"})}),"\n",(0,l.jsx)(e.p,{children:"Model"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/ct2/hello")\r\npublic String hello(@RequestParam("username") String name, Model model){\r\n   //\u5c01\u88c5\u8981\u663e\u793a\u5230\u89c6\u56fe\u4e2d\u7684\u6570\u636e\r\n   //\u76f8\u5f53\u4e8ereq.setAttribute("name",name);\r\n   model.addAttribute("msg",name);\r\n   System.out.println(name);\r\n   return "test";\r\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"63\u5bf9\u6bd4",children:"6.3\u3001\u5bf9\u6bd4"}),"\n",(0,l.jsx)(e.p,{children:"\u5c31\u5bf9\u4e8e\u65b0\u624b\u800c\u8a00\u7b80\u5355\u6765\u8bf4\u4f7f\u7528\u533a\u522b\u5c31\u662f\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"Model \u53ea\u6709\u5be5\u5be5\u51e0\u4e2a\u65b9\u6cd5\u53ea\u9002\u5408\u7528\u4e8e\u50a8\u5b58\u6570\u636e\uff0c\u7b80\u5316\u4e86\u65b0\u624b\u5bf9\u4e8eModel\u5bf9\u8c61\u7684\u64cd\u4f5c\u548c\u7406\u89e3\uff1b\r\nModelMap \u7ee7\u627f\u4e86 LinkedMap \uff0c\u9664\u4e86\u5b9e\u73b0\u4e86\u81ea\u8eab\u7684\u4e00\u4e9b\u65b9\u6cd5\uff0c\u540c\u6837\u7684\u7ee7\u627f LinkedMap \u7684\u65b9\u6cd5\u548c\u7279\u6027\uff1b\r\nModelAndView \u53ef\u4ee5\u5728\u50a8\u5b58\u6570\u636e\u7684\u540c\u65f6\uff0c\u53ef\u4ee5\u8fdb\u884c\u8bbe\u7f6e\u8fd4\u56de\u7684\u903b\u8f91\u89c6\u56fe\uff0c\u8fdb\u884c\u63a7\u5236\u5c55\u793a\u5c42\u7684\u8df3\u8f6c\u3002\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u5f53\u7136\u66f4\u591a\u7684\u4ee5\u540e\u5f00\u53d1\u8003\u8651\u7684\u66f4\u591a\u7684\u662f\u6027\u80fd\u548c\u4f18\u5316\uff0c\u5c31\u4e0d\u80fd\u5355\u5355\u4ec5\u9650\u4e8e\u6b64\u7684\u4e86\u89e3\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8bf7\u4f7f\u7528 80%\u7684\u65f6\u95f4\u6253\u597d\u624e\u5b9e\u7684\u57fa\u7840\uff0c\u5269\u4e0b 18%\u7684\u65f6\u95f4\u7814\u7a76\u6846\u67b6\uff0c2%\u7684\u65f6\u95f4\u53bb\u5b66\u70b9\u82f1\u6587\uff0c\u6846\u67b6\u7684\u5b98\u65b9\u6587\u6863\u6c38\u8fdc\u662f\u6700\u597d\u7684\u6559\u7a0b\u3002"})}),"\n",(0,l.jsx)(e.h2,{id:"7\u4e71\u7801\u95ee\u9898",children:"7\u3001\u4e71\u7801\u95ee\u9898"}),"\n",(0,l.jsx)(e.p,{children:"\u6d4b\u8bd5\u6b65\u9aa4\uff1a"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u5728\u9996\u9875\u7f16\u5199\u4e00\u4e2a\u63d0\u4ea4\u7684\u8868\u5355"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<form action="/e/t" method="post">\r\n  <input type="text" name="name" />\r\n  <input type="submit" />\r\n</form>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u540e\u53f0\u7f16\u5199\u5bf9\u5e94\u7684\u5904\u7406\u7c7b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class Encoding {\r\n   @RequestMapping("/e/t")\r\n   public String test(Model model,String name){\r\n       model.addAttribute("msg",name); //\u83b7\u53d6\u8868\u5355\u63d0\u4ea4\u7684\u503c\r\n       return "test"; //\u8df3\u8f6c\u5230test\u9875\u9762\u663e\u793a\u8f93\u5165\u7684\u503c\r\n  }\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8f93\u5165\u4e2d\u6587\u6d4b\u8bd5\uff0c\u53d1\u73b0\u4e71\u7801"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/11fcf3e65f8c56856252cb8a99d1dd79.png",alt:"1595131750549"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u4e71\u7801\u95ee\u9898\u662f\u5728\u6211\u4eec\u5f00\u53d1\u4e2d\u5341\u5206\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u4e5f\u662f\u8ba9\u6211\u4eec\u7a0b\u5e8f\u733f\u6bd4\u8f83\u5934\u5927\u7684\u95ee\u9898\uff01"}),"\n",(0,l.jsx)(e.p,{children:"\u4ee5\u524d\u4e71\u7801\u95ee\u9898\u901a\u8fc7\u8fc7\u6ee4\u5668\u89e3\u51b3 , \u800c SpringMVC \u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8fc7\u6ee4\u5668 , \u53ef\u4ee5\u5728 web.xml \u4e2d\u914d\u7f6e ."}),"\n",(0,l.jsx)(e.p,{children:"\u4fee\u6539\u4e86 xml \u6587\u4ef6\u9700\u8981\u91cd\u542f\u670d\u52a1\u5668\uff01"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"filter>\r\n   <filter-name>encoding</filter-name>\r\n   <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\r\n   <init-param>\r\n       <param-name>encoding</param-name>\r\n       <param-value>utf-8</param-value>\r\n   </init-param>\r\n</filter>\r\n<filter-mapping>\r\n   <filter-name>encoding</filter-name>\r\n   <url-pattern>/*</url-pattern>\r\n</filter-mapping>\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.font,{color:"red",children:"\u6ce8\u610f\uff1a\u8fd9\u91cc\u5199/*\uff0c\u5199/\u7684\u8bdd\u8fc7\u6ee4\u4e0d\u4e86 jsp \u9875\u9762\uff0c\u4e0d\u80fd\u89e3\u51b3\u4e71\u7801"})}),"\n",(0,l.jsx)(e.p,{children:"\u4f46\u662f\u6211\u4eec\u53d1\u73b0 , \u6709\u4e9b\u6781\u7aef\u60c5\u51b5\u4e0b.\u8fd9\u4e2a\u8fc7\u6ee4\u5668\u5bf9 get \u7684\u652f\u6301\u4e0d\u597d ."}),"\n",(0,l.jsx)(e.p,{children:"\u5904\u7406\u65b9\u6cd5 :"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4fee\u6539 tomcat \u914d\u7f6e\u6587\u4ef6 \uff1a\u8bbe\u7f6e\u7f16\u7801\uff01"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<Connector URIEncoding="utf-8" port="8080" protocol="HTTP/1.1"\r\n          connectionTimeout="20000"\r\n          redirectPort="8443" />\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668\uff08\u4e07\u80fd\u89e3\u51b3\uff09"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.kuang.filter;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletRequestWrapper;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.util.Map;\r\n\r\n/**\r\n* \u89e3\u51b3get\u548cpost\u8bf7\u6c42 \u5168\u90e8\u4e71\u7801\u7684\u8fc7\u6ee4\u5668\r\n*/\r\npublic class GenericEncodingFilter implements Filter {\r\n\r\n   @Override\r\n   public void destroy() {\r\n  }\r\n\r\n   @Override\r\n   public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n       //\u5904\u7406response\u7684\u5b57\u7b26\u7f16\u7801\r\n       HttpServletResponse myResponse=(HttpServletResponse) response;\r\n       myResponse.setContentType("text/html;charset=UTF-8");\r\n\r\n       // \u8f6c\u578b\u4e3a\u4e0e\u534f\u8bae\u76f8\u5173\u5bf9\u8c61\r\n       HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n       // \u5bf9request\u5305\u88c5\u589e\u5f3a\r\n       HttpServletRequest myrequest = new MyRequest(httpServletRequest);\r\n       chain.doFilter(myrequest, response);\r\n  }\r\n\r\n   @Override\r\n   public void init(FilterConfig filterConfig) throws ServletException {\r\n  }\r\n\r\n}\r\n\r\n//\u81ea\u5b9a\u4e49request\u5bf9\u8c61\uff0cHttpServletRequest\u7684\u5305\u88c5\u7c7b\r\nclass MyRequest extends HttpServletRequestWrapper {\r\n\r\n   private HttpServletRequest request;\r\n   //\u662f\u5426\u7f16\u7801\u7684\u6807\u8bb0\r\n   private boolean hasEncode;\r\n   //\u5b9a\u4e49\u4e00\u4e2a\u53ef\u4ee5\u4f20\u5165HttpServletRequest\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u4fbf\u5bf9\u5176\u8fdb\u884c\u88c5\u9970\r\n   public MyRequest(HttpServletRequest request) {\r\n       super(request);// super\u5fc5\u987b\u5199\r\n       this.request = request;\r\n  }\r\n\r\n   // \u5bf9\u9700\u8981\u589e\u5f3a\u65b9\u6cd5 \u8fdb\u884c\u8986\u76d6\r\n   @Override\r\n   public Map getParameterMap() {\r\n       // \u5148\u83b7\u5f97\u8bf7\u6c42\u65b9\u5f0f\r\n       String method = request.getMethod();\r\n       if (method.equalsIgnoreCase("post")) {\r\n           // post\u8bf7\u6c42\r\n           try {\r\n               // \u5904\u7406post\u4e71\u7801\r\n               request.setCharacterEncoding("utf-8");\r\n               return request.getParameterMap();\r\n          } catch (UnsupportedEncodingException e) {\r\n               e.printStackTrace();\r\n          }\r\n      } else if (method.equalsIgnoreCase("get")) {\r\n           // get\u8bf7\u6c42\r\n           Map<String, String[]> parameterMap = request.getParameterMap();\r\n           if (!hasEncode) { // \u786e\u4fddget\u624b\u52a8\u7f16\u7801\u903b\u8f91\u53ea\u8fd0\u884c\u4e00\u6b21\r\n               for (String parameterName : parameterMap.keySet()) {\r\n                   String[] values = parameterMap.get(parameterName);\r\n                   if (values != null) {\r\n                       for (int i = 0; i < values.length; i++) {\r\n                           try {\r\n                               // \u5904\u7406get\u4e71\u7801\r\n                               values[i] = new String(values[i]\r\n                                      .getBytes("ISO-8859-1"), "utf-8");\r\n                          } catch (UnsupportedEncodingException e) {\r\n                               e.printStackTrace();\r\n                          }\r\n                      }\r\n                  }\r\n              }\r\n               hasEncode = true;\r\n          }\r\n           return parameterMap;\r\n      }\r\n       return super.getParameterMap();\r\n  }\r\n\r\n   //\u53d6\u4e00\u4e2a\u503c\r\n   @Override\r\n   public String getParameter(String name) {\r\n       Map<String, String[]> parameterMap = getParameterMap();\r\n       String[] values = parameterMap.get(name);\r\n       if (values == null) {\r\n           return null;\r\n      }\r\n       return values[0]; // \u53d6\u56de\u53c2\u6570\u7684\u7b2c\u4e00\u4e2a\u503c\r\n  }\r\n\r\n   //\u53d6\u6240\u6709\u503c\r\n   @Override\r\n   public String[] getParameterValues(String name) {\r\n       Map<String, String[]> parameterMap = getParameterMap();\r\n       String[] values = parameterMap.get(name);\r\n       return values;\r\n  }\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0cSpringMVC \u9ed8\u8ba4\u7684\u4e71\u7801\u5904\u7406\u5c31\u5df2\u7ecf\u80fd\u591f\u5f88\u597d\u7684\u89e3\u51b3\u4e86\uff01"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7136\u540e\u5728 web.xml \u4e2d\u914d\u7f6e\u8fd9\u4e2a\u8fc7\u6ee4\u5668\u5373\u53ef\uff01"})}),"\n",(0,l.jsx)(e.p,{children:"\u4e71\u7801\u95ee\u9898\uff0c\u9700\u8981\u5e73\u65f6\u591a\u6ce8\u610f\uff0c\u5728\u5c3d\u53ef\u80fd\u80fd\u8bbe\u7f6e\u7f16\u7801\u7684\u5730\u65b9\uff0c\u90fd\u8bbe\u7f6e\u4e3a\u7edf\u4e00\u7f16\u7801 UTF-8\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"8json-\u4ea4\u4e92\u5904\u7406",children:"8\u3001Json \u4ea4\u4e92\u5904\u7406"}),"\n",(0,l.jsx)(e.h3,{id:"81\u4ec0\u4e48\u662f-json",children:"8.1\u3001\u4ec0\u4e48\u662f JSON\uff1f"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"JSON(JavaScript Object Notation, JS \u5bf9\u8c61\u6807\u8bb0) \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u6570\u636e\u4ea4\u6362\u683c\u5f0f\uff0c\u76ee\u524d\u4f7f\u7528\u7279\u522b\u5e7f\u6cdb\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u91c7\u7528\u5b8c\u5168\u72ec\u7acb\u4e8e\u7f16\u7a0b\u8bed\u8a00\u7684",(0,l.jsx)(e.strong,{children:"\u6587\u672c\u683c\u5f0f"}),"\u6765\u5b58\u50a8\u548c\u8868\u793a\u6570\u636e\u3002"]}),"\n",(0,l.jsx)(e.li,{children:"\u7b80\u6d01\u548c\u6e05\u6670\u7684\u5c42\u6b21\u7ed3\u6784\u4f7f\u5f97 JSON \u6210\u4e3a\u7406\u60f3\u7684\u6570\u636e\u4ea4\u6362\u8bed\u8a00\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u6613\u4e8e\u4eba\u9605\u8bfb\u548c\u7f16\u5199\uff0c\u540c\u65f6\u4e5f\u6613\u4e8e\u673a\u5668\u89e3\u6790\u548c\u751f\u6210\uff0c\u5e76\u6709\u6548\u5730\u63d0\u5347\u7f51\u7edc\u4f20\u8f93\u6548\u7387\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5728 JavaScript \u8bed\u8a00\u4e2d\uff0c\u4e00\u5207\u90fd\u662f\u5bf9\u8c61\u3002\u56e0\u6b64\uff0c\u4efb\u4f55 JavaScript \u652f\u6301\u7684\u7c7b\u578b\u90fd\u53ef\u4ee5\u901a\u8fc7 JSON \u6765\u8868\u793a\uff0c\u4f8b\u5982\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u3001\u5bf9\u8c61\u3001\u6570\u7ec4\u7b49\u3002\u770b\u770b\u4ed6\u7684\u8981\u6c42\u548c\u8bed\u6cd5\u683c\u5f0f\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5bf9\u8c61\u8868\u793a\u4e3a\u952e\u503c\u5bf9\uff0c\u6570\u636e\u7531\u9017\u53f7\u5206\u9694"}),"\n",(0,l.jsx)(e.li,{children:"\u82b1\u62ec\u53f7\u4fdd\u5b58\u5bf9\u8c61"}),"\n",(0,l.jsx)(e.li,{children:"\u65b9\u62ec\u53f7\u4fdd\u5b58\u6570\u7ec4"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"JSON \u952e\u503c\u5bf9"}),'\u662f\u7528\u6765\u4fdd\u5b58 JavaScript \u5bf9\u8c61\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u548c JavaScript \u5bf9\u8c61\u7684\u5199\u6cd5\u4e5f\u5927\u540c\u5c0f\u5f02\uff0c\u952e/\u503c\u5bf9\u7ec4\u5408\u4e2d\u7684\u952e\u540d\u5199\u5728\u524d\u9762\u5e76\u7528\u53cc\u5f15\u53f7 "" \u5305\u88f9\uff0c\u4f7f\u7528\u5192\u53f7 : \u5206\u9694\uff0c\u7136\u540e\u7d27\u63a5\u7740\u503c\uff1a']}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:'{"name": "QinJiang"}\r\n{"age": "3"}\r\n{"sex": "\u7537"}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5f88\u591a\u4eba\u641e\u4e0d\u6e05\u695a JSON \u548c JavaScript \u5bf9\u8c61\u7684\u5173\u7cfb\uff0c\u751a\u81f3\u8fde\u8c01\u662f\u8c01\u90fd\u4e0d\u6e05\u695a\u3002\u5176\u5b9e\uff0c\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\uff1a"}),"\n",(0,l.jsx)(e.p,{children:"JSON \u662f JavaScript \u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u8868\u793a\u6cd5\uff0c\u5b83\u4f7f\u7528\u6587\u672c\u8868\u793a\u4e00\u4e2a JS \u5bf9\u8c61\u7684\u4fe1\u606f\uff0c\u672c\u8d28\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:'var obj = { a: "Hello", b: "World" }; //\u8fd9\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6ce8\u610f\u952e\u540d\u4e5f\u662f\u53ef\u4ee5\u4f7f\u7528\u5f15\u53f7\u5305\u88f9\u7684\r\nvar json = \'{"a": "Hello", "b": "World"}\'; //\u8fd9\u662f\u4e00\u4e2a JSON \u5b57\u7b26\u4e32\uff0c\u672c\u8d28\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\n'})}),"\n",(0,l.jsxs)(e.h3,{id:"82json-\u548c-javascript-\u5bf9\u8c61\u4e92\u8f6c",children:["8.2\u3001",(0,l.jsx)(e.strong,{children:"JSON \u548c JavaScript \u5bf9\u8c61\u4e92\u8f6c"})]}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u5b9e\u73b0\u4ece JSON \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a JavaScript \u5bf9\u8c61\uff0c\u4f7f\u7528 JSON.parse() \u65b9\u6cd5\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:'var obj = JSON.parse(\'{"a": "Hello", "b": "World"}\');\r\n//\u7ed3\u679c\u662f {a: \'Hello\', b: \'World\'}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u5b9e\u73b0\u4ece JavaScript \u5bf9\u8c61\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\uff0c\u4f7f\u7528 JSON.stringify() \u65b9\u6cd5\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:'var json = JSON.stringify({ a: "Hello", b: "World" });\r\n//\u7ed3\u679c\u662f \'{"a": "Hello", "b": "World"}\'\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4ee3\u7801\u6d4b\u8bd5"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u65b0\u5efa\u4e00\u4e2a module \uff0cspringmvc-05-json \uff0c \u6dfb\u52a0 web \u7684\u652f\u6301"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 web \u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a json-1.html \uff0c \u7f16\u5199\u6d4b\u8bd5\u5185\u5bb9"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html lang="en">\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <title>JSON_\u79e6\u7586</title>\r\n  </head>\r\n  <body>\r\n    <script type="text/javascript">\r\n      //\u7f16\u5199\u4e00\u4e2ajs\u7684\u5bf9\u8c61\r\n      var user = {\r\n        name: "\u79e6\u7586",\r\n        age: 3,\r\n        sex: "\u7537",\r\n      };\r\n      //\u5c06js\u5bf9\u8c61\u8f6c\u6362\u6210json\u5b57\u7b26\u4e32\r\n      var str = JSON.stringify(user);\r\n      console.log(str);\r\n\r\n      //\u5c06json\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3ajs\u5bf9\u8c61\r\n      var user2 = JSON.parse(str);\r\n      console.log(user2.age, user2.name, user2.sex);\r\n    <\/script>\r\n  </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 IDEA \u4e2d\u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\uff0c\u67e5\u770b\u63a7\u5236\u53f0\u8f93\u51fa\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"83controller-\u8fd4\u56de-json-\u6570\u636e",children:"8.3\u3001Controller \u8fd4\u56de JSON \u6570\u636e"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Jackson \u5e94\u8be5\u662f\u76ee\u524d\u6bd4\u8f83\u597d\u7684 json \u89e3\u6790\u5de5\u5177\u4e86"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5f53\u7136\u5de5\u5177\u4e0d\u6b62\u8fd9\u4e00\u4e2a\uff0c\u6bd4\u5982\u8fd8\u6709\u963f\u91cc\u5df4\u5df4\u7684 fastjson \u7b49\u7b49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u8fd9\u91cc\u4f7f\u7528 Jackson\uff0c\u4f7f\u7528\u5b83\u9700\u8981\u5bfc\u5165\u5b83\u7684 jar \u5305\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"\x3c!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --\x3e\r\n<dependency>\r\n   <groupId>com.fasterxml.jackson.core</groupId>\r\n   <artifactId>jackson-databind</artifactId>\r\n   <version>2.9.8</version>\r\n</dependency>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e SpringMVC \u9700\u8981\u7684\u914d\u7f6e"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\uff08web.xml\uff09"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\r\n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n        xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\r\n        version="4.0">\r\n\r\n   \x3c!--1.\u6ce8\u518cservlet--\x3e\r\n   <servlet>\r\n       <servlet-name>SpringMVC</servlet-name>\r\n       <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\r\n       \x3c!--\u901a\u8fc7\u521d\u59cb\u5316\u53c2\u6570\u6307\u5b9aSpringMVC\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u8fdb\u884c\u5173\u8054--\x3e\r\n       <init-param>\r\n           <param-name>contextConfigLocation</param-name>\r\n           <param-value>classpath:springmvc-servlet.xml</param-value>\r\n       </init-param>\r\n       \x3c!-- \u542f\u52a8\u987a\u5e8f\uff0c\u6570\u5b57\u8d8a\u5c0f\uff0c\u542f\u52a8\u8d8a\u65e9 --\x3e\r\n       <load-on-startup>1</load-on-startup>\r\n   </servlet>\r\n\r\n   \x3c!--\u6240\u6709\u8bf7\u6c42\u90fd\u4f1a\u88abspringmvc\u62e6\u622a --\x3e\r\n   <servlet-mapping>\r\n       <servlet-name>SpringMVC</servlet-name>\r\n       <url-pattern>/</url-pattern>\r\n   </servlet-mapping>\r\n\r\n   <filter>\r\n       <filter-name>encoding</filter-name>\r\n       <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\r\n       <init-param>\r\n           <param-name>encoding</param-name>\r\n           <param-value>utf-8</param-value>\r\n       </init-param>\r\n   </filter>\r\n   <filter-mapping>\r\n       <filter-name>encoding</filter-name>\r\n       <url-pattern>/</url-pattern>\r\n   </filter-mapping>\r\n\r\n</web-app>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"springmvc-servlet.xml"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<beans xmlns="http://www.springframework.org/schema/beans"\r\n      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n      xmlns:context="http://www.springframework.org/schema/context"\r\n      xmlns:mvc="http://www.springframework.org/schema/mvc"\r\n      xsi:schemaLocation="http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       https://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc\r\n       https://www.springframework.org/schema/mvc/spring-mvc.xsd">\r\n\r\n   \x3c!-- \u81ea\u52a8\u626b\u63cf\u6307\u5b9a\u7684\u5305\uff0c\u4e0b\u9762\u6240\u6709\u6ce8\u89e3\u7c7b\u4ea4\u7ed9IOC\u5bb9\u5668\u7ba1\u7406 --\x3e\r\n   <context:component-scan base-package="com.kuang.controller"/>\r\n\r\n   \x3c!-- \u89c6\u56fe\u89e3\u6790\u5668 --\x3e\r\n   <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"\r\n         id="internalResourceViewResolver">\r\n       \x3c!-- \u524d\u7f00 --\x3e\r\n       <property name="prefix" value="/WEB-INF/jsp/" />\r\n       \x3c!-- \u540e\u7f00 --\x3e\r\n       <property name="suffix" value=".jsp" />\r\n   </bean>\r\n\r\n</beans>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u968f\u4fbf\u7f16\u5199\u4e00\u4e2a User \u7684\u5b9e\u4f53\u7c7b\uff0c\u7136\u540e\u6211\u4eec\u53bb\u7f16\u5199\u6211\u4eec\u7684\u6d4b\u8bd5 Controller\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n    private int id;\r\n    private String name;\r\n  private int age;\r\n}\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u4e24\u4e2a\u65b0\u4e1c\u897f\uff0c\u4e00\u4e2a\u662f@ResponseBody\uff0c\u4e00\u4e2a\u662f ObjectMapper \u5bf9\u8c61\uff0c\u6211\u4eec\u770b\u4e0b\u5177\u4f53\u7684\u7528\u6cd5"}),"\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a Controller\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class UserController {\r\n@RequestMapping("/j1")\r\n @ResponseBody//\u4ed6\u5c31\u4e0d\u4f1a\u8d70\u89c6\u56fe\u89e3\u6790\u5668\uff0c\u4f1a\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a \u5b57\u7b26\u4e32\r\n public String json1() throws JsonProcessingException {\r\n     //jackson,ObjectMapper\r\n     ObjectMapper mapper = new ObjectMapper();\r\n\r\n     //\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\r\n     User user = new User(1, "\u79e6\u7586\u4e00\u53f7", 12);\r\n     //System.out.println(user);\r\n\r\n     String str = mapper.writeValueAsString(user);\r\n     return str;\r\n }\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6b64\u65f6\u8f93\u5165\u4e2d\u6587\u4f1a\u4ea7\u751f\u4e71\u7801"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'//produces:\u6307\u5b9a\u54cd\u5e94\u4f53\u8fd4\u56de\u7c7b\u578b\u548c\u7f16\u7801\r\n@RequestMapping(value = "/json1",produces = "application/json;charset=utf-8")\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u914d\u7f6e Tomcat \uff0c \u542f\u52a8\u6d4b\u8bd5\u4e00\u4e0b\uff01",(0,l.jsx)(e.a,{href:"http://localhost:8080/json1",children:"http://localhost:8080/json1"})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/dbd0efabe998fe864e4b868f20c40aaf.png",alt:"1595133634951"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.font,{color:"red",children:"\u3010\u6ce8\u610f\uff1a\u4f7f\u7528 json \u8bb0\u5f97\u5904\u7406\u4e71\u7801\u95ee\u9898\u3011"})}),"\n",(0,l.jsx)(e.h3,{id:"84-\u4ee3\u7801\u4f18\u5316",children:"8.4 \u4ee3\u7801\u4f18\u5316"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4e71\u7801\u7edf\u4e00\u89e3\u51b3"})}),"\n",(0,l.jsx)(e.p,{children:"\u4e0a\u4e00\u79cd\u65b9\u6cd5\u6bd4\u8f83\u9ebb\u70e6\uff0c\u5982\u679c\u9879\u76ee\u4e2d\u6709\u8bb8\u591a\u8bf7\u6c42\u5219\u6bcf\u4e00\u4e2a\u90fd\u8981\u6dfb\u52a0\uff0c\u53ef\u4ee5\u901a\u8fc7 Spring \u914d\u7f6e\u7edf\u4e00\u6307\u5b9a\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u6bcf\u6b21\u90fd\u53bb\u5904\u7406\u4e86\uff01"}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u5728 springmvc \u7684\u914d\u7f6e\u6587\u4ef6\u4e0a\u6dfb\u52a0\u4e00\u6bb5\u6d88\u606f StringHttpMessageConverter \u8f6c\u6362\u914d\u7f6e\uff01"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<mvc:annotation-driven>\r\n   <mvc:message-converters register-defaults="true">\r\n       <bean class="org.springframework.http.converter.StringHttpMessageConverter">\r\n           <constructor-arg value="UTF-8"/>\r\n       </bean>\r\n       <bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">\r\n           <property name="objectMapper">\r\n               <bean class="org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean">\r\n                   <property name="failOnEmptyBeans" value="false"/>\r\n               </bean>\r\n           </property>\r\n       </bean>\r\n   </mvc:message-converters>\r\n</mvc:annotation-driven>\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8fd4\u56de json \u5b57\u7b26\u4e32\u7edf\u4e00\u89e3\u51b3"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"@ResponseBody \u89e3\u51b3\uff08\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u5f97\u52a0\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528\uff09"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class UserController {\r\n   //produces:\u6307\u5b9a\u54cd\u5e94\u4f53\u8fd4\u56de\u7c7b\u578b\u548c\u7f16\u7801\r\n   @RequestMapping(value = "/json1")\r\n   @ResponseBody\r\n   public String json1() throws JsonProcessingException {\r\n       //\u521b\u5efa\u4e00\u4e2ajackson\u7684\u5bf9\u8c61\u6620\u5c04\u5668\uff0c\u7528\u6765\u89e3\u6790\u6570\u636e\r\n       ObjectMapper mapper = new ObjectMapper();\r\n       //\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\r\n       User user = new User(1, "\u79e6\u7586\u4e00\u53f7", 12);\r\n       //\u5c06\u6211\u4eec\u7684\u5bf9\u8c61\u89e3\u6790\u6210\u4e3ajson\u683c\u5f0f\r\n       String str = mapper.writeValueAsString(user);\r\n       //\u7531\u4e8e@ResponseBody\u6ce8\u89e3\uff0c\u8fd9\u91cc\u4f1a\u5c06str\u8f6c\u6210json\u683c\u5f0f\u8fd4\u56de\uff1b\u5341\u5206\u65b9\u4fbf\r\n       return str;\r\n  }\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"@RestController"}),"\uff08\u76f4\u63a5\u52a0\u5230\u7c7b\u4e0a\u5373\u53ef\uff09"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RestController\r\npublic class UserController {\r\n   @RequestMapping(value = "/j1")\r\n   public String json1() throws JsonProcessingException {\r\n       //\u521b\u5efa\u4e00\u4e2ajackson\u7684\u5bf9\u8c61\u6620\u5c04\u5668\uff0c\u7528\u6765\u89e3\u6790\u6570\u636e\r\n       ObjectMapper mapper = new ObjectMapper();\r\n       //\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\r\n       User user = new User(1, "\u79e6\u7586\u4e00\u53f7", 12);\r\n       //\u5c06\u6211\u4eec\u7684\u5bf9\u8c61\u89e3\u6790\u6210\u4e3ajson\u683c\u5f0f\r\n       String str = mapper.writeValueAsString(user);\r\n       return str;\r\n  }\r\n\r\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"85\u6d4b\u8bd5\u96c6\u5408\u8f93\u51fa",children:"8.5\u3001\u6d4b\u8bd5\u96c6\u5408\u8f93\u51fa"}),"\n",(0,l.jsx)(e.p,{children:"\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/j2")\r\npublic String json2() throws JsonProcessingException {\r\n\r\n    //\u521b\u5efa\u4e00\u4e2ajackson\u7684\u5bf9\u8c61\u6620\u5c04\u5668\uff0c\u7528\u6765\u89e3\u6790\u6570\u636e\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    //\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\r\n   \tUser user1 = new User(1, "\u79e6\u75861\u53f7", 12);\r\n    User user2 = new User(2, "\u79e6\u75862\u53f7", 12);\r\n    User user3 = new User(3, "\u79e6\u75863\u53f7", 12);\r\n    User user4 = new User(4, "\u79e6\u75864\u53f7", 12);\r\n    User user5 = new User(5, "\u79e6\u75865\u53f7", 12);\r\n    List<User> list = new ArrayList<User>();\r\n    list.add(user1);\r\n    list.add(user2);\r\n    list.add(user3);\r\n    list.add(user4);\r\n    list.add(user5);\r\n    //\u5c06\u6211\u4eec\u7684\u5bf9\u8c61\u89e3\u6790\u6210\u4e3ajson\u683c\u5f0f\r\n    String str = mapper.writeValueAsString(list);\r\n    return str;\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c : \u5341\u5206\u5b8c\u7f8e\uff0c\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff01"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/b681fec136db846a56ad027e99f07614.png",alt:"1595133587875"})}),"\n",(0,l.jsx)(e.h3,{id:"86\u8f93\u51fa\u65f6\u95f4\u5bf9\u8c61",children:"8.6\u3001\u8f93\u51fa\u65f6\u95f4\u5bf9\u8c61"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/j3")\r\npublic String json3() throws JsonProcessingException {\r\n\r\n   ObjectMapper mapper = new ObjectMapper();\r\n\r\n   //\u521b\u5efa\u65f6\u95f4\u4e00\u4e2a\u5bf9\u8c61\uff0cjava.util.Date\r\n   Date date = new Date();\r\n   //\u5c06\u6211\u4eec\u7684\u5bf9\u8c61\u89e3\u6790\u6210\u4e3ajson\u683c\u5f0f\r\n   String str = mapper.writeValueAsString(date);\r\n   return str;\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c :"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/635bcb22ae40df05e14d9c14956f5a68.png",alt:"1595134256420"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u9ed8\u8ba4\u65e5\u671f\u683c\u5f0f\u4f1a\u53d8\u6210\u4e00\u4e2a\u6570\u5b57\uff0c\u662f 1970 \u5e74 1 \u6708 1 \u65e5\u5230\u5f53\u524d\u65e5\u671f\u7684\u6beb\u79d2\u6570\uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Jackson \u9ed8\u8ba4\u662f\u4f1a\u628a\u65f6\u95f4\u8f6c\u6210 timestamps \u5f62\u5f0f"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a\u53d6\u6d88 timestamps \u5f62\u5f0f \uff0c \u81ea\u5b9a\u4e49\u65f6\u95f4\u683c\u5f0f"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/j3")\r\npublic String json4() throws JsonProcessingException {\r\n\r\n   ObjectMapper mapper = new ObjectMapper();\r\n\r\n   //\u4e0d\u4f7f\u7528\u65f6\u95f4\u6233\u7684\u65b9\u5f0f\r\n   mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n   //\u81ea\u5b9a\u4e49\u65e5\u671f\u683c\u5f0f\u5bf9\u8c61\r\n   SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");\r\n   //\u6307\u5b9a\u65e5\u671f\u683c\u5f0f\r\n   mapper.setDateFormat(sdf);\r\n\r\n   Date date = new Date();\r\n   String str = mapper.writeValueAsString(date);\r\n\r\n   return str;\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c : \u6210\u529f\u7684\u8f93\u51fa\u4e86\u65f6\u95f4\uff01"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/7af910401d88917f9037e1f6dfdffc0a.png",alt:"1595134398126"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.font,{color:"red",children:"\u62bd\u53d6\u4e3a\u5de5\u5177\u7c7b"})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5982\u679c\u8981\u7ecf\u5e38\u4f7f\u7528\u7684\u8bdd\uff0c\u8fd9\u6837\u662f\u6bd4\u8f83\u9ebb\u70e6\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u4ee3\u7801\u5c01\u88c5\u5230\u4e00\u4e2a\u5de5\u5177\u7c7b\u4e2d\uff1b\u6211\u4eec\u53bb\u7f16\u5199\u4e0b"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public class JsonUtils {\r\n    public static String getJson(Object object) {\r\n        return getJson(object,"yyyy-MM-dd HH:mm:ss");\r\n    }\r\n    public static String getJson(Object object, String dateFormat) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        //java\u81ea\u5b9a\u4e49\u65e5\u671f\u683c\u5f0f\r\n        SimpleDateFormat sdf = new SimpleDateFormat(dateFormat);\r\n        //sdf.format(date)\r\n\r\n        // \u4f7f\u7528ObjectMapper \u6765\u683c\u5f0f\u5316\u8f93\u51fa\r\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,false);\r\n        mapper.setDateFormat(sdf);\r\n\r\n        try {\r\n            //ObjectMapper,\u65f6\u95f4\u89e3\u6790\u540e\u7684\u9ed8\u8ba4\u683c\u5f0f\u4e3a\uff1aTImestamp.\u65f6\u95f4\u6233\r\n            return mapper.writeValueAsString(object);\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u4f7f\u7528\u5de5\u5177\u7c7b\uff0c\u4ee3\u7801\u5c31\u66f4\u52a0\u7b80\u6d01\u4e86\uff01"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/j3")\r\n    public String json3(){\r\n\r\n        Date date = new Date();\r\n\r\n        return JsonUtils.getJson(date,"yyyy-MM-dd HH:mm:ss");\r\n    }\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5927\u529f\u544a\u6210\uff01\u5b8c\u7f8e\uff01"}),"\n",(0,l.jsx)(e.h3,{id:"87fastjson",children:"8.7\u3001FastJson"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"fastjson.jar \u662f\u963f\u91cc\u5f00\u53d1\u7684\u4e00\u6b3e\u4e13\u95e8\u7528\u4e8e Java \u5f00\u53d1\u7684\u5305\uff0c"}),"\n",(0,l.jsx)(e.li,{children:"\u5b9e\u73b0 json \u5bf9\u8c61\u4e0e JavaBean \u5bf9\u8c61\u7684\u8f6c\u6362\uff0c"}),"\n",(0,l.jsx)(e.li,{children:"\u5b9e\u73b0 JavaBean \u5bf9\u8c61\u4e0e json \u5b57\u7b26\u4e32\u7684\u8f6c\u6362\uff0c"}),"\n",(0,l.jsx)(e.li,{children:"\u5b9e\u73b0 json \u5bf9\u8c61\u4e0e json \u5b57\u7b26\u4e32\u7684\u8f6c\u6362\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5b9e\u73b0 json \u7684\u8f6c\u6362\u65b9\u6cd5\u5f88\u591a\uff0c\u6700\u540e\u7684\u5b9e\u73b0\u7ed3\u679c\u90fd\u662f\u4e00\u6837\u7684\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"fastjson \u7684 pom \u4f9d\u8d56\uff01"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"<dependency>\r\n   <groupId>com.alibaba</groupId>\r\n   <artifactId>fastjson</artifactId>\r\n   <version>1.2.60</version>\r\n</dependency>\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"fastjson \u4e09\u4e2a\u4e3b\u8981\u7684\u7c7b\uff1a"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["JSONObject \u4ee3\u8868 json \u5bf9\u8c61\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"JSONObject \u5b9e\u73b0\u4e86 Map \u63a5\u53e3, \u731c\u60f3 JSONObject \u5e95\u5c42\u64cd\u4f5c\u662f\u7531 Map \u5b9e\u73b0\u7684\u3002"}),"\n",(0,l.jsx)(e.li,{children:'JSONObject \u5bf9\u5e94 json \u5bf9\u8c61\uff0c\u901a\u8fc7\u5404\u79cd\u5f62\u5f0f\u7684 get()\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6 json \u5bf9\u8c61\u4e2d\u7684\u6570\u636e\uff0c\u4e5f\u53ef\u5229\u7528\u8bf8\u5982 size()\uff0cisEmpty()\u7b49\u65b9\u6cd5\u83b7\u53d6"\u952e\uff1a\u503c"\u5bf9\u7684\u4e2a\u6570\u548c\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\u3002\u5176\u672c\u8d28\u662f\u901a\u8fc7\u5b9e\u73b0 Map \u63a5\u53e3\u5e76\u8c03\u7528\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u5b8c\u6210\u7684\u3002'}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["JSONArray \u4ee3\u8868 json \u5bf9\u8c61\u6570\u7ec4\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5185\u90e8\u662f\u6709 List \u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u6765\u5b8c\u6210\u64cd\u4f5c\u7684\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["JSON \u4ee3\u8868 JSONObject \u548c JSONArray \u7684\u8f6c\u5316\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"JSON \u7c7b\u6e90\u7801\u5206\u6790\u4e0e\u4f7f\u7528"}),"\n",(0,l.jsx)(e.li,{children:"\u4ed4\u7ec6\u89c2\u5bdf\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u4e3b\u8981\u662f\u5b9e\u73b0 json \u5bf9\u8c61\uff0cjson \u5bf9\u8c61\u6570\u7ec4\uff0cjavabean \u5bf9\u8c61\uff0cjson \u5b57\u7b26\u4e32\u4e4b\u95f4\u7684\u76f8\u4e92\u8f6c\u5316\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4ee3\u7801\u6d4b\u8bd5\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a FastJsonDemo \u7c7b"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/j4")\r\n    //@ResponseBody//\u4ed6\u5c31\u4e0d\u4f1a\u8d70\u89c6\u56fe\u89e3\u6790\u5668\uff0c\u4f1a\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a \u5b57\u7b26\u4e32\r\n    public String json4(){\r\n\r\n        User user1 = new User(1, "\u79e6\u75861\u53f7", 12);\r\n        User user2 = new User(2, "\u79e6\u75862\u53f7", 12);\r\n        User user3 = new User(3, "\u79e6\u75863\u53f7", 12);\r\n        User user4 = new User(4, "\u79e6\u75864\u53f7", 12);\r\n        User user5 = new User(5, "\u79e6\u75865\u53f7", 12);\r\n\r\n        List<User> list = new ArrayList<User>();\r\n        list.add(user1);\r\n        list.add(user2);\r\n        list.add(user3);\r\n        list.add(user4);\r\n        list.add(user5);\r\n\r\n        System.out.println("*******Java\u5bf9\u8c61 \u8f6c JSON\u5b57\u7b26\u4e32*******");\r\n        String str1 = JSON.toJSONString(list);\r\n        System.out.println("JSON.toJSONString(list)==>"+str1);\r\n        String str2 = JSON.toJSONString(user1);\r\n        System.out.println("JSON.toJSONString(user1)==>"+str2);\r\n\r\n        System.out.println("\\n****** JSON\u5b57\u7b26\u4e32 \u8f6c Java\u5bf9\u8c61*******");\r\n        User jp_user1=JSON.parseObject(str2,User.class);\r\n        System.out.println("JSON.parseObject(str2,User.class)==>"+jp_user1);\r\n\r\n        System.out.println("\\n****** Java\u5bf9\u8c61 \u8f6c JSON\u5bf9\u8c61 ******");\r\n        JSONObject jsonObject1 = (JSONObject) JSON.toJSON(user2);\r\n        System.out.println("(JSONObject) JSON.toJSON(user2)==>"+jsonObject1.getString("name"));\r\n\r\n        System.out.println("\\n****** JSON\u5bf9\u8c61 \u8f6c Java\u5bf9\u8c61 ******");\r\n        User to_java_user = JSON.toJavaObject(jsonObject1, User.class);\r\n        System.out.println("JSON.toJavaObject(jsonObject1, User.class)==>"+to_java_user);\r\n\r\n        return JSON.toJSONString(list);\r\n    }\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u8fd9\u79cd\u5de5\u5177\u7c7b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u638c\u63e1\u4f7f\u7528\u5c31\u597d\u4e86\uff0c\u5728\u4f7f\u7528\u7684\u65f6\u5019\u5728\u6839\u636e\u5177\u4f53\u7684\u4e1a\u52a1\u53bb\u627e\u5bf9\u5e94\u7684\u5b9e\u73b0\u3002\u548c\u4ee5\u524d\u7684 commons-io \u90a3\u79cd\u5de5\u5177\u5305\u4e00\u6837\uff0c\u62ff\u6765\u7528\u5c31\u597d\u4e86\uff01"}),"\n",(0,l.jsx)(e.h2,{id:"9ajax-\u7814\u7a76",children:"9\u3001Ajax \u7814\u7a76"}),"\n",(0,l.jsx)(e.h3,{id:"91\u7b80\u4ecb",children:"9.1\u3001\u7b80\u4ecb"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"AJAX = Asynchronous JavaScript and XML\uff08\u5f02\u6b65\u7684 JavaScript \u548c XML\uff09\u3002"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"AJAX \u662f\u4e00\u79cd\u5728\u65e0\u9700\u91cd\u65b0\u52a0\u8f7d\u6574\u4e2a\u7f51\u9875\u7684\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u66f4\u65b0\u90e8\u5206\u7f51\u9875\u7684\u6280\u672f\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Ajax \u4e0d\u662f\u4e00\u79cd\u65b0\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u800c\u662f\u4e00\u79cd\u7528\u4e8e\u521b\u5efa\u66f4\u597d\u66f4\u5feb\u4ee5\u53ca\u4ea4\u4e92\u6027\u66f4\u5f3a\u7684 Web \u5e94\u7528\u7a0b\u5e8f\u7684\u6280\u672f\u3002"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 2005 \u5e74\uff0cGoogle \u901a\u8fc7\u5176 Google Suggest \u4f7f AJAX \u53d8\u5f97\u6d41\u884c\u8d77\u6765\u3002Google Suggest \u80fd\u591f\u81ea\u52a8\u5e2e\u4f60\u5b8c\u6210\u641c\u7d22\u5355\u8bcd\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Google Suggest \u4f7f\u7528 AJAX \u521b\u9020\u51fa\u52a8\u6001\u6027\u6781\u5f3a\u7684 web \u754c\u9762\uff1a\u5f53\u60a8\u5728\u8c37\u6b4c\u7684\u641c\u7d22\u6846\u8f93\u5165\u5173\u952e\u5b57\u65f6\uff0cJavaScript \u4f1a\u628a\u8fd9\u4e9b\u5b57\u7b26\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u7136\u540e\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2a\u641c\u7d22\u5efa\u8bae\u7684\u5217\u8868\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5c31\u548c\u56fd\u5185\u767e\u5ea6\u7684\u641c\u7d22\u6846\u4e00\u6837!"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4f20\u7edf\u7684\u7f51\u9875(\u5373\u4e0d\u7528 ajax \u6280\u672f\u7684\u7f51\u9875)\uff0c\u60f3\u8981\u66f4\u65b0\u5185\u5bb9\u6216\u8005\u63d0\u4ea4\u4e00\u4e2a\u8868\u5355\uff0c\u90fd\u9700\u8981\u91cd\u65b0\u52a0\u8f7d\u6574\u4e2a\u7f51\u9875\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4f7f\u7528 ajax \u6280\u672f\u7684\u7f51\u9875\uff0c\u901a\u8fc7\u5728\u540e\u53f0\u670d\u52a1\u5668\u8fdb\u884c\u5c11\u91cf\u7684\u6570\u636e\u4ea4\u6362\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u5f02\u6b65\u5c40\u90e8\u66f4\u65b0\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4f7f\u7528 Ajax\uff0c\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u63a5\u8fd1\u672c\u5730\u684c\u9762\u5e94\u7528\u7684\u76f4\u63a5\u3001\u9ad8\u53ef\u7528\u3001\u66f4\u4e30\u5bcc\u3001\u66f4\u52a8\u6001\u7684 Web \u7528\u6237\u754c\u9762\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"92\u4f2a\u9020-ajax",children:"9.2\u3001\u4f2a\u9020 Ajax"}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u524d\u7aef\u7684\u4e00\u4e2a\u6807\u7b7e\u6765\u4f2a\u9020\u4e00\u4e2a ajax \u7684\u6837\u5b50\u3002iframe \u6807\u7b7e"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u65b0\u5efa\u4e00\u4e2a module \uff1asspringmvc-06-ajax \uff0c \u5bfc\u5165 web \u652f\u6301\uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a ajax-frame.html \u4f7f\u7528 iframe \u6d4b\u8bd5\uff0c\u611f\u53d7\u4e0b\u6548\u679c"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html>\r\n  <head lang="en">\r\n    <meta charset="UTF-8" />\r\n    <title>kuangshen</title>\r\n  </head>\r\n  <body>\r\n    <script type="text/javascript">\r\n      window.onload = function () {\r\n        var myDate = new Date();\r\n        document.getElementById("currentTime").innerText = myDate.getTime();\r\n      };\r\n\r\n      function LoadPage() {\r\n        var targetUrl = document.getElementById("url").value;\r\n        console.log(targetUrl);\r\n        document.getElementById("iframePosition").src = targetUrl;\r\n      }\r\n    <\/script>\r\n\r\n    <div>\r\n      <p>\u8bf7\u8f93\u5165\u8981\u52a0\u8f7d\u7684\u5730\u5740\uff1a<span id="currentTime"></span></p>\r\n      <p>\r\n        <input id="url" type="text" value="https://www.baidu.com/" />\r\n        <input type="button" value="\u63d0\u4ea4" onclick="LoadPage()" />\r\n      </p>\r\n    </div>\r\n\r\n    <div>\r\n      <h3>\u52a0\u8f7d\u9875\u9762\u4f4d\u7f6e\uff1a</h3>\r\n      <iframe\r\n        id="iframePosition"\r\n        style="width: 100%;height: 500px;"\r\n      ></iframe>\r\n    </div>\r\n  </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4f7f\u7528 IDEA \u5f00\u6d4f\u89c8\u5668\u6d4b\u8bd5\u4e00\u4e0b\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5229\u7528 AJAX \u53ef\u4ee5\u505a\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6ce8\u518c\u65f6\uff0c\u8f93\u5165\u7528\u6237\u540d\u81ea\u52a8\u68c0\u6d4b\u7528\u6237\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u767b\u9646\u65f6\uff0c\u63d0\u793a\u7528\u6237\u540d\u5bc6\u7801\u9519\u8bef"}),"\n",(0,l.jsx)(e.li,{children:"\u5220\u9664\u6570\u636e\u884c\u65f6\uff0c\u5c06\u884c ID \u53d1\u9001\u5230\u540e\u53f0\uff0c\u540e\u53f0\u5728\u6570\u636e\u5e93\u4e2d\u5220\u9664\uff0c\u6570\u636e\u5e93\u5220\u9664\u6210\u529f\u540e\uff0c\u5728\u9875\u9762 DOM \u4e2d\u5c06\u6570\u636e\u884c\u4e5f\u5220\u9664\u3002"}),"\n",(0,l.jsx)(e.li,{children:"....\u7b49\u7b49"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"93jqueryajax",children:"9.3\u3001jQuery.ajax"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7eaf JS \u539f\u751f\u5b9e\u73b0 Ajax \u6211\u4eec\u4e0d\u53bb\u8bb2\u89e3\u8fd9\u91cc\uff0c\u76f4\u63a5\u4f7f\u7528 jquery \u63d0\u4f9b\u7684\uff0c\u65b9\u4fbf\u5b66\u4e60\u548c\u4f7f\u7528\uff0c\u907f\u514d\u91cd\u590d\u9020\u8f6e\u5b50\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u4e86\u89e3\u4e0b JS \u539f\u751f XMLHttpRequest \uff01"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Ajax \u7684\u6838\u5fc3\u662f XMLHttpRequest \u5bf9\u8c61(XHR)\u3002XHR \u4e3a\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u548c\u89e3\u6790\u670d\u52a1\u5668\u54cd\u5e94\u63d0\u4f9b\u4e86\u63a5\u53e3\u3002\u80fd\u591f\u4ee5\u5f02\u6b65\u65b9\u5f0f\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u65b0\u6570\u636e\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"jQuery \u63d0\u4f9b\u591a\u4e2a\u4e0e AJAX \u6709\u5173\u7684\u65b9\u6cd5\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u901a\u8fc7 jQuery AJAX \u65b9\u6cd5\uff0c\u60a8\u80fd\u591f\u4f7f\u7528 HTTP Get \u548c HTTP Post \u4ece\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u8bf7\u6c42\u6587\u672c\u3001HTML\u3001XML \u6216 JSON \u2013 \u540c\u65f6\u60a8\u80fd\u591f\u628a\u8fd9\u4e9b\u5916\u90e8\u6570\u636e\u76f4\u63a5\u8f7d\u5165\u7f51\u9875\u7684\u88ab\u9009\u5143\u7d20\u4e2d\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"jQuery \u4e0d\u662f\u751f\u4ea7\u8005\uff0c\u800c\u662f\u5927\u81ea\u7136\u642c\u8fd0\u5de5\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"jQuery Ajax \u672c\u8d28\u5c31\u662f XMLHttpRequest\uff0c\u5bf9\u4ed6\u8fdb\u884c\u4e86\u5c01\u88c5\uff0c\u65b9\u4fbf\u8c03\u7528\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:'jQuery.ajax(...)\r\n      \u90e8\u5206\u53c2\u6570\uff1a\r\n            url\uff1a\u8bf7\u6c42\u5730\u5740\r\n            type\uff1a\u8bf7\u6c42\u65b9\u5f0f\uff0cGET\u3001POST\uff081.9.0\u4e4b\u540e\u7528method\uff09\r\n        headers\uff1a\u8bf7\u6c42\u5934\r\n            data\uff1a\u8981\u53d1\u9001\u7684\u6570\u636e\r\n    contentType\uff1a\u5373\u5c06\u53d1\u9001\u4fe1\u606f\u81f3\u670d\u52a1\u5668\u7684\u5185\u5bb9\u7f16\u7801\u7c7b\u578b(\u9ed8\u8ba4: "application/x-www-form-urlencoded; charset=UTF-8")\r\n          async\uff1a\u662f\u5426\u5f02\u6b65\r\n        timeout\uff1a\u8bbe\u7f6e\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\r\n      beforeSend\uff1a\u53d1\u9001\u8bf7\u6c42\u524d\u6267\u884c\u7684\u51fd\u6570(\u5168\u5c40)\r\n        complete\uff1a\u5b8c\u6210\u4e4b\u540e\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570(\u5168\u5c40)\r\n        success\uff1a\u6210\u529f\u4e4b\u540e\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570(\u5168\u5c40)\r\n          error\uff1a\u5931\u8d25\u4e4b\u540e\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570(\u5168\u5c40)\r\n        accepts\uff1a\u901a\u8fc7\u8bf7\u6c42\u5934\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff0c\u544a\u8bc9\u670d\u52a1\u5668\u5f53\u524d\u5ba2\u6237\u7aef\u53ef\u63a5\u53d7\u7684\u6570\u636e\u7c7b\u578b\r\n        dataType\uff1a\u5c06\u670d\u52a1\u5668\u7aef\u8fd4\u56de\u7684\u6570\u636e\u8f6c\u6362\u6210\u6307\u5b9a\u7c7b\u578b\r\n          "xml": \u5c06\u670d\u52a1\u5668\u7aef\u8fd4\u56de\u7684\u5185\u5bb9\u8f6c\u6362\u6210xml\u683c\u5f0f\r\n          "text": \u5c06\u670d\u52a1\u5668\u7aef\u8fd4\u56de\u7684\u5185\u5bb9\u8f6c\u6362\u6210\u666e\u901a\u6587\u672c\u683c\u5f0f\r\n          "html": \u5c06\u670d\u52a1\u5668\u7aef\u8fd4\u56de\u7684\u5185\u5bb9\u8f6c\u6362\u6210\u666e\u901a\u6587\u672c\u683c\u5f0f\uff0c\u5728\u63d2\u5165DOM\u4e2d\u65f6\uff0c\u5982\u679c\u5305\u542bJavaScript\u6807\u7b7e\uff0c\u5219\u4f1a\u5c1d\u8bd5\u53bb\u6267\u884c\u3002\r\n        "script": \u5c1d\u8bd5\u5c06\u8fd4\u56de\u503c\u5f53\u4f5cJavaScript\u53bb\u6267\u884c\uff0c\u7136\u540e\u518d\u5c06\u670d\u52a1\u5668\u7aef\u8fd4\u56de\u7684\u5185\u5bb9\u8f6c\u6362\u6210\u666e\u901a\u6587\u672c\u683c\u5f0f\r\n          "json": \u5c06\u670d\u52a1\u5668\u7aef\u8fd4\u56de\u7684\u5185\u5bb9\u8f6c\u6362\u6210\u76f8\u5e94\u7684JavaScript\u5bf9\u8c61\r\n        "jsonp": JSONP \u683c\u5f0f\u4f7f\u7528 JSONP \u5f62\u5f0f\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u5982 "myurl?callback=?" jQuery \u5c06\u81ea\u52a8\u66ff\u6362 ? \u4e3a\u6b63\u786e\u7684\u51fd\u6570\u540d\uff0c\u4ee5\u6267\u884c\u56de\u8c03\u51fd\u6570\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6211\u4eec\u6765\u4e2a\u7b80\u5355\u7684\u6d4b\u8bd5\uff0c\u4f7f\u7528\u6700\u539f\u59cb\u7684 HttpServletResponse \u5904\u7406 , .\u6700\u7b80\u5355 , \u6700\u901a\u7528"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e web.xml \u548c springmvc \u7684\u914d\u7f6e\u6587\u4ef6\u3010\u8bb0\u5f97\u9759\u6001\u8d44\u6e90\u8fc7\u6ee4\u548c\u6ce8\u89e3\u9a71\u52a8\u914d\u7f6e\u4e0a\u3011"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<beans xmlns="http://www.springframework.org/schema/beans"\r\n      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n      xmlns:context="http://www.springframework.org/schema/context"\r\n      xmlns:mvc="http://www.springframework.org/schema/mvc"\r\n      xsi:schemaLocation="http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       https://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc\r\n       https://www.springframework.org/schema/mvc/spring-mvc.xsd">\r\n\r\n   \x3c!-- \u81ea\u52a8\u626b\u63cf\u6307\u5b9a\u7684\u5305\uff0c\u4e0b\u9762\u6240\u6709\u6ce8\u89e3\u7c7b\u4ea4\u7ed9IOC\u5bb9\u5668\u7ba1\u7406 --\x3e\r\n   <context:component-scan base-package="com.kuang.controller"/>\r\n    \x3c!--\u9759\u6001\u8d44\u6e90\u8fc7\u6ee4--\x3e\r\n   <mvc:default-servlet-handler />\r\n    \x3c!--\u6ce8\u89e3\u9a71\u52a8\u914d--\x3e\r\n   <mvc:annotation-driven />\r\n\r\n   \x3c!-- \u89c6\u56fe\u89e3\u6790\u5668 --\x3e\r\n   <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"\r\n         id="internalResourceViewResolver">\r\n       \x3c!-- \u524d\u7f00 --\x3e\r\n       <property name="prefix" value="/WEB-INF/jsp/" />\r\n       \x3c!-- \u540e\u7f00 --\x3e\r\n       <property name="suffix" value=".jsp" />\r\n   </bean>\r\n\r\n</beans>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a AjaxController"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\npublic class AjaxController {\r\n\r\n   @RequestMapping("/a1")\r\n   public void ajax1(String name , HttpServletResponse response) throws IOException {\r\n       if ("admin".equals(name)){\r\n           response.getWriter().print("true");\r\n      }else{\r\n           response.getWriter().print("false");\r\n      }\r\n  }\r\n\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5bfc\u5165 jquery \uff0c \u53ef\u4ee5\u4f7f\u7528\u5728\u7ebf\u7684 CDN \uff0c \u4e5f\u53ef\u4ee5\u4e0b\u8f7d\u5bfc\u5165"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:'<script src="https://code.jquery.com/jquery-3.1.1.min.js"><\/script>\r\n<script src="${pageContext.request.contextPath}/statics/js/jquery-3.1.1.min.js"><\/script>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199 index.jsp \u6d4b\u8bd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n <head>\r\n   <title>$Title$</title>\r\n  <%--<script src="https://code.jquery.com/jquery-3.1.1.min.js"><\/script>--%>\r\n   <script src="${pageContext.request.contextPath}/statics/js/jquery-3.1.1.min.js"><\/script>\r\n   <script>\r\n       function a1(){\r\n           $.post({\r\n               url:"${pageContext.request.contextPath}/a1",\r\n               data:{\'name\':$("#txtName").val()},\r\n               success:function (data,status) {\r\n                   alert(data);\r\n                   alert(status);\r\n              }\r\n          });\r\n      }\r\n   <\/script>\r\n </head>\r\n <body>\r\n\r\n<%--onblur\uff1a\u5931\u53bb\u7126\u70b9\u89e6\u53d1\u4e8b\u4ef6--%>\r\n\u7528\u6237\u540d:<input type="text" id="txtName" onblur="a1()"/>\r\n\r\n </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u542f\u52a8 tomcat \u6d4b\u8bd5\uff01\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u63a7\u5236\u53f0\uff0c\u5f53\u6211\u4eec\u9f20\u6807\u79bb\u5f00\u8f93\u5165\u6846\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u770b\u5230\u53d1\u51fa\u4e86\u4e00\u4e2a ajax \u7684\u8bf7\u6c42\uff01\u662f\u540e\u53f0\u8fd4\u56de\u7ed9\u6211\u4eec\u7684\u7ed3\u679c\uff01\u6d4b\u8bd5\u6210\u529f\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.h3,{id:"94springmvc-\u5b9e\u73b0",children:["9.4\u3001",(0,l.jsx)(e.strong,{children:"Springmvc \u5b9e\u73b0"})]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5b9e\u4f53\u7c7b user\uff08\u4f7f\u7528\u4e86 lombok \u63d2\u4ef6\uff0c\u53ef\u4ee5\u81ea\u5df1\u5199\u5b9e\u73b0\u7c7b\u65b9\u6cd5\uff09"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n\r\n   private String name;\r\n   private int age;\r\n   private String sex;\r\n\r\n}\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u6765\u83b7\u53d6\u4e00\u4e2a\u96c6\u5408\u5bf9\u8c61\uff0c\u5c55\u793a\u5230\u524d\u7aef\u9875\u9762"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/a2")\r\npublic List<User> ajax2(){\r\n   List<User> list = new ArrayList<User>();\r\n   list.add(new User("\u79e6\u75861\u53f7",3,"\u7537"));\r\n   list.add(new User("\u79e6\u75862\u53f7",3,"\u7537"));\r\n   list.add(new User("\u79e6\u75863\u53f7",3,"\u7537"));\r\n   return list; //\u7531\u4e8e@RestController\u6ce8\u89e3\uff0c\u5c06list\u8f6c\u6210json\u683c\u5f0f\u8fd4\u56de\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u524d\u7aef\u9875\u9762"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n<head>\r\n    <title>Title</title>\r\n    <script src="${pageContext.request.contextPath}/static/js/jquery-3.4.1.js"><\/script>\r\n    <script>\r\n        $(function () {\r\n            $("#btn").click(function () {\r\n                // console.log(\'\u70b9\u51fb\u4e8b\u4ef6\u6210\u529f\')\r\n                // $.post(url,param,[\u53ef\u4ee5\u7701\u7565],success)\r\n                $.post("${pageContext.request.contextPath}/a2",function (data) {\r\n                    console.log(data[0].name);\r\n                    let html =  "";\r\n                    for (let i = 0; i < data.length; i++) {\r\n                        html += `<tr>\r\n                                    <td>${"${data[i].name}"}</td>\r\n                                    <td>${"${data[i].age}"}</td>\r\n                                    <td>${"${data[i].sex}"}</td>\r\n                                </tr>`\r\n                    }\r\n                    $("#content").html(html)\r\n                    console.log(html)\r\n                })\r\n            })\r\n        })\r\n    <\/script>\r\n</head>\r\n<body>\r\n<input type="button" value="\u52a0\u8f7d\u6570\u636e" id="btn">\r\n<table>\r\n    <thead>\r\n        <tr>\r\n            <td>\u59d3\u540d</td>\r\n            <td>\u5e74\u9f84</td>\r\n            <td>\u6027\u522b</td>\r\n        </tr>\r\n    </thead>\r\n    <tbody id="content">\r\n        <%--\u6570\u636e\uff1a\u540e\u53f0--%>\r\n    </tbody>\r\n</table>\r\n</body>\r\n</html>\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6210\u529f\u5b9e\u73b0\u4e86\u6570\u636e\u56de\u663e\uff01\u53ef\u4ee5\u4f53\u4f1a\u4e00\u4e0b Ajax \u7684\u597d\u5904\uff01"})}),"\n",(0,l.jsx)(e.h3,{id:"95\u6ce8\u518c\u63d0\u793a\u6548\u679c",children:"9.5\u3001\u6ce8\u518c\u63d0\u793a\u6548\u679c"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u5199\u4e00\u4e2a Controller"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping("/a3")\r\npublic String ajax3(String name,String pwd){\r\n   String msg = "";\r\n   //\u6a21\u62df\u6570\u636e\u5e93\u4e2d\u5b58\u5728\u6570\u636e\r\n   if (name!=null){\r\n       if ("admin".equals(name)){\r\n           msg = "OK";\r\n      }else {\r\n           msg = "\u7528\u6237\u540d\u8f93\u5165\u9519\u8bef";\r\n      }\r\n  }\r\n   if (pwd!=null){\r\n       if ("123456".equals(pwd)){\r\n           msg = "OK";\r\n      }else {\r\n           msg = "\u5bc6\u7801\u8f93\u5165\u6709\u8bef";\r\n      }\r\n  }\r\n   return msg; //\u7531\u4e8e@RestController\u6ce8\u89e3\uff0c\u5c06msg\u8f6c\u6210json\u683c\u5f0f\u8fd4\u56de\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u524d\u7aef\u9875\u9762 login.jsp"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n<head>\r\n   <title>ajax</title>\r\n   <script src="${pageContext.request.contextPath}/statics/js/jquery-3.1.1.min.js"><\/script>\r\n   <script>\r\n\r\n       function a1(){\r\n           $.post({\r\n               url:"${pageContext.request.contextPath}/a3",\r\n               data:{\'name\':$("#name").val()},\r\n               success:function (data) {\r\n                   if (data.toString()==\'OK\'){\r\n                       $("#userInfo").css("color","green");\r\n                  }else {\r\n                       $("#userInfo").css("color","red");\r\n                  }\r\n                   $("#userInfo").html(data);\r\n              }\r\n          });\r\n      }\r\n       function a2(){\r\n           $.post({\r\n               url:"${pageContext.request.contextPath}/a3",\r\n               data:{\'pwd\':$("#pwd").val()},\r\n               success:function (data) {\r\n                   if (data.toString()==\'OK\'){\r\n                       $("#pwdInfo").css("color","green");\r\n                  }else {\r\n                       $("#pwdInfo").css("color","red");\r\n                  }\r\n                   $("#pwdInfo").html(data);\r\n              }\r\n          });\r\n      }\r\n\r\n   <\/script>\r\n</head>\r\n<body>\r\n<p>\r\n  \u7528\u6237\u540d:<input type="text" id="name" onblur="a1()"/>\r\n   <span id="userInfo"></span>\r\n</p>\r\n<p>\r\n  \u5bc6\u7801:<input type="text" id="pwd" onblur="a2()"/>\r\n   <span id="pwdInfo"></span>\r\n</p>\r\n</body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.font,{color:"red",children:"\u8bb0\u5f97\u5904\u7406 json \u4e71\u7801\u95ee\u9898"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!--JSON\u4e71\u7801\u95ee\u9898\u914d\u7f6e--\x3e\r\n    <mvc:annotation-driven>\r\n        <mvc:message-converters register-defaults="true">\r\n            <bean class="org.springframework.http.converter.StringHttpMessageConverter">\r\n                <constructor-arg value="UTF-8"/>\r\n            </bean>\r\n            <bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">\r\n                <property name="objectMapper">\r\n                    <bean class="org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean">\r\n                        <property name="failOnEmptyBeans" value="false"/>\r\n                    </bean>\r\n                </property>\r\n            </bean>\r\n        </mvc:message-converters>\r\n    </mvc:annotation-driven>\r\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6d4b\u8bd5\u4e00\u4e0b\u6548\u679c\uff0c\u52a8\u6001\u8bf7\u6c42\u54cd\u5e94\uff0c\u5c40\u90e8\u5237\u65b0\uff0c\u5c31\u662f\u5982\u6b64\uff01"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/4fafda144db80cd33980796abc74ef11.png",alt:"1595137816208"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"96\u83b7\u53d6-baidu-\u63a5\u53e3-demo",children:"9.6\u3001\u83b7\u53d6 baidu \u63a5\u53e3 Demo"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"JSONP.html"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n    <title>JSONP\u767e\u5ea6\u641c\u7d22</title>\r\n    <style>\r\n      #q {\r\n        width: 500px;\r\n        height: 30px;\r\n        border: 1px solid #ddd;\r\n        line-height: 30px;\r\n        display: block;\r\n        margin: 0 auto;\r\n        padding: 0 10px;\r\n        font-size: 14px;\r\n      }\r\n      #ul {\r\n        width: 520px;\r\n        list-style: none;\r\n        margin: 0 auto;\r\n        padding: 0;\r\n        border: 1px solid #ddd;\r\n        margin-top: -1px;\r\n        display: none;\r\n      }\r\n      #ul li {\r\n        line-height: 30px;\r\n        padding: 0 10px;\r\n      }\r\n      #ul li:hover {\r\n        background-color: #f60;\r\n        color: #fff;\r\n      }\r\n    </style>\r\n    <script>\r\n      // 2.\u6b65\u9aa4\u4e8c\r\n      // \u5b9a\u4e49demo\u51fd\u6570 (\u5206\u6790\u63a5\u53e3\u3001\u6570\u636e)\r\n      function demo(data) {\r\n        var Ul = document.getElementById("ul");\r\n        var html = "";\r\n        // \u5982\u679c\u641c\u7d22\u6570\u636e\u5b58\u5728 \u628a\u5185\u5bb9\u6dfb\u52a0\u8fdb\u53bb\r\n        if (data.s.length) {\r\n          // \u9690\u85cf\u6389\u7684ul\u663e\u793a\u51fa\u6765\r\n          Ul.style.display = "block";\r\n          // \u641c\u7d22\u5230\u7684\u6570\u636e\u5faa\u73af\u8ffd\u52a0\u5230li\u91cc\r\n          for (var i = 0; i < data.s.length; i++) {\r\n            html += "<li>" + data.s[i] + "</li>";\r\n          }\r\n          // \u5faa\u73af\u7684li\u5199\u5165ul\r\n          Ul.innerHTML = html;\r\n        }\r\n      }\r\n\r\n      // 1.\u6b65\u9aa4\u4e00\r\n      window.onload = function () {\r\n        // \u83b7\u53d6\u8f93\u5165\u6846\u548cul\r\n        var Q = document.getElementById("q");\r\n        var Ul = document.getElementById("ul");\r\n\r\n        // \u4e8b\u4ef6\u9f20\u6807\u62ac\u8d77\u65f6\u5019\r\n        Q.onkeyup = function () {\r\n          // \u5982\u679c\u8f93\u5165\u6846\u4e0d\u7b49\u4e8e\u7a7a\r\n          if (this.value != "") {\r\n            // \u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606JSONPz\u91cd\u70b9\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\u2606\r\n            // \u521b\u5efa\u6807\u7b7e\r\n            var script = document.createElement("script");\r\n            //\u7ed9\u5b9a\u8981\u8de8\u57df\u7684\u5730\u5740 \u8d4b\u503c\u7ed9src\r\n            //\u8fd9\u91cc\u662f\u8981\u8bf7\u6c42\u7684\u8de8\u57df\u7684\u5730\u5740 \u6211\u5199\u7684\u662f\u767e\u5ea6\u641c\u7d22\u7684\u8de8\u57df\u5730\u5740\r\n            script.src =\r\n              "https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=" +\r\n              this.value +\r\n              "&cb=demo";\r\n            // \u5c06\u7ec4\u5408\u597d\u7684\u5e26src\u7684script\u6807\u7b7e\u8ffd\u52a0\u5230body\u91cc\r\n            document.body.appendChild(script);\r\n          }\r\n        };\r\n      };\r\n    <\/script>\r\n  </head>\r\n\r\n  <body>\r\n    <input type="text" id="q" />\r\n    <ul id="ul"></ul>\r\n  </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6d4b\u8bd5"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/4bf632d2d6c16a92216ee9995bef3d36.png",alt:"1595138107341"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"10\u62e6\u622a\u5668",children:"10\u3001\u62e6\u622a\u5668"}),"\n",(0,l.jsx)(e.h3,{id:"101\u6982\u8ff0",children:"10.1\u3001\u6982\u8ff0"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"SpringMVC \u7684\u5904\u7406\u5668\u62e6\u622a\u5668\u7c7b\u4f3c\u4e8e Servlet \u5f00\u53d1\u4e2d\u7684\u8fc7\u6ee4\u5668 Filter,\u7528\u4e8e\u5bf9\u5904\u7406\u5668\u8fdb\u884c\u9884\u5904\u7406\u548c\u540e\u5904\u7406\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5f00\u53d1\u8005\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u4e00\u4e9b\u62e6\u622a\u5668\u6765\u5b9e\u73b0\u7279\u5b9a\u7684\u529f\u80fd\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["**\u8fc7\u6ee4\u5668\u4e0e\u62e6\u622a\u5668\u7684\u533a\u522b\uff1a**\u62e6\u622a\u5668\u662f",(0,l.jsx)(e.font,{color:"red",children:"AOP \u601d\u60f3"}),"\u7684\u5177\u4f53\u5e94\u7528\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8fc7\u6ee4\u5668"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"servlet \u89c4\u8303\u4e2d\u7684\u4e00\u90e8\u5206\uff0c\u4efb\u4f55 javaweb \u5de5\u7a0b\u90fd\u53ef\u4ee5\u4f7f\u7528"}),"\n",(0,l.jsx)(e.li,{children:"\u5728 url-pattern \u4e2d\u914d\u7f6e\u4e86/*\u4e4b\u540e\uff0c\u53ef\u4ee5\u5bf9\u6240\u6709\u8981\u8bbf\u95ee\u7684\u8d44\u6e90\u8fdb\u884c\u62e6\u622a"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u62e6\u622a\u5668"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u62e6\u622a\u5668\u662f SpringMVC \u6846\u67b6\u81ea\u5df1\u7684\uff0c\u53ea\u6709\u4f7f\u7528\u4e86 SpringMVC \u6846\u67b6\u7684\u5de5\u7a0b\u624d\u80fd\u4f7f\u7528"}),"\n",(0,l.jsx)(e.li,{children:"\u62e6\u622a\u5668\u53ea\u4f1a\u62e6\u622a\u8bbf\u95ee\u7684\u63a7\u5236\u5668\u65b9\u6cd5\uff0c \u5982\u679c\u8bbf\u95ee\u7684\u662f jsp/html/css/image/js \u662f\u4e0d\u4f1a\u8fdb\u884c\u62e6\u622a\u7684"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"102\u81ea\u5b9a\u4e49\u62e6\u622a\u5668",children:"10.2\u3001\u81ea\u5b9a\u4e49\u62e6\u622a\u5668"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u65b0\u5efa\u4e00\u4e2a Moudule \uff0c springmvc-Interceptor \uff0c \u6dfb\u52a0 web \u652f\u6301"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e web.xml \u548c springmvc-servlet.xml \u6587\u4ef6"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u7f16\u5199\u4e00\u4e2a\u62e6\u622a\u5668\uff08\u5fc5\u987b\u5b9e\u73b0",(0,l.jsx)(e.font,{color:"red",children:" HandlerInterceptor \u63a5\u53e3"}),"\uff09"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.T_Lyon.config;\r\n\r\nimport org.springframework.web.servlet.HandlerInterceptor;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\npublic class MyInterceptor implements HandlerInterceptor {\r\n    //return true; \u6267\u884c\u4e0b\u4e00\u4e2a\u62e6\u622a\u5668\uff0c\u653e\u884c\r\n    //return false; \u4e0d\u6267\u884c\u4e0b\u4e00\u4e2a\u62e6\u622a\u5668\uff0c\u62e6\u622a\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        System.out.println("===========\u5904\u7406\u524d===========");\r\n        return true;\r\n    }\r\n    //\u65e5\u5fd7\r\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\r\n        System.out.println("===========\u5904\u7406\u540e===========");\r\n\r\n    }\r\n    //\u65e5\u5fd7\r\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\r\n        System.out.println("===========\u6e05\u7406===========");\r\n\r\n    }\r\n}\r\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 springmvc \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u62e6\u622a\u5668"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!--\u62e6\u622a\u5668\u914d\u7f6e--\x3e\r\n<mvc:interceptors>\r\n    <mvc:interceptor>\r\n        \x3c!--\u5305\u62ec\u8fd9\u4e2a\u8bf7\u6c42\u4e0b\u9762\u7684\u6240\u6709\u8bf7\u6c42--\x3e\r\n        <mvc:mapping path="/**"/>\r\n        <bean class="com.T_Lyon.config.MyInterceptor"/>\r\n    </mvc:interceptor>\r\n\r\n</mvc:interceptors>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a Controller\uff0c\u63a5\u6536\u8bf7\u6c42"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.T_Lyon.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class TestController {\r\n    @GetMapping("/t1")\r\n    public String test() {\r\n        System.out.println("TestController.test");\r\n        return "ok";\r\n    }\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u542f\u52a8 tomcat \u6d4b\u8bd5\u4e00\u4e0b\uff01(",(0,l.jsx)(e.a,{href:"http://localhost:8888/t1",children:"http://localhost:8888/t1"}),")"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"103\u9a8c\u8bc1\u7528\u6237\u662f\u5426\u767b\u5f55-\u8ba4\u8bc1\u7528\u6237",children:"10.3\u3001\u9a8c\u8bc1\u7528\u6237\u662f\u5426\u767b\u5f55 (\u8ba4\u8bc1\u7528\u6237)"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5b9e\u73b0\u601d\u8def"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6709\u4e00\u4e2a\u767b\u9646\u9875\u9762\uff0c\u9700\u8981\u5199\u4e00\u4e2a controller \u8bbf\u95ee\u9875\u9762\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u767b\u9646\u9875\u9762\u6709\u4e00\u63d0\u4ea4\u8868\u5355\u7684\u52a8\u4f5c\u3002\u9700\u8981\u5728 controller \u4e2d\u5904\u7406\u3002\u5224\u65ad\u7528\u6237\u540d\u5bc6\u7801\u662f\u5426\u6b63\u786e\u3002\u5982\u679c\u6b63\u786e\uff0c\u5411 session \u4e2d\u5199\u5165\u7528\u6237\u4fe1\u606f\u3002",(0,l.jsx)(e.em,{children:"\u8fd4\u56de\u767b\u9646\u6210\u529f\u3002"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u62e6\u622a\u7528\u6237\u8bf7\u6c42\uff0c\u5224\u65ad\u7528\u6237\u662f\u5426\u767b\u9646\u3002\u5982\u679c\u7528\u6237\u5df2\u7ecf\u767b\u9646\u3002\u653e\u884c\uff0c \u5982\u679c\u7528\u6237\u672a\u767b\u9646\uff0c\u8df3\u8f6c\u5230\u767b\u9646\u9875\u9762"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6d4b\u8bd5\uff1a"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a\u767b\u9646\u9875\u9762 login.jsp"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n<head>\r\n    <title>\u767b\u5f55</title>\r\n</head>\r\n<body>\r\n<%--\u5728web-inf\u4e0b\u9762\u7684\u6240\u6709\u9875\u9762\u6216\u8005\u8d44\u6e90\uff0c\u53ea\u80fd\u901a\u8fc7controller\u6216\u8005Servlet\u8fdb\u884c\u8bbf\u95ee--%>\r\n<h1>\u767b\u5f55\u9875\u9762</h1>\r\n\r\n<form action="${pageContext.request.contextPath}/user/login" method="post">\r\n    \u7528\u6237\u540d\uff1a<input type="text" name="username">\r\n    \u5bc6\u7801\uff1a<input type="text" name="password">\r\n    <input type="submit" value="\u63d0\u4ea4">\r\n</form>\r\n</body>\r\n</html>\r\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a Controller \u5904\u7406\u8bf7\u6c42"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Controller\r\n@RequestMapping("/user")\r\npublic class LoginController {\r\n    @RequestMapping("/main")\r\n    public String main() {\r\n        return "main";\r\n    }\r\n\r\n    @RequestMapping("/goLogin")\r\n    public String login() {\r\n        return "login";\r\n    }\r\n    @RequestMapping("/login")\r\n    public String login(HttpSession session, String username, String password, Model model) {\r\n\r\n        //\u628a\u7528\u6237\u7684\u4fe1\u606f\u5b58\u5728session\u4e2d\r\n        session.setAttribute("userLoginInfo",username);\r\n        model.addAttribute("password",password);\r\n        model.addAttribute("username",username);\r\n        return "main";\r\n    }\r\n\r\n    @RequestMapping("/goOut")\r\n    public String goOut(HttpSession sessionl) {\r\n        sessionl.removeAttribute("userLoginInfo");\r\n        return "login";\r\n    }\r\n}\r\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u4e00\u4e2a\u767b\u9646\u6210\u529f\u7684\u9875\u9762 main.jsp"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n<head>\r\n    <title>\u9996\u9875</title>\r\n</head>\r\n<body>\r\n<h1>\u9996\u9875</h1>\r\n<span>${password}</span>\r\n<span>${username}</span>\r\n\r\n<p>\r\n    <a href="${pageContext.request.contextPath}/user/goOut">\u6ce8\u9500</a>\r\n</p>\r\n\r\n</body>\r\n</html>\r\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 index \u9875\u9762\u4e0a\u6d4b\u8bd5\u8df3\u8f6c\uff01\u542f\u52a8 Tomcat \u6d4b\u8bd5\uff0c\u672a\u767b\u5f55\u4e5f\u53ef\u4ee5\u8fdb\u5165\u4e3b\u9875\uff01"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\r\n<html>\r\n<head>\r\n  <title>index</title>\r\n</head>\r\n<body>\r\n<h1><a href="${pageContext.request.contextPath}/user/goLogin">\u767b\u5f55\u9875\u9762</a></h1>\r\n<h1><a href="${pageContext.request.contextPath}/user/main">\u9996\u9875</a></h1>\r\n\r\n</body>\r\n</html>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u7528\u6237\u767b\u5f55\u62e6\u622a\u5668"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.T_Lyon.config;\r\n\r\nimport org.springframework.web.servlet.HandlerInterceptor;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\n\r\npublic class LoginInterceptor implements HandlerInterceptor {\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        HttpSession session = request.getSession();\r\n        //\u653e\u884c:\u5224\u65ad\u4ec0\u4e48\u60c5\u51b5\u4e0b\u767b\u5f55\r\n\r\n        //\u767b\u5f55\u9875\u9762\u4e5f\u4f1a\u653e\u884c\r\n        if (request.getRequestURI().contains("goLogin")) {\r\n            return true;\r\n        }\r\n        if (request.getRequestURI().contains("login")) {\r\n            return true;\r\n        }\r\n        if (session.getAttribute("userLoginInfo") != null) {\r\n            return true;\r\n        }\r\n        //\u5224\u65ad\u4ec0\u4e48\u60c5\u51b5\u4e0b\u6ca1\u6709\u767b\u5f55\r\n        request.getRequestDispatcher("/WEB-INF/jsp/login.jsp").forward(request,response);\r\n        return false;\r\n    }\r\n}\r\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728 Springmvc \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u6ce8\u518c\u62e6\u622a\u5668"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!--\u5173\u4e8e\u62e6\u622a\u5668\u7684\u914d\u7f6e--\x3e\r\n<mvc:interceptors>\r\n   <mvc:interceptor>\r\n       <mvc:mapping path="/**"/>\r\n       <bean id="loginInterceptor" class="com.kuang.interceptor.LoginInterceptor"/>\r\n   </mvc:interceptor>\r\n</mvc:interceptors>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u518d\u6b21\u91cd\u542f Tomcat \u6d4b\u8bd5\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"OK\uff0c\u6d4b\u8bd5\u767b\u5f55\u62e6\u622a\u529f\u80fd\u65e0\u8bef."})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/591c0c871c1b27f37ef7959985daf47a.png",alt:"1595139309383"})}),"\n",(0,l.jsx)(e.h2,{id:"11\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d",children:"11\u3001\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d"}),"\n",(0,l.jsx)(e.h3,{id:"111\u51c6\u5907\u5de5\u4f5c",children:"11.1\u3001\u51c6\u5907\u5de5\u4f5c"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6587\u4ef6\u4e0a\u4f20\u662f\u9879\u76ee\u5f00\u53d1\u4e2d\u6700\u5e38\u89c1\u7684\u529f\u80fd\u4e4b\u4e00 ,springMVC \u53ef\u4ee5\u5f88\u597d\u7684\u652f\u6301\u6587\u4ef6\u4e0a\u4f20\u3002"}),"\n",(0,l.jsx)(e.li,{children:"SpringMVC \u4e0a\u4e0b\u6587\u4e2d\u9ed8\u8ba4\u6ca1\u6709\u88c5\u914d MultipartResolver\uff0c\u56e0\u6b64\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5176\u4e0d\u80fd\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u5de5\u4f5c\u3002\u5982\u679c\u60f3\u4f7f\u7528 Spring \u7684\u6587\u4ef6\u4e0a\u4f20\u529f\u80fd\uff0c\u5219\u9700\u8981\u5728\u4e0a\u4e0b\u6587\u4e2d\u914d\u7f6e MultipartResolver\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u524d\u7aef\u8868\u5355\u8981\u6c42\uff1a\u4e3a\u4e86\u80fd\u4e0a\u4f20\u6587\u4ef6\uff0c\u5fc5\u987b\u5c06\u8868\u5355\u7684 method \u8bbe\u7f6e\u4e3a POST\uff0c\u5e76\u5c06 enctype \u8bbe\u7f6e\u4e3a multipart/form-data\u3002\u53ea\u6709\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u628a\u7528\u6237\u9009\u62e9\u7684\u6587\u4ef6\u4ee5\u4e8c\u8fdb\u5236\u6570\u636e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff1b"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5bf9\u8868\u5355\u4e2d\u7684 enctype \u5c5e\u6027\u505a\u4e2a\u8be6\u7ec6\u7684\u8bf4\u660e\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"application/x-www=form-urlencoded\uff1a\u9ed8\u8ba4\u65b9\u5f0f\uff0c\u53ea\u5904\u7406\u8868\u5355\u57df\u4e2d\u7684 value \u5c5e\u6027\u503c\uff0c\u91c7\u7528\u8fd9\u79cd\u7f16\u7801\u65b9\u5f0f\u7684\u8868\u5355\u4f1a\u5c06\u8868\u5355\u57df\u4e2d\u7684\u503c\u5904\u7406\u6210 URL \u7f16\u7801\u65b9\u5f0f\u3002"}),"\n",(0,l.jsx)(e.li,{children:"multipart/form-data\uff1a\u8fd9\u79cd\u7f16\u7801\u65b9\u5f0f\u4f1a\u4ee5\u4e8c\u8fdb\u5236\u6d41\u7684\u65b9\u5f0f\u6765\u5904\u7406\u8868\u5355\u6570\u636e\uff0c\u8fd9\u79cd\u7f16\u7801\u65b9\u5f0f\u4f1a\u628a\u6587\u4ef6\u57df\u6307\u5b9a\u6587\u4ef6\u7684\u5185\u5bb9\u4e5f\u5c01\u88c5\u5230\u8bf7\u6c42\u53c2\u6570\u4e2d\uff0c\u4e0d\u4f1a\u5bf9\u5b57\u7b26\u7f16\u7801\u3002"}),"\n",(0,l.jsx)(e.li,{children:'text/plain\uff1a\u9664\u4e86\u628a\u7a7a\u683c\u8f6c\u6362\u4e3a "+" \u53f7\u5916\uff0c\u5176\u4ed6\u5b57\u7b26\u90fd\u4e0d\u505a\u7f16\u7801\u5904\u7406\uff0c\u8fd9\u79cd\u65b9\u5f0f\u9002\u7528\u76f4\u63a5\u901a\u8fc7\u8868\u5355\u53d1\u9001\u90ae\u4ef6\u3002'}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<form action="" enctype="multipart/form-data" method="post">\r\n  <input type="file" name="file" />\r\n  <input type="submit" />\r\n</form>\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u4e00\u65e6\u8bbe\u7f6e\u4e86 enctype \u4e3a multipart/form-data\uff0c\u6d4f\u89c8\u5668\u5373\u4f1a\u91c7\u7528\u4e8c\u8fdb\u5236\u6d41\u7684\u65b9\u5f0f\u6765\u5904\u7406\u8868\u5355\u6570\u636e\uff0c\u800c\u5bf9\u4e8e\u6587\u4ef6\u4e0a\u4f20\u7684\u5904\u7406\u5219\u6d89\u53ca\u5728\u670d\u52a1\u5668\u7aef\u89e3\u6790\u539f\u59cb\u7684 HTTP \u54cd\u5e94\u3002\u5728 2003 \u5e74\uff0cApache Software Foundation \u53d1\u5e03\u4e86\u5f00\u6e90\u7684 Commons FileUpload \u7ec4\u4ef6\uff0c\u5176\u5f88\u5feb\u6210\u4e3a Servlet/JSP \u7a0b\u5e8f\u5458\u4e0a\u4f20\u6587\u4ef6\u7684\u6700\u4f73\u9009\u62e9\u3002"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Servlet3.0 \u89c4\u8303\u5df2\u7ecf\u63d0\u4f9b\u65b9\u6cd5\u6765\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\uff0c\u4f46\u8fd9\u79cd\u4e0a\u4f20\u9700\u8981\u5728 Servlet \u4e2d\u5b8c\u6210\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u800c Spring MVC \u5219\u63d0\u4f9b\u4e86\u66f4\u7b80\u5355\u7684\u5c01\u88c5\u3002"}),"\n",(0,l.jsx)(e.li,{children:"Spring MVC \u4e3a\u6587\u4ef6\u4e0a\u4f20\u63d0\u4f9b\u4e86\u76f4\u63a5\u7684\u652f\u6301\uff0c\u8fd9\u79cd\u652f\u6301\u662f\u7528\u5373\u63d2\u5373\u7528\u7684 MultipartResolver \u5b9e\u73b0\u7684\u3002"}),"\n",(0,l.jsx)(e.li,{children:"Spring MVC \u4f7f\u7528 Apache Commons FileUpload \u6280\u672f\u5b9e\u73b0\u4e86\u4e00\u4e2a MultipartResolver \u5b9e\u73b0\u7c7b\uff1a"}),"\n",(0,l.jsxs)(e.li,{children:["CommonsMultipartResolver\u3002\u56e0\u6b64\uff0c",(0,l.jsx)(e.font,{color:"red",children:"SpringMVC \u7684\u6587\u4ef6\u4e0a\u4f20\u8fd8\u9700\u8981\u4f9d\u8d56 Apache Commons FileUpload \u7684\u7ec4\u4ef6\u3002"})]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"112\u6587\u4ef6\u4e0a\u4f20",children:"11.2\u3001\u6587\u4ef6\u4e0a\u4f20"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5bfc\u5165\u6587\u4ef6\u4e0a\u4f20\u7684 jar \u5305\uff0ccommons-fileupload \uff0c Maven \u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u5bfc\u5165\u4ed6\u7684\u4f9d\u8d56\u5305 commons-io \u5305\uff1b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"\x3c!--\u6587\u4ef6\u4e0a\u4f20--\x3e\r\n<dependency>\r\n   <groupId>commons-fileupload</groupId>\r\n   <artifactId>commons-fileupload</artifactId>\r\n   <version>1.3.3</version>\r\n</dependency>\r\n\x3c!--servlet-api\u5bfc\u5165\u9ad8\u7248\u672c\u7684--\x3e\r\n<dependency>\r\n   <groupId>javax.servlet</groupId>\r\n   <artifactId>javax.servlet-api</artifactId>\r\n   <version>4.0.1</version>\r\n</dependency>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e bean\uff1amultipartResolver"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.font,{color:"red",children:["\u3010",(0,l.jsx)(e.strong,{children:"\u6ce8\u610f\uff01\uff01\uff01\u8fd9\u4e2a bena \u7684 id \u5fc5\u987b\u4e3a\uff1amultipartResolver \uff0c \u5426\u5219\u4e0a\u4f20\u6587\u4ef6\u4f1a\u62a5 400 \u7684\u9519\u8bef\uff01\u5728\u8fd9\u91cc\u683d\u8fc7\u5751,\u6559\u8bad\uff01"}),"\u3011"]})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!--\u6587\u4ef6\u4e0a\u4f20\u914d\u7f6e--\x3e\r\n<bean id="multipartResolver"  class="org.springframework.web.multipart.commons.CommonsMultipartResolver">\r\n   \x3c!-- \u8bf7\u6c42\u7684\u7f16\u7801\u683c\u5f0f\uff0c\u5fc5\u987b\u548cjSP\u7684pageEncoding\u5c5e\u6027\u4e00\u81f4\uff0c\u4ee5\u4fbf\u6b63\u786e\u8bfb\u53d6\u8868\u5355\u7684\u5185\u5bb9\uff0c\u9ed8\u8ba4\u4e3aISO-8859-1 --\x3e\r\n   <property name="defaultEncoding" value="utf-8"/>\r\n   \x3c!-- \u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u4e0a\u9650\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\uff0810485760=10M\uff09 --\x3e\r\n   <property name="maxUploadSize" value="10485760"/>\r\n   <property name="maxInMemorySize" value="40960"/>\r\n</bean>\n'})}),"\n",(0,l.jsx)(e.p,{children:"CommonsMultipartFile \u7684 \u5e38\u7528\u65b9\u6cd5\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"String getOriginalFilename()\uff1a\u83b7\u53d6\u4e0a\u4f20\u6587\u4ef6\u7684\u539f\u540d"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"InputStream getInputStream()\uff1a\u83b7\u53d6\u6587\u4ef6\u6d41"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"void transferTo(File dest)\uff1a\u5c06\u4e0a\u4f20\u6587\u4ef6\u4fdd\u5b58\u5230\u4e00\u4e2a\u76ee\u5f55\u6587\u4ef6\u4e2d"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4eec\u53bb\u5b9e\u9645\u6d4b\u8bd5\u4e00\u4e0b"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199\u524d\u7aef\u9875\u9762"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<form action="/upload" enctype="multipart/form-data" method="post">\r\n <input type="file" name="file"/>\r\n <input type="submit" value="upload">\r\n</form>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Controller"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'package com.T_Lyon.controller;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.commons.CommonsMultipartFile;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.*;\r\nimport java.net.URLEncoder;\r\n\r\n@RestController\r\npublic class FileController {\r\n\r\n    //@RequestParam("file") \u5c06name=file\u63a7\u4ef6\u5f97\u5230\u7684\u6587\u4ef6\u5c01\u88c5\u6210CommonsMultipartFile \u5bf9\u8c61\r\n    //\u6279\u91cf\u4e0a\u4f20CommonsMultipartFile\u5219\u4e3a\u6570\u7ec4\u5373\u53ef\r\n    @RequestMapping("/upload")\r\n    public String fileUpload(@RequestParam("file") CommonsMultipartFile file , HttpServletRequest request) throws IOException {\r\n\r\n        //\u83b7\u53d6\u6587\u4ef6\u540d : file.getOriginalFilename();\r\n        String uploadFileName = file.getOriginalFilename();\r\n\r\n        //\u5982\u679c\u6587\u4ef6\u540d\u4e3a\u7a7a\uff0c\u76f4\u63a5\u56de\u5230\u9996\u9875\uff01\r\n        if ("".equals(uploadFileName)){\r\n            return "redirect:/index.jsp";\r\n        }\r\n        System.out.println("\u4e0a\u4f20\u6587\u4ef6\u540d : "+uploadFileName);\r\n\r\n        //\u4e0a\u4f20\u8def\u5f84\u4fdd\u5b58\u8bbe\u7f6e\r\n        String path = request.getServletContext().getRealPath("/upload");\r\n        //\u5982\u679c\u8def\u5f84\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u4e00\u4e2a\r\n        File realPath = new File(path);\r\n        if (!realPath.exists()){\r\n            realPath.mkdir();\r\n        }\r\n        System.out.println("\u4e0a\u4f20\u6587\u4ef6\u4fdd\u5b58\u5730\u5740\uff1a"+realPath);\r\n\r\n        InputStream is = file.getInputStream(); //\u6587\u4ef6\u8f93\u5165\u6d41\r\n        OutputStream os = new FileOutputStream(new File(realPath,uploadFileName)); //\u6587\u4ef6\u8f93\u51fa\u6d41\r\n\r\n        //\u8bfb\u53d6\u5199\u51fa\r\n        int len=0;\r\n        byte[] buffer = new byte[1024];\r\n        while ((len=is.read(buffer))!=-1){\r\n            os.write(buffer,0,len);\r\n            os.flush();\r\n        }\r\n        os.close();\r\n        is.close();\r\n        return "redirect:/index.jsp";\r\n    }\r\n\r\n    /*\r\n     * \u91c7\u7528file.Transto \u6765\u4fdd\u5b58\u4e0a\u4f20\u7684\u6587\u4ef6\r\n     */\r\n    @RequestMapping("/upload2")\r\n    public String  fileUpload2(@RequestParam("file") CommonsMultipartFile file, HttpServletRequest request) throws IOException {\r\n\r\n        //\u4e0a\u4f20\u8def\u5f84\u4fdd\u5b58\u8bbe\u7f6e\r\n        String path = request.getServletContext().getRealPath("/upload");\r\n        File realPath = new File(path);\r\n        if (!realPath.exists()){\r\n            realPath.mkdir();\r\n        }\r\n        //\u4e0a\u4f20\u6587\u4ef6\u5730\u5740\r\n        System.out.println("\u4e0a\u4f20\u6587\u4ef6\u4fdd\u5b58\u5730\u5740\uff1a"+realPath);\r\n\r\n        //\u901a\u8fc7CommonsMultipartFile\u7684\u65b9\u6cd5\u76f4\u63a5\u5199\u6587\u4ef6\uff08\u6ce8\u610f\u8fd9\u4e2a\u65f6\u5019\uff09\r\n        file.transferTo(new File(realPath +"/"+ file.getOriginalFilename()));\r\n\r\n        return "redirect:/index.jsp";\r\n    }\r\n\r\n    @RequestMapping(value="/download")\r\n    public String downloads(HttpServletResponse response , HttpServletRequest request) throws Exception{\r\n        //\u8981\u4e0b\u8f7d\u7684\u56fe\u7247\u5730\u5740\r\n        String  path = request.getServletContext().getRealPath("/upload");\r\n        String  fileName = "bg1.jpg";\r\n\r\n        //1\u3001\u8bbe\u7f6eresponse \u54cd\u5e94\u5934\r\n        response.reset(); //\u8bbe\u7f6e\u9875\u9762\u4e0d\u7f13\u5b58,\u6e05\u7a7abuffer\r\n        response.setCharacterEncoding("UTF-8"); //\u5b57\u7b26\u7f16\u7801\r\n        response.setContentType("multipart/form-data"); //\u4e8c\u8fdb\u5236\u4f20\u8f93\u6570\u636e\r\n        //\u8bbe\u7f6e\u54cd\u5e94\u5934\r\n        response.setHeader("Content-Disposition",\r\n                "attachment;fileName="+ URLEncoder.encode(fileName, "UTF-8"));\r\n\r\n        File file = new File(path,fileName);\r\n        //2\u3001 \u8bfb\u53d6\u6587\u4ef6--\u8f93\u5165\u6d41\r\n        InputStream input=new FileInputStream(file);\r\n        //3\u3001 \u5199\u51fa\u6587\u4ef6--\u8f93\u51fa\u6d41\r\n        OutputStream out = response.getOutputStream();\r\n\r\n        byte[] buff =new byte[1024];\r\n        int index=0;\r\n        //4\u3001\u6267\u884c \u5199\u51fa\u64cd\u4f5c\r\n        while((index= input.read(buff))!= -1){\r\n            out.write(buff, 0, index);\r\n            out.flush();\r\n        }\r\n        out.close();\r\n        input.close();\r\n        return null;\r\n    }\r\n}\r\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6d4b\u8bd5\u4e0a\u4f20\u6587\u4ef6\uff0cOK\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u91c7\u7528 file.Transto \u6765\u4fdd\u5b58\u4e0a\u4f20\u7684\u6587\u4ef6"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7f16\u5199 Controller"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'/*\r\n* \u91c7\u7528file.Transto \u6765\u4fdd\u5b58\u4e0a\u4f20\u7684\u6587\u4ef6\r\n*/\r\n@RequestMapping("/upload2")\r\npublic String  fileUpload2(@RequestParam("file") CommonsMultipartFile file, HttpServletRequest request) throws IOException {\r\n\r\n   //\u4e0a\u4f20\u8def\u5f84\u4fdd\u5b58\u8bbe\u7f6e\r\n   String path = request.getServletContext().getRealPath("/upload");\r\n   File realPath = new File(path);\r\n   if (!realPath.exists()){\r\n       realPath.mkdir();\r\n  }\r\n   //\u4e0a\u4f20\u6587\u4ef6\u5730\u5740\r\n   System.out.println("\u4e0a\u4f20\u6587\u4ef6\u4fdd\u5b58\u5730\u5740\uff1a"+realPath);\r\n\r\n   //\u901a\u8fc7CommonsMultipartFile\u7684\u65b9\u6cd5\u76f4\u63a5\u5199\u6587\u4ef6\uff08\u6ce8\u610f\u8fd9\u4e2a\u65f6\u5019\uff09\r\n   file.transferTo(new File(realPath +"/"+ file.getOriginalFilename()));\r\n\r\n   return "redirect:/index.jsp";\r\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u524d\u7aef\u8868\u5355\u63d0\u4ea4\u5730\u5740\u4fee\u6539"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8bbf\u95ee\u63d0\u4ea4\u6d4b\u8bd5\uff0cOK\uff01"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"113\u6587\u4ef6\u4e0b\u8f7d",children:"11.3\u3001\u6587\u4ef6\u4e0b\u8f7d"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6587\u4ef6\u4e0b\u8f7d\u6b65\u9aa4\uff1a"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8bbe\u7f6e response \u54cd\u5e94\u5934"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8bfb\u53d6\u6587\u4ef6 -- InputStream"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5199\u51fa\u6587\u4ef6 -- OutputStream"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6267\u884c\u64cd\u4f5c"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5173\u95ed\u6d41 \uff08\u5148\u5f00\u540e\u5173\uff09"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4ee3\u7801\u5b9e\u73b0\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@RequestMapping(value="/download")\r\npublic String downloads(HttpServletResponse response ,HttpServletRequest request) throws Exception{\r\n   //\u8981\u4e0b\u8f7d\u7684\u56fe\u7247\u5730\u5740\r\n   String  path = request.getServletContext().getRealPath("/upload");\r\n   String  fileName = "\u57fa\u7840\u8bed\u6cd5.jpg";\r\n\r\n   //1\u3001\u8bbe\u7f6eresponse \u54cd\u5e94\u5934\r\n   response.reset(); //\u8bbe\u7f6e\u9875\u9762\u4e0d\u7f13\u5b58,\u6e05\u7a7abuffer\r\n   response.setCharacterEncoding("UTF-8"); //\u5b57\u7b26\u7f16\u7801\r\n   response.setContentType("multipart/form-data"); //\u4e8c\u8fdb\u5236\u4f20\u8f93\u6570\u636e\r\n   //\u8bbe\u7f6e\u54cd\u5e94\u5934\r\n   response.setHeader("Content-Disposition",\r\n           "attachment;fileName="+URLEncoder.encode(fileName, "UTF-8"));\r\n\r\n   File file = new File(path,fileName);\r\n   //2\u3001 \u8bfb\u53d6\u6587\u4ef6--\u8f93\u5165\u6d41\r\n   InputStream input=new FileInputStream(file);\r\n   //3\u3001 \u5199\u51fa\u6587\u4ef6--\u8f93\u51fa\u6d41\r\n   OutputStream out = response.getOutputStream();\r\n\r\n   byte[] buff =new byte[1024];\r\n   int index=0;\r\n   //4\u3001\u6267\u884c \u5199\u51fa\u64cd\u4f5c\r\n   while((index= input.read(buff))!= -1){\r\n       out.write(buff, 0, index);\r\n       out.flush();\r\n  }\r\n   out.close();\r\n   input.close();\r\n   return null;\r\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u524d\u7aef"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsp",children:'<a href="/download">\u70b9\u51fb\u4e0b\u8f7d</a>\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u6d4b\u8bd5\uff0c\u6587\u4ef6\u4e0b\u8f7d OK"})]})}function o(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(p,{...n})}):p(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>i,x:()=>a});var s=r(6540);const l={},t=s.createContext(l);function i(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:i(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);