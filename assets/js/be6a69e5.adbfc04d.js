"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8654],{4588:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Web/react","title":"React \u6838\u5fc3\u4ef7\u503c\u4e0e\u524d\u7f6e\u77e5\u8bc6","description":"\u6838\u5fc3\u4ef7\u503c","source":"@site/docs/Web/react.md","sourceDirName":"Web","slug":"/Web/react","permalink":"/docs/Web/react","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"WebSidebar","previous":{"title":"JavaScript \u9ad8\u7ea7","permalink":"/docs/Web/JavaScript \u9ad8\u7ea7"},"next":{"title":"vue2.0","permalink":"/docs/Web/vue2.x"}}');var t=r(4848),i=r(8453);const c={},a="React \u6838\u5fc3\u4ef7\u503c\u4e0e\u524d\u7f6e\u77e5\u8bc6",l={},o=[{value:"\u4f7f\u7528 vite \u521b\u5efa Recat \u9879\u76ee",id:"\u4f7f\u7528-vite-\u521b\u5efa-recat-\u9879\u76ee",level:2},{value:"\u5f00\u53d1\u89c4\u8303",id:"\u5f00\u53d1\u89c4\u8303",level:2},{value:"\u6807\u7b7e",id:"\u6807\u7b7e",level:2},{value:"\u5c5e\u6027",id:"\u5c5e\u6027",level:2},{value:"\u5728 JSX \u4e2d\u63d2\u5165 js \u53d8\u91cf",id:"\u5728-jsx-\u4e2d\u63d2\u5165-js-\u53d8\u91cf",level:2},{value:"\u6761\u4ef6\u5224\u65ad",id:"\u6761\u4ef6\u5224\u65ad",level:2},{value:"\u5faa\u73af",id:"\u5faa\u73af",level:2},{value:"\u5c0f\u7ed3\u5b9e\u6218 \u5217\u8868\u9875",id:"\u5c0f\u7ed3\u5b9e\u6218-\u5217\u8868\u9875",level:2},{value:"\u7ec4\u4ef6",id:"\u7ec4\u4ef6",level:2},{value:"\u5c5e\u6027 props",id:"\u5c5e\u6027-props",level:2},{value:"children",id:"children",level:3},{value:"\u5b50\u7ec4\u4ef6\u4f20\u9012\u7236\u7ec4\u4ef6",id:"\u5b50\u7ec4\u4ef6\u4f20\u9012\u7236\u7ec4\u4ef6",level:3},{value:"\u5144\u5f1f\u7ec4\u4ef6\u4f20\u9012",id:"\u5144\u5f1f\u7ec4\u4ef6\u4f20\u9012",level:3},{value:"React \u62d3\u5c55",id:"react-\u62d3\u5c55",level:2},{value:"React.memo",id:"reactmemo",level:3},{value:"React.memo \u6bd4\u8f83\u673a\u5236",id:"reactmemo-\u6bd4\u8f83\u673a\u5236",level:4},{value:"React+TS \u7279\u6b8a\u7684 children \u5c5e\u6027",id:"reactts-\u7279\u6b8a\u7684-children-\u5c5e\u6027",level:3},{value:"useState",id:"usestate",level:3},{value:"useContext \u7ec4\u4ef6\u901a\u4fe1",id:"usecontext-\u7ec4\u4ef6\u901a\u4fe1",level:3},{value:"useEffect",id:"useeffect",level:3},{value:"useReducer",id:"usereducer",level:3},{value:"useMemo",id:"usememo",level:3},{value:"useCallback",id:"usecallback",level:3},{value:"\u81ea\u5b9a\u4e49 hook",id:"\u81ea\u5b9a\u4e49-hook",level:3},{value:"\u914d\u7f6e Redux",id:"\u914d\u7f6e-redux",level:2},{value:"\u8c03\u8bd5\u5de5\u5177\u5b89\u88c5",id:"\u8c03\u8bd5\u5de5\u5177\u5b89\u88c5",level:3},{value:"store \u76ee\u5f55\u673a\u6784\u8bbe\u8ba1",id:"store-\u76ee\u5f55\u673a\u6784\u8bbe\u8ba1",level:3},{value:"\u5feb\u901f\u4e0a\u624b",id:"\u5feb\u901f\u4e0a\u624b",level:2},{value:"\u63d0\u4ea4 acntion \u4f20\u53c2",id:"\u63d0\u4ea4-acntion-\u4f20\u53c2",level:2},{value:"Reudx action \u5f02\u6b65\u64cd\u4f5c",id:"reudx-action-\u5f02\u6b65\u64cd\u4f5c",level:2},{value:"<strong>redux hooks</strong>",id:"redux-hooks",level:2},{value:"useSelector",id:"useselector",level:3},{value:"useDispatch",id:"usedispatch",level:3},{value:"\u7f8e\u56e2\u70b9\u9910\u754c\u9762\u5c0f\u6848\u4f8b",id:"\u7f8e\u56e2\u70b9\u9910\u754c\u9762\u5c0f\u6848\u4f8b",level:2},{value:"\u5206\u7c7b\u6e32\u67d3",id:"\u5206\u7c7b\u6e32\u67d3",level:3},{value:"\u4fa7\u8fb9\u680f\u6e32\u67d3.\u4ea4\u4e92",id:"\u4fa7\u8fb9\u680f\u6e32\u67d3\u4ea4\u4e92",level:3},{value:"\u6dfb\u52a0\u8d2d\u7269\u8f66",id:"\u6dfb\u52a0\u8d2d\u7269\u8f66",level:3},{value:"\u7edf\u8ba1\u8ba2\u5355\u533a\u57df",id:"\u7edf\u8ba1\u8ba2\u5355\u533a\u57df",level:3},{value:"\u8d2d\u7269\u8f66\u5217\u8868\u529f\u80fd",id:"\u8d2d\u7269\u8f66\u5217\u8868\u529f\u80fd",level:3},{value:"\u8d2d\u7269\u8f66\u5217\u8868\u7684\u663e\u793a\u548c\u9690\u85cf",id:"\u8d2d\u7269\u8f66\u5217\u8868\u7684\u663e\u793a\u548c\u9690\u85cf",level:3},{value:"\u5207\u7247\u6a21\u5f0f",id:"\u5207\u7247\u6a21\u5f0f",level:3},{value:"\u5feb\u901f\u4e0a\u624b demo",id:"\u5feb\u901f\u4e0a\u624b-demo",level:2},{value:"\u62bd\u8c61\u8def\u7531\u6a21\u5757",id:"\u62bd\u8c61\u8def\u7531\u6a21\u5757",level:3},{value:"\u8def\u7531\u5bfc\u822a",id:"\u8def\u7531\u5bfc\u822a",level:2},{value:"\u58f0\u660e\u5f0f\u5bfc\u822a",id:"\u58f0\u660e\u5f0f\u5bfc\u822a",level:3},{value:"\u7f16\u7a0b\u5f0f\u5bfc\u822a",id:"\u7f16\u7a0b\u5f0f\u5bfc\u822a",level:3},{value:"\u4f20\u53c2",id:"\u4f20\u53c2",level:3},{value:"useSearchParams",id:"usesearchparams",level:4},{value:"useParams",id:"useparams",level:4},{value:"\u5d4c\u5957\u8def\u7531",id:"\u5d4c\u5957\u8def\u7531",level:2},{value:"\u6848\u4f8b",id:"\u6848\u4f8b",level:3},{value:"\u9ed8\u8ba4\u4e8c\u7ea7\u8def\u7531",id:"\u9ed8\u8ba4\u4e8c\u7ea7\u8def\u7531",level:3},{value:"404 \u8def\u7531",id:"404-\u8def\u7531",level:2},{value:"\u8def\u7531\u6a21\u5f0f",id:"\u8def\u7531\u6a21\u5f0f",level:2},{value:"Hooks",id:"hooks-1",level:2},{value:"useNavigate",id:"usenavigate",level:3},{value:"useSearchParams",id:"usesearchparams-1",level:3},{value:"useParams",id:"useparams-1",level:3},{value:"\u9879\u76ee\u914d\u7f6e",id:"\u9879\u76ee\u914d\u7f6e",level:2},{value:"\u8def\u5f84\u522b\u540d",id:"\u8def\u5f84\u522b\u540d",level:3},{value:"\u5b89\u88c5 scss",id:"\u5b89\u88c5-scss",level:3},{value:"\u7ec4\u4ef6\u5e93 antd",id:"\u7ec4\u4ef6\u5e93-antd",level:3},{value:"\u914d\u7f6e\u8def\u7531",id:"\u914d\u7f6e\u8def\u7531",level:3},{value:"\u5c01\u88c5 requset \u8bf7\u6c42\u6a21\u5757",id:"\u5c01\u88c5-requset-\u8bf7\u6c42\u6a21\u5757",level:3},{value:"\u767b\u5f55\u6a21\u5757",id:"\u767b\u5f55\u6a21\u5757",level:2},{value:"\u8868\u5355\u6821\u9a8c",id:"\u8868\u5355\u6821\u9a8c",level:3},{value:"\u4f7f\u7528 Redux \u7ba1\u7406 token",id:"\u4f7f\u7528-redux-\u7ba1\u7406-token",level:3},{value:"\u89e6\u53d1\u767b\u5f55\u64cd\u4f5c",id:"\u89e6\u53d1\u767b\u5f55\u64cd\u4f5c",level:3},{value:"token \u6301\u4e45\u5316",id:"token-\u6301\u4e45\u5316",level:3},{value:"\u5c01\u88c5 token \u64cd\u4f5c\u65b9\u6cd5",id:"\u5c01\u88c5-token-\u64cd\u4f5c\u65b9\u6cd5",level:4},{value:"\u5728 Axios \u8bf7\u6c42\u4e2d\u643a\u5e26 token",id:"\u5728-axios-\u8bf7\u6c42\u4e2d\u643a\u5e26-token",level:3},{value:"\u4f7f\u7528 token \u505a\u8def\u7531\u6743\u9650\u63a7\u5236",id:"\u4f7f\u7528-token-\u505a\u8def\u7531\u6743\u9650\u63a7\u5236",level:3},{value:"\u4e3b\u9875\u9762",id:"\u4e3b\u9875\u9762",level:2},{value:"\u4e8c\u7ea7\u8def\u7531\u8bbe\u7f6e",id:"\u4e8c\u7ea7\u8def\u7531\u8bbe\u7f6e",level:3},{value:"\u914d\u7f6e\u4e8c\u7ea7\u8def\u7531",id:"\u914d\u7f6e\u4e8c\u7ea7\u8def\u7531",level:4},{value:"\u8def\u7531\u8054\u52a8",id:"\u8def\u7531\u8054\u52a8",level:4},{value:"\u83dc\u5355\u70b9\u51fb\u9ad8\u4eae",id:"\u83dc\u5355\u70b9\u51fb\u9ad8\u4eae",level:4},{value:"\u5c55\u793a\u4e2a\u4eba\u4fe1\u606f",id:"\u5c55\u793a\u4e2a\u4eba\u4fe1\u606f",level:3},{value:"\u9000\u51fa\u767b\u5f55",id:"\u9000\u51fa\u767b\u5f55",level:3},{value:"\u5904\u7406\u5931\u6548 token",id:"\u5904\u7406\u5931\u6548-token",level:3},{value:"\u4e3b\u9875\u53ef\u89c6\u5316\u56fe\u8868",id:"\u4e3b\u9875\u53ef\u89c6\u5316\u56fe\u8868",level:3},{value:"\u5c01\u88c5 echarts \u7ec4\u4ef6",id:"\u5c01\u88c5-echarts-\u7ec4\u4ef6",level:4},{value:"API \u5c01\u88c5",id:"api-\u5c01\u88c5",level:2},{value:"\u6587\u7ae0\u53d1\u5e03",id:"\u6587\u7ae0\u53d1\u5e03",level:2},{value:"\u57fa\u7840\u6587\u7ae0\u7ed3\u6784",id:"\u57fa\u7840\u6587\u7ae0\u7ed3\u6784",level:3},{value:"\u5bcc\u6587\u672c\u7f16\u8f91\u5668",id:"\u5bcc\u6587\u672c\u7f16\u8f91\u5668",level:3},{value:"\u9891\u9053\u6570\u636e\u6e32\u67d3",id:"\u9891\u9053\u6570\u636e\u6e32\u67d3",level:3},{value:"\u53d1\u5e03\u57fa\u7840\u6587\u7ae0",id:"\u53d1\u5e03\u57fa\u7840\u6587\u7ae0",level:3},{value:"\u4e0a\u4f20\u5c01\u9762",id:"\u4e0a\u4f20\u5c01\u9762",level:3},{value:"\u57fa\u7840\u4e0a\u4f20",id:"\u57fa\u7840\u4e0a\u4f20",level:4},{value:"\u5207\u6362\u5c01\u9762\u7c7b\u578b",id:"\u5207\u6362\u5c01\u9762\u7c7b\u578b",level:4},{value:"\u63a7\u5236\u4e0a\u4f20\u56fe\u7247\u7684\u6570\u91cf",id:"\u63a7\u5236\u4e0a\u4f20\u56fe\u7247\u7684\u6570\u91cf",level:4},{value:"\u53d1\u8868\u5e26\u56fe\u7247\u7684\u6587\u7ae0",id:"\u53d1\u8868\u5e26\u56fe\u7247\u7684\u6587\u7ae0",level:3},{value:"\u6821\u9a8c\u7c7b\u578b",id:"\u6821\u9a8c\u7c7b\u578b",level:4},{value:"\u6587\u7ae0\u5217\u8868",id:"\u6587\u7ae0\u5217\u8868",level:2},{value:"\u653e\u5165\u7ed3\u6784",id:"\u653e\u5165\u7ed3\u6784",level:3},{value:"\u9891\u9053\u6a21\u5757\u6e32\u67d3",id:"\u9891\u9053\u6a21\u5757\u6e32\u67d3",level:3},{value:"\u6e32\u67d3\u6587\u7ae0\u5217\u8868\u6570\u636e",id:"\u6e32\u67d3\u6587\u7ae0\u5217\u8868\u6570\u636e",level:3},{value:"\u6587\u7ae0\u72b6\u6001",id:"\u6587\u7ae0\u72b6\u6001",level:3},{value:"\u6587\u7ae0\u7b5b\u9009",id:"\u6587\u7ae0\u7b5b\u9009",level:3},{value:"\u5206\u9875\u5b9e\u73b0",id:"\u5206\u9875\u5b9e\u73b0",level:3},{value:"\u6587\u7ae0\u5220\u9664",id:"\u6587\u7ae0\u5220\u9664",level:3},{value:"\u7f16\u8f91\u6587\u7ae0",id:"\u7f16\u8f91\u6587\u7ae0",level:2},{value:"\u8f7d\u5165\u6587\u7ae0\u6570\u636e",id:"\u8f7d\u5165\u6587\u7ae0\u6570\u636e",level:3},{value:"\u6839\u636e id \u5c55\u793a\u72b6\u6001",id:"\u6839\u636e-id-\u5c55\u793a\u72b6\u6001",level:3},{value:"\u66f4\u65b0\u6587\u7ae0",id:"\u66f4\u65b0\u6587\u7ae0",level:3},{value:"\u6253\u5305\u4f18\u5316",id:"\u6253\u5305\u4f18\u5316",level:2},{value:"\u914d\u7f6e\u8def\u7531\u61d2\u52a0\u8f7d",id:"\u914d\u7f6e\u8def\u7531\u61d2\u52a0\u8f7d",level:3},{value:"CDN",id:"cdn",level:3},{value:"Hooks",id:"hooks-2",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"react-\u6838\u5fc3\u4ef7\u503c\u4e0e\u524d\u7f6e\u77e5\u8bc6",children:"React \u6838\u5fc3\u4ef7\u503c\u4e0e\u524d\u7f6e\u77e5\u8bc6"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6838\u5fc3\u4ef7\u503c"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"\u7ec4\u4ef6\u5316\uff08\u6613\u5f00\u53d1\u6613\u7ef4\u62a4\uff09"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241127191136578.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["\u6570\u636e\u9a71\u52a8\u89c6\u56fe \uff1a\u5b9a\u4e49\u597d\u6570\u636e\u548c ui \u7684\u663e\u793a\u89c4\u5219 \u5373",(0,t.jsx)(e.code,{children:"UI=f(state)"})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u53ea\u5173\u6ce8\u4e1a\u52a1\u6570\u636e\u4fee\u6539\uff0c\u4e0d\u5728\u64cd\u4f5c DOM \u589e\u52a0\u5f00\u53d1\u6548\u7387"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u4f7f\u7528-vite-\u521b\u5efa-recat-\u9879\u76ee",children:"\u4f7f\u7528 vite \u521b\u5efa Recat \u9879\u76ee"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241127191701363.png",alt:"image-20241127191701363"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5f00\u53d1\u89c4\u8303",children:"\u5f00\u53d1\u89c4\u8303"}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"prettier  & eslint"})," \u89c4\u8303\u5f00\u53d1"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"eslint \u68c0\u67e5\u8bed\u6cd5\u8bed\u4e49"}),"\n",(0,t.jsx)(e.li,{children:"prettier \u68c0\u67e5\u4ee3\u7801\u98ce\u683c"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"#eslint :\r\nnpm install eslint@typescript-eslint/parser @typescript-eslint/eslint-plugin --save-dev\r\n\r\n#prettier:\r\nnpm install prettier eslint-config-prettier eslint-plugin-prettier --save-dev\n"})}),"\n",(0,t.jsx)(e.p,{children:"vite \u548c webpack \u7684\u533a\u522b"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"webpack"}),"\u662f\u4e00\u4e2a\u975e\u5e38\u6d41\u884c\u7684\u524d\u7aef\u6253\u5305\u5de5\u5177 \u6bd4\u8f83\u7ecf\u5178 ",(0,t.jsx)(e.code,{children:"Create-React-App"})," \u662f\u4f7f\u7528 webpack \u4f5c\u4e3a\u6253\u5305\u5de5\u5177\u7684"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"vite"})," \u65e2\u662f\u6784\u5efa\u5de5\u5177 \u53c8\u662f\u6253\u5305\u5de5\u5177"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"vite"}),"\u7684\u7279\u70b9\uff1a"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Vite \u6253\u5305\u9879\u76ee \u5728\u542f\u52a8\u548c\u4ee3\u7801\u66f4\u65b0\u65f6\u66f4\u5feb"}),"\n",(0,t.jsxs)(e.li,{children:["vite \u4f7f\u7528\u4e86 ",(0,t.jsx)(e.code,{children:"es Module"})," \u8bed\u6cd5\uff08\u4ec5\u5f00\u53d1\u73af\u5883\uff09"]}),"\n"]}),"\n",(0,t.jsx)(e.h1,{id:"react-jsx-\u8bed\u6cd5",children:"React JSX \u8bed\u6cd5"}),"\n",(0,t.jsx)(e.p,{children:"\u5185\u5bb9 \uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"JSX \u8bed\u6cd5"}),"\n",(0,t.jsx)(e.li,{children:"\u7ec4\u4ef6\u548c props"}),"\n",(0,t.jsx)(e.li,{children:"\u5b9e\u6218\uff1a \u5217\u8868\u9875"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"JSX"}),"\u7279\u70b9:"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"JSX \u662f js \u7684\u6269\u5c55 \u5199\u5728 js \u4ee3\u7801\u91cc\u9762 \u7ec4\u4ef6\u7684 ui \u7ed3\u6784"}),"\n",(0,t.jsx)(e.li,{children:"\u8bed\u6cd5\u548c html \u5f88\u76f8\u4f3c"}),"\n",(0,t.jsx)(e.li,{children:"\u4e0d\u53ea\u662f React \u72ec\u6709"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u6807\u7b7e",children:"\u6807\u7b7e"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9996\u5b57\u6bcd\u5927\u5c0f\u5199\u7684\u533a\u522b \uff0c \u5927\u5199\u5b57\u6bcd\u662f\u81ea\u5b9a\u4e49\u7ec4\u4ef6"}),"\n",(0,t.jsxs)(e.li,{children:["\u6807\u7b7e\u5fc5\u987b\u95ed\u5408 \u5982",(0,t.jsx)(e.code,{children:"<input>"}),"\u5728 jsx \u662f\u975e\u6cd5\u7684"]}),"\n",(0,t.jsx)(e.li,{children:"\u6bcf\u6bb5 JSX \u4e2d\u53ea\u6709\u4e00\u4e2a\u6839\u8282\u70b9"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241127200934798.png",alt:"image-20241127200934798"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5c5e\u6027",children:"\u5c5e\u6027"}),"\n",(0,t.jsx)(e.p,{children:"\u548c html \u57fa\u672c\u76f8\u4f3c"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"class \u8981\u6539\u4e3a className"}),"\n",(0,t.jsx)(e.li,{children:"style \u8981\u4f7f\u7528 js \u5bf9\u8c61 \u4e0d\u80fd\u662f string \u800c\u4e14 key \u9700\u8981\u4f7f\u7528\u9a7c\u5cf0\u5199\u6cd5"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u4e0b"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241127201256661.png",alt:"image-20241127201256661"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5728-jsx-\u4e2d\u63d2\u5165-js-\u53d8\u91cf",children:"\u5728 JSX \u4e2d\u63d2\u5165 js \u53d8\u91cf"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528",(0,t.jsx)(e.code,{children:"{}"}),"\u53ef\u4ee5\u63d2\u5165 JS \u53d8\u91cf \u51fd\u6570 \u8868\u8fbe\u5f0f"]}),"\n",(0,t.jsx)(e.li,{children:"\u53ef\u4ee5\u63d2\u5165\u6587\u672c \u5c5e\u6027"}),"\n",(0,t.jsx)(e.li,{children:"\u53ef\u4ee5\u7528\u4e8e\u6ce8\u91ca"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801\u6848\u4f8b"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241127201542329.png",alt:""})}),"\n",(0,t.jsx)(e.h2,{id:"\u6761\u4ef6\u5224\u65ad",children:"\u6761\u4ef6\u5224\u65ad"}),"\n",(0,t.jsxs)(e.p,{children:["\u200b \u5e38\u89c1\u7684",(0,t.jsx)(e.code,{children:"if else"})," \u53ef\u4ee5\u901a\u8fc7{}\u7684\u65b9\u5f0f\u5b9e\u73b0\uff0c\u4f46\u662f\u5728",(0,t.jsx)(e.code,{children:"JSX"}),"\u4e2d\u4ee3\u7801\u4e00\u591a\u5c31\u663e\u5f97\u4e0d\u591f\u5b9e\u7528\u4e86 \u4ee5\u4e0b\u4e09\u79cd\u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528",(0,t.jsx)(e.code,{children:"&&"})]}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u4e09\u5143\u8868\u8fbe\u5f0f"}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u51fd\u6570\u6765\u5224\u65ad"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u6bd4\u5982\u8fd9\u6837\uff1a\u53cd\u4e4b\u5982\u679c flag \u7b49\u4e8e false \u5c31\u4e0d\u4f1a\u51fa\u73b0 hello"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205141921850.png",alt:"image-20241205141921850"})}),"\n",(0,t.jsx)(e.p,{children:"\u6548\u679c\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205142005694.png",alt:"image-20241205142005694"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e09\u5143\u8fd0\u7b97\u7b26\uff1aflag \u4e3a\u5224\u65ad\u6761\u4ef6 \u6765\u63a7\u5236\u6807\u7b7e\u7684\u663e\u793a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205142326966.png",alt:"image-20241205142326966"})}),"\n",(0,t.jsx)(e.p,{children:"\u6548\u679c\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205142357552.png",alt:"image-20241205142357552"})}),"\n",(0,t.jsx)(e.p,{children:"\u51fd\u6570\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"function isShowHello() {\r\n  if (flag) return <p>show hello</p>;\r\n  return <p>defaultHello</p>;\r\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205142731794.png",alt:"image-20241205142731794"})}),"\n",(0,t.jsx)(e.p,{children:"\u6548\u679c \uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205142625910.png",alt:"image-20241205142625910"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5faa\u73af",children:"\u5faa\u73af"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528 map \u6765\u5faa\u73af"}),"\n",(0,t.jsx)(e.li,{children:"\u6bcf\u4e00\u4e2a\u5faa\u73af\u9879\uff08item\uff09\u90fd\u8981\u6709 key"}),"\n",(0,t.jsx)(e.li,{children:"key \u9700\u8981\u5177\u6709\u552f\u4e00\u6027"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5b9e\u73b0"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'const list = [\r\n  { username: "zhangsan", name: "\u5f20\u4e09" },\r\n  { username: "shuangyue", name: "\u53cc\u6708" },\r\n  { username: "lisi", name: "\u674e\u56db" },\r\n];\r\n\r\n{\r\n  /*\u5faa\u73af*/\r\n}\r\n<div>\r\n  {list.map((user) => {\r\n    const { username, name } = user;\r\n    return <li key={username}>{name}</li>;\r\n  })}\r\n</div>;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6548\u679c\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205143625839.png",alt:"image-20241205143625839"})}),"\n",(0,t.jsx)(e.p,{children:"PS \uff1a \u4e0d\u5efa\u8bae\u4f7f\u7528 index \u5982 :"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205143728414.png",alt:"image-20241205143728414"})}),"\n",(0,t.jsx)(e.p,{children:"\u56e0\u4e3a\u6211\u4eec\u7684 key \u9700\u8981\u5177\u6709\u552f\u4e00\u6027"}),"\n",(0,t.jsx)(e.h2,{id:"\u5c0f\u7ed3\u5b9e\u6218-\u5217\u8868\u9875",children:"\u5c0f\u7ed3\u5b9e\u6218 \u5217\u8868\u9875"}),"\n",(0,t.jsx)(e.p,{children:"\u5f00\u53d1\u4e00\u4e2a\u5217\u8868\u9875"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205144041914.png",alt:"image-20241205144041914"})}),"\n",(0,t.jsx)(e.p,{children:"\u8c03\u6574\u4e00\u4e0b\u663e\u793a\u7684 jsx"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205144105516.png",alt:"image-20241205144105516"})}),"\n",(0,t.jsx)(e.p,{children:"\u4fdd\u8bc1\u8fd9\u4e2a\u4ee3\u7801\u7ed3\u6784\u7b80\u6d01 \uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u5f00\u59cb\u5f00\u53d1\u4e86"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import React from "react";\r\nimport "./App1.css";\r\n\r\nfunction App() {\r\n  const questionList = [\r\n    { id: "q1", title: "\u95ee\u53771", isPublished: true },\r\n    { id: "q2", title: "\u95ee\u53772", isPublished: true },\r\n    { id: "q3", title: "\u95ee\u53773", isPublished: true },\r\n    { id: "q4", title: "\u95ee\u53774", isPublished: false },\r\n  ];\r\n\r\n  function edit(id) {\r\n    console.log("edit", id);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>\u5217\u8868\u8be6\u60c5\u9875</h1>\r\n      <div>\r\n        {questionList.map((question) => {\r\n          const { id, title, isPublished } = question;\r\n          return (\r\n            <div key={id} className="list-item">\r\n              &nbsp;\r\n              <strong>{title}</strong>\r\n              &nbsp;\r\n              {isPublished ? (\r\n                <span style={{ color: "green" }}>\u5df2\u53d1\u5e03</span>\r\n              ) : (\r\n                <span>\u672a\u53d1\u5e03</span>\r\n              )}\r\n              &nbsp;\r\n              <button onClick={() => edit(id)}>\u7f16\u8f91\u95ee\u5377</button>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"css"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-css",children:".list-item {\r\n  border: 1px solid #ccc;\r\n  padding: 10px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205150336004.png",alt:""})}),"\n",(0,t.jsx)(e.h2,{id:"\u7ec4\u4ef6",children:"\u7ec4\u4ef6"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"react"})," \u4e00\u5207\u7686\u662f\u7ec4\u4ef6"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7ec4\u4ef6\u62e5\u6709\u4e00\u4e2a ui \u7247\u6bb5"}),"\n",(0,t.jsx)(e.li,{children:"\u62e5\u6709\u72ec\u7acb\u7684\u903b\u8f91\u548c\u663e\u793a"}),"\n",(0,t.jsx)(e.li,{children:"\u53ef\u5927\u53ef\u5c0f \u53ef\u4ee5\u5d4c\u5957"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u7ec4\u4ef6\u62c6\u5206\u7684\u4ef7\u503c\u548c\u610f\u4e49"}),"\n"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7ec4\u4ef6\u5d4c\u5957\u6765\u7ec4\u7ec7\u7684 ui \u7ed3\u6784 \u548c html \u4e00\u6837\u6ca1\u6709\u5b66\u4e60\u6210\u672c"}),"\n",(0,t.jsx)(e.li,{children:"\u826f\u597d\u7684\u62c6\u5206\u7ec4\u4ef6\u5229\u4e8e\u4ee3\u7801\u7ef4\u62a4\u548c\u591a\u4eba\u534f\u540c\u5f00\u53d1"}),"\n",(0,t.jsx)(e.li,{children:"\u5c01\u88c5\u516c\u5171\u7ec4\u4ef6\u6216\u8005\u76f4\u63a5\u4f7f\u7528\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u590d\u7528\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u597d\u7684\u7ec4\u4ef6\u5316 \u903b\u8f91\u662f\u6e05\u6670\u7684 \u66f4\u80fd\u63d0\u5347\u5f00\u53d1\u6548\u7387\u5e76\u4e14\u66f4\u52a0\u7684\u7f8e\u89c2\u6613\u8bfb"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205150607929.png",alt:"image-20241205150607929"})}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u5c06\u7ec4\u4ef6\u7406\u89e3\u6210\u4e00\u4e2a\u4e00\u4e2a\u7684\u51fd\u6570"}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528\u6211\u4eec\u4e4b\u524d\u7684\u5217\u8868\u9875\u4ee3\u7801 \u62c6\u5206\u6210\u7ec4\u4ef6 ",(0,t.jsx)(e.code,{children:"list1 "})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205151215018.png",alt:"image-20241205151215018"})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u7528 improt \u7684\u65b9\u5f0f \u5f15\u5165\u5230 listdemo \u4e2d"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205151236675.png",alt:"image-20241205151236675"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u6837\u6211\u4eec\u7684\u603b\u6846\u67b6\u5c31\u6ca1\u6709\u90a3\u4e48\u591a\u7684\u4ee3\u7801\u5197\u4f59 \u9700\u8981\u4fee\u6539\u5bf9\u5e94\u7684\u4ee3\u7801 \u53ea\u9700\u8981\u5bfb\u627e\u5bf9\u5e94\u7684\u7ec4\u4ef6\u6587\u4ef6\u5373\u53ef"}),"\n",(0,t.jsx)(e.h2,{id:"\u5c5e\u6027-props",children:"\u5c5e\u6027 props"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7ec4\u4ef6\u53ef\u4ee5\u5d4c\u5957 \u6709\u5c42\u7ea7\u5173\u7cfb"}),"\n",(0,t.jsx)(e.li,{children:"\u7236\u7ec4\u4ef6\u53ef\u4ee5\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:"props \u662f\u53ea\u8bfb\u5bf9\u8c61"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"props \u5176\u5b9e\u5c31\u662f\u5b9e\u73b0\u5dee\u5f02\u5316\u7ec4\u4ef6\u4fe1\u606f\u4f20\u9012\u7684\u4e00\u79cd\u624b\u6bb5"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5b9e\u8df5"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5c06\u4e4b\u524d\u5faa\u73af\u5185\u663e\u793a\u6570\u636e\u7684 div \u62c6\u51fa\u6765\u62bd\u8c61\u6210\u7ec4\u4ef6\uff1a",(0,t.jsx)(e.code,{children:"QuestCard.tsx"})," \u3002 CSS \u8fd8\u662f\u548c\u4e4b\u524d\u7684\u5185\u5bb9\u4e00\u6837"]}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528 ts \u4e3b\u8981\u662f\u65b9\u4fbf\u4f20\u5165\u6cdb\u578b"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"QuestCard.tsx"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import React, { FC } from "react";\r\nimport "./QuestCard.css";\r\n\r\ntype proptype = {\r\n  id: string;\r\n  title: string;\r\n  isPublished: boolean;\r\n};\r\nexport const QuestCard: FC<proptype> = (props) => {\r\n  const { id, title, isPublished } = props;\r\n\r\n  function edit(id) {\r\n    console.log("edit", id);\r\n  }\r\n\r\n  return (\r\n    <div key={id} className="list-item">\r\n      &nbsp;\r\n      <strong>{title}</strong>\r\n      &nbsp;\r\n      {isPublished ? (\r\n        <span style={{ color: "green" }}>\u5df2\u53d1\u5e03</span>\r\n      ) : (\r\n        <span>\u672a\u53d1\u5e03</span>\r\n      )}\r\n      &nbsp;\r\n      <button onClick={() => edit(id)}>\u7f16\u8f91\u95ee\u5377</button>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241205152744672.png",alt:"image-20241205152744672"})}),"\n",(0,t.jsxs)(e.p,{children:["\u6539\u9020",(0,t.jsx)(e.code,{children:"list1.jsx"})," \u8fd9\u6837\u5c31\u5c06\u663e\u793a\u95ee\u5377\u5361\u7247\u62bd\u53d6\u51fa\u6765\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684\u7ec4\u4ef6\u4e86"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import React from "react";\r\nimport "./list1.css";\r\nimport { QuestCard } from "./QuestCard";\r\n\r\nexport const List1 = () => {\r\n  const questionList = [\r\n    { id: "q1", title: "\u95ee\u53771", isPublished: true },\r\n    { id: "q2", title: "\u95ee\u53772", isPublished: true },\r\n    { id: "q3", title: "\u95ee\u53773", isPublished: true },\r\n    { id: "q4", title: "\u95ee\u53774", isPublished: false },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <h1>\u5217\u8868\u8be6\u60c5\u9875</h1>\r\n      <div>\r\n        {questionList.map((question) => {\r\n          const { id, title, isPublished } = question;\r\n          return (\r\n            <QuestCard\r\n              key={id}\r\n              id={id}\r\n              title={title}\r\n              isPublished={isPublished}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5c0f\u7ed3\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5982\u4f55\u5b9a\u4e49\u548c\u4f7f\u7528\u7ec4\u4ef6"}),"\n",(0,t.jsx)(e.li,{children:"props-\u7236\u7ec4\u4ef6\u7ed9\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e"}),"\n",(0,t.jsxs)(e.li,{children:["\u91cd\u6784\u5217\u8868\u9875 \u62bd\u8c61\u51fa",(0,t.jsx)(e.code,{children:"QuestionCard"})]}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210135546835.png",alt:"image-20241210135546835"})}),"\n",(0,t.jsx)(e.h3,{id:"children",children:"children"}),"\n",(0,t.jsxs)(e.p,{children:["\u573a\u666f: \u5f53\u6211\u4eec\u628a\u5185\u5bb9\u7b7e\u5230\u5728\u5b50\u7ec4\u4ef6\u6807\u7b7e\u4e2d\u65f6,\u7236\u7ec4\u4ef6\u4f1a\u81ea\u52a8\u7684\u5728\u540d\u4e3a ",(0,t.jsx)(e.code,{children:"children"}),"\u7684 prop \u4e2d\u63a5\u53d7\u5185\u5bb9"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210140715462.png",alt:"image-20241210140715462"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5b50\u7ec4\u4ef6\u4f20\u9012\u7236\u7ec4\u4ef6",children:"\u5b50\u7ec4\u4ef6\u4f20\u9012\u7236\u7ec4\u4ef6"}),"\n",(0,t.jsx)(e.p,{children:"\u987e\u540d\u601d\u4e49 \u5176\u5b9e\u5c31\u662f\u5b50\u7ec4\u4ef6\u7ed9\u7236\u7ec4\u4ef6\u4f20\u9012\u4fe1\u606f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"function Son({onGetSonMsg}) {\r\n//     son \u4e2d\u7684\u6570\u636e\r\n    const sonMsg = 'this is son msg';\r\n    return <div>this is son\r\n        <button onClick={() => onGetSonMsg(sonMsg)}>sendMsg</button>\r\n    </div>\r\n}\r\n\r\nfunction AppDemo() {\r\n    const [msg, setMsg] = useState('')\r\n    const getMsg = (msg) => {\r\n        console.log(msg)\r\n        // msg = '\u6211\u662f\u4fe1\u606f'  \u8fd9\u4e48\u6539\u662f\u65e0\u6548\u7684\r\n        setMsg(msg)\r\n    }\r\n    return <div>\r\n        this is APP Son send msg =>{msg}\r\n        <Son onGetSonMsg={getMsg}/>\r\n    </div>\r\n}\r\n\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5144\u5f1f\u7ec4\u4ef6\u4f20\u9012",children:"\u5144\u5f1f\u7ec4\u4ef6\u4f20\u9012"}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528\u72b6\u6001\u63d0\u5347\u5b9e\u73b0\u5144\u5f1f\u7ec4\u4ef6\u901a\u4fe1"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5176\u5b9e\u5c31\u662f\u6709\u5171\u540c\u7236\u7ec4\u4ef6\u7684\u4e24\u4e2a\u5b50\u7ec4\u4ef6\u4f20\u9012\u4fe1\u606f"}),"\n",(0,t.jsx)(e.li,{children:"a \u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6 \u7136\u540e\u7531\u7236\u7ec4\u4ef6 \u4f20\u9012\u7ed9 b"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210142620094.png",alt:"image-20241210142620094"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { useState } from "react";\r\n\r\nfunction A({ onGetAName }) {\r\n  const name = "a name";\r\n  return (\r\n    <div>\r\n      this is A<button onClick={() => onGetAName(name)}>send</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction B({ pushAName }) {\r\n  return <div>this is B{pushAName}</div>;\r\n}\r\n\r\nfunction AppDemo() {\r\n  const [aName, setAName] = useState("");\r\n  const getAName = (name) => {\r\n    console.log(name);\r\n    setAName(name);\r\n  };\r\n  return (\r\n    <div>\r\n      this is app\r\n      <A onGetAName={getAName} />\r\n      <B pushAName={aName} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppDemo;\r\nfunction A({ onGetAName }) {\r\n  const name = "a name";\r\n  return (\r\n    <div>\r\n      this is A<button onClick={() => onGetAName(name)}>send</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction B({ pushAName }) {\r\n  return <div>this is B{pushAName}</div>;\r\n}\r\n\r\nfunction AppDemo() {\r\n  const [aName, setAName] = useState("");\r\n  const getAName = (name) => {\r\n    console.log(name);\r\n    setAName(name);\r\n  };\r\n  return (\r\n    <div>\r\n      this is app\r\n      <A onGetAName={getAName} />\r\n      <B pushAName={aName} />\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210143414793.png",alt:"image-20241210143414793"})}),"\n",(0,t.jsx)(e.h2,{id:"react-\u62d3\u5c55",children:"React \u62d3\u5c55"}),"\n",(0,t.jsx)(e.h3,{id:"reactmemo",children:"React.memo"}),"\n",(0,t.jsx)(e.p,{children:"\u5141\u8bb8\u7ec4\u4ef6\u5728 Props \u6ca1\u6709\u6539\u53d8\u7684\u60c5\u51b5\u4e0b \u8df3\u8fc7\u6e32\u67d3"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"react \u7ec4\u4ef6\u9ed8\u8ba4\u7684\u6e32\u67d3\u673a\u5236 : \u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u7684\u65f6\u5019\u5b50\u7ec4\u4ef6\u4e5f\u4f1a\u91cd\u65b0\u6e32\u67d3"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import React, { useState } from "react";\r\n\r\nfunction Son() {\r\n  console.log("\u5b50\u7ec4\u4ef6\u88ab\u91cd\u65b0\u6e32\u67d3\u4e86");\r\n  return <div>this is son</div>;\r\n}\r\n\r\nconst ReactMemoDemo = () => {\r\n  const [, forceUpdate] = useState();\r\n  console.log("\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u4e86");\r\n  return (\r\n    <>\r\n      <Son />\r\n      <button onClick={() => forceUpdate(Math.random())}>update</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReactMemoDemo;\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250105160106041.png",alt:"image-20250105160106041"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u4e2a\u65f6\u5019\u4f7f\u7528 memo \u5305\u88f9\u4f4f\u7ec4\u4ef6 \u5c31\u53ef\u4ee5\u907f\u514d \u4f46\u662f \u6ce8\u610f \u53ea\u8003\u8651 props \u53d8\u5316\u624d\u80fd\u4f7f\u7528\\"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import React, { memo, useState } from "react";\r\n\r\n// function Son() {\r\n//     console.log(\'\u5b50\u7ec4\u4ef6\u88ab\u91cd\u65b0\u6e32\u67d3\u4e86\')\r\n//     return <div>this is son</div>\r\n// }\r\n\r\nconst MemoSon = memo(function Son() {\r\n  console.log("\u6211\u662f\u5b50\u7ec4\u4ef6 \u6211\u88ab\u6e32\u67d3\u4e86");\r\n  return <div>this is son</div>;\r\n});\r\nconst ReactMemoDemo = () => {\r\n  const [, forceUpdate] = useState();\r\n  console.log("\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u4e86");\r\n  return (\r\n    <>\r\n      <MemoSon />\r\n      <button onClick={() => forceUpdate(Math.random())}>update</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReactMemoDemo;\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250105160353905.png",alt:"image-20250105160353905"})}),"\n",(0,t.jsx)(e.h4,{id:"reactmemo-\u6bd4\u8f83\u673a\u5236",children:"React.memo \u6bd4\u8f83\u673a\u5236"}),"\n",(0,t.jsx)(e.p,{children:"React \u4f1a\u5bf9\u6bcf\u4e00\u4e2a prop \u8fdb\u884c object.is \u6bd4\u8f83 \u8fd4\u56de true \u8868\u793a\u6ca1\u6709\u53d8\u5316"}),"\n",(0,t.jsx)(e.p,{children:"PS: \u5bf9\u4e8e\u5f15\u7528\u7c7b\u578b React \u53ea\u5173\u5fc3\u5f15\u7528\u662f\u5426\u53d8\u5316"}),"\n",(0,t.jsx)(e.h3,{id:"reactts-\u7279\u6b8a\u7684-children-\u5c5e\u6027",children:"React+TS \u7279\u6b8a\u7684 children \u5c5e\u6027"}),"\n",(0,t.jsxs)(e.p,{children:["\u6211\u4eec\u53ef\u4ee5\u5c06\u7c7b\u578b\u8bbe\u7f6e\u4e3a",(0,t.jsx)(e.code,{children:"ReactNode"}),"\u4f5c\u4e3a",(0,t.jsx)(e.code,{children:"children"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"type Props = {\r\n\r\n\tclassName: string\r\n\r\n\tchildren: React.ReactNode\r\n\r\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u6837\u4f5c\u4e3a\u53c2\u6570\u5c31\u53ef\u4ee5\u5373\u63a5\u53d7\u5176\u4ed6\u5c5e\u6027 \u4e5f\u63a5\u53d7 children \u4e86"}),"\n",(0,t.jsx)(e.h1,{id:"hooks",children:"HOOKS"}),"\n",(0,t.jsx)(e.h3,{id:"usestate",children:"useState"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u662f React \u4e2d\u7684\u4e00\u4e2a hook \u51fd\u6570 \u5b83\u5141\u8bb8\u6211\u4eec\u5411\u7ec4\u4ef6\u6dfb\u52a0\u4e00\u4e2a\u72b6\u6001\u53d8\u8138,\u4ece\u800c\u63a7\u5236\u7ec4\u4ef6\u7684\u6e32\u67d3\u7ed3\u679c"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210141807465.png",alt:"image-20241210141807465"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'const [msg, setMsg] = useState("");\n'})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"useState \u662f\u4e00\u4e2a\u51fd\u6570 \u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u6570\u7ec4"}),"\n",(0,t.jsx)(e.li,{children:"\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u72b6\u6001\u53d8\u91cf,\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f set \u51fd\u6570\u7528\u4e8e\u4fee\u6539\u72b6\u6001"}),"\n",(0,t.jsx)(e.li,{children:"useState \u7684\u53c2\u6570\u5c06\u4f5c\u4e3a\u72b6\u6001\u53d8\u91cf\u7684\u521d\u59cb\u503c"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539\u89c4\u5219"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5728 React \u4e2d \u72b6\u6001\u88ab\u8ba4\u4e3a\u662f\u53ea\u8bfb\u7684 \u6211\u4eec\u5e94\u8be5\u66ff\u6362\u800c\u4e0d\u662f\u4fee\u6539 \u76f4\u63a5\u4fee\u6539\u72b6\u6001\u4e0d\u4f1a\u5f97\u5230\u89c6\u56fe\u7684\u66f4\u65b0"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'const [msg, setMsg] = useState("");\r\nconst getMsg = (msg) => {\r\n  console.log(msg);\r\n  // msg = \'\u6211\u662f\u4fe1\u606f\'  \u8fd9\u4e48\u6539\u662f\u65e0\u6548\u7684\r\n  setMsg(msg);\r\n};\r\n\r\n//\u5982\u679c\u662f\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\r\nconst [msg, setMsg] = useState({ id: "122ds" });\r\nconst getMsg = (msg) => {\r\n  console.log(msg);\r\n  // msg = \'\u6211\u662f\u4fe1\u606f\'  \u8fd9\u4e48\u6539\u662f\u65e0\u6548\u7684\r\n  setMsg({\r\n    ...msg,\r\n    id: "123",\r\n  });\r\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"usecontext-\u7ec4\u4ef6\u901a\u4fe1",children:"useContext \u7ec4\u4ef6\u901a\u4fe1"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528 createContext \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u4e0a\u4e0b\u6587\u5bf9\u8c61 ctx="}),"\n",(0,t.jsx)(e.li,{children:"\u5728\u9876\u5c42\u7ec4\u4ef6 app \u4e2d \u901a\u8fc7 ctx.Provider \u63d0\u4f9b\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:"\u5728\u5e95\u5c42\u7ec4\u4ef6 \u901a\u8fc7 useContext \u94a9\u5b50\u51fd\u6570\u83b7\u53d6\u6d88\u8d39\u6570\u636e"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u6848\u4f8b :"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210143845871.png",alt:"image-20241210143845871"})}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u5c06 app \u7684\u6d88\u606f\u4f20\u9012\u5230 b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-TSX",children:'\r\nconst MsgContext = createContext()\r\n\r\nfunction A() {\r\n    return <div>this is A\r\n        <B/>\r\n    </div>\r\n}\r\n\r\nfunction B() {\r\n    const msg = useContext(MsgContext)\r\n    return <div>this is B from APP:{msg}\r\n    </div>\r\n}\r\n\r\nfunction AppDemo() {\r\n    const msg = "this is app msg"\r\n    return (<div>\r\n        <MsgContext.Provider value={msg}>\r\n            this is app\r\n            <A/>\r\n        </MsgContext.Provider>\r\n    </div>)\r\n}\r\n\n'})}),"\n",(0,t.jsx)(e.h3,{id:"useeffect",children:"useEffect"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u662f React \u4e2d\u7684\u4e00\u4e2a hook \u51fd\u6570 ,\u7528\u4e8e\u5728 React \u4e2d\u521b\u5efa\u4e0d\u662f\u7531\u4e8b\u4ef6\u5f15\u8d77\u800c\u662f\u7531\u6e32\u67d3\u672c\u8eab\u5f15\u8d77\u7684\u64cd\u4f5c,\u6bd4\u5982\u53d1\u9001 AJAX \u8bf7\u6c42 \u66f4\u6539 DOM \u7b49"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210144624854.png",alt:"image-20241210144624854"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u57fa\u7840\u4f7f\u7528"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u9700\u6c42: \u5728\u7ec4\u4ef6\u6e32\u67d3\u5b8c\u6bd5\u540e,\u4ece\u670d\u52a1\u5668\u83b7\u5f97\u5217\u8868\u6570\u636e\u5c55\u793a"}),"\n",(0,t.jsx)(e.p,{children:"\u8bed\u6cd5:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-TSX",children:"useEffect(()=>{},[])\n"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u53c2\u6570 1 \u662f\u4e00\u4e2a\u51fd\u6570,\u53ef\u4ee5\u628a\u5b83\u53eb\u505a\u526f\u4f5c\u7528\u51fd\u6570,\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u653e\u7f6e\u8981\u6267\u884c\u7684\u64cd\u4f5c"}),"\n",(0,t.jsx)(e.li,{children:"\u53c2\u6570 2 \u662f\u4e00\u4e2a\u6570\u7ec4 ,\u6570\u7ec4\u91cc\u653e\u7f6e\u4f9d\u8d56\u9879,\u4e0d\u540c\u4f9d\u8d56\u9879\u4f1a\u5f71\u54cd\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u6267\u884c,\u5f53\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4\u7684\u65f6\u5019,\u526f\u4f5c\u7528\u51fd\u6570\u53ea\u4f1a\u5728\u7ec4\u4ef6\u6e32\u67d3\u5b8c\u6bd5\u540e\u6267\u884c\u4e00\u6b21"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { useEffect, useState } from "react";\r\n\r\nconst URL = "http://geek.itheima.net/v1_0/channels";\r\n\r\nfunction AppDemo() {\r\n  const [list, setList] = useState([]);\r\n  useEffect(() => {\r\n    async function getList() {\r\n      const res = await fetch(URL);\r\n      const jsonRes = await res.json();\r\n      console.log(jsonRes);\r\n      setList(jsonRes.data.channels);\r\n    }\r\n\r\n    getList();\r\n    console.log("list", list);\r\n  }, []);\r\n  return (\r\n    <div>\r\n      this is app\r\n      <ul>\r\n        {list.map((item) => (\r\n          <li key={item.id}>{item.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppDemo;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210150832714.png",alt:"image-20241210150832714"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4f9d\u8d56\u9879\u53c2\u6570"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210150906961.png",alt:"image-20241210150906961"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-TSX",children:'function AppDemo() {\r\n    /*1. \u6ca1\u6709\u4f9d\u8d56\u9879*/\r\n    const [count, setCount] = useState(0);\r\n    // useEffect(() => {\r\n    //     console.log("\u526f\u4f5c\u7528\u51fd\u6570\u6267\u884c\u4e86")\r\n    // });\r\n    /*2 \u4f20\u5165\u7a7a\u6570\u7ec4\u4f9d\u8d56*/\r\n    // useEffect(() => {\r\n    //     console.log("\u526f\u4f5c\u7528\u51fd\u6570\u6267\u884c\u4e86")\r\n    // }, []);\r\n    useEffect(() => {\r\n        console.log("\u526f\u4f5c\u7528\u51fd\u6570\u6267\u884c\u4e86")\r\n    }, [count]);\r\n    return <div>this is app\r\n        <button onClick={() => setCount(count + 1)}>+{count}</button>\r\n    </div>\r\n}\r\n\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6e05\u9664\u526f\u4f5c\u7528"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"useEffect"}),"\u4e2d\u7f16\u5199\u7684\u7531\u6e32\u67d3\u672c\u8eab\u5f15\u8d77\u7684\u5bf9\u63a5\u7ec4\u4ef6\u5916\u90e8\u7684\u64cd\u4f5c\uff0c\u793e\u533a\u4e5f\u7ecf\u5e38\u628a\u5b83\u53eb\u505a\u526f\u4f5c\u7528\u64cd\u4f5c\uff0c\u6211\u4eec\u60f3\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6\u628a\u8fd9\u4e2a\u5b9a\u65f6\u5668\u6e05\u7406\u6389\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\u6e05\u7406\u526f\u4f5c\u7528"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { useEffect, useState } from "react";\r\n\r\nfunction Son() {\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      console.log("\u5b9a\u65f6\u5668\u6267\u884c\u4e2d...");\r\n    }, 1000);\r\n    return () => {\r\n      //     \u6e05\u695a\u526f\u4f5c\u7528\r\n      clearInterval(timer);\r\n    };\r\n  }, []);\r\n  return <div>this is son</div>;\r\n}\r\n\r\nfunction AppDemo() {\r\n  const [show, setShow] = useState(true);\r\n  return (\r\n    <div>\r\n      this is app\r\n      {show && <Son />}\r\n      <button onClick={() => setShow(false)}>\u5378\u8f7d\u7ec4\u4ef6</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppDemo;\n'})}),"\n",(0,t.jsx)(e.h3,{id:"usereducer",children:"useReducer"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5b9a\u4e49",(0,t.jsx)(e.code,{children:"redcuer"}),"\u51fd\u6570 (\u6839\u636e\u4e0d\u540c\u7684 action \u8fd4\u56de\u4e0d\u540c\u7684\u65b0\u72b6\u6001)"]}),"\n",(0,t.jsx)(e.li,{children:"\u5728\u7ec4\u4ef6\u4e2d\u8c03\u7528 useReducer \u4f20\u5165 reducer \u51fd\u6570\u548c\u521d\u59cb\u72b6\u6001"}),"\n",(0,t.jsx)(e.li,{children:"\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019,\u901a\u8fc7 dispatch \u51fd\u6570 \u901a\u8fc7 reducer \u8981\u8fd4\u56de\u4ec0\u4e48\u72b6\u6001\u5e76\u4e14\u6e32\u67d3 UI"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import React, { useReducer } from "react";\r\n\r\n// \u6839\u636e\u4e0d\u540c\u7684case \u8fd4\u56de\u4e0d\u540c\u7684\u72b6\u6001\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case "INC":\r\n      return state + 1;\r\n    case "DEC":\r\n      return state - 1;\r\n    case "SET":\r\n      return (state = action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst ReducerDemo = () => {\r\n  // \u4f7f\u7528 use reducer\r\n  const [state, dispatch] = useReducer(reducer, 0);\r\n  return (\r\n    <div>\r\n      <button onClick={() => dispatch({ type: "INC" })}>+</button>\r\n      {state}\r\n      <button onClick={() => dispatch({ type: "DEC" })}>-</button>\r\n      <button onClick={() => dispatch({ type: "SET", payload: 100 })}>\r\n        Set\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReducerDemo;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u4e2a\u94a9\u5b50\u76f8\u5f53\u4e8e \u4e00\u4e2a\u53ef\u4ee5\u6709\u591a\u4e2a\u4fee\u6539 state \u65b9\u6cd5\u7684 usestate"}),"\n",(0,t.jsx)(e.h3,{id:"usememo",children:"useMemo"}),"\n",(0,t.jsx)(e.p,{children:"\u4f5c\u7528\uff1a\u5b83\u5728\u6bcf\u6b21\u91cd\u65b0\u6e32\u67d3\u7684\u65f6\u5019\u80fd\u591f\u7f13\u5b58\u8ba1\u7b97\u7684\u7ed3\u679c"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5c0f\u6848\u4f8b"}),"\n"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6211\u4eec\u8bbe\u7f6e\u4e00\u4e2a\u8ba1\u7b97\u7ed3\u679c\u7684\u65b9\u6cd5 \u8fd9\u4e2a\u65b9\u6cd5\u76f4\u63a5\u7528 \u5927\u62ec\u53f7\u7684\u65b9\u5f0f\u6e32\u67d3"}),"\n",(0,t.jsx)(e.li,{children:"\u8bbe\u7f6e\u4e24\u4e2a\u6309\u94ae \u6bcf\u6b21 usestate \u53d1\u751f\u53d8\u5316 \u90fd\u4f1a\u6e32\u67d3\u9875\u9762 \u4f1a\u5bfc\u81f4\u4e24\u4e2a\u6309\u94ae\u65e0\u8bba\u70b9\u51fb\u54ea\u4e00\u4e2a\u90fd\u4f1a\u5bfc\u81f4\u8ba1\u7b97\u7ed3\u679c\u65b9\u6cd5\u7684\u5185\u5bb9\u51fa\u73b0\u53d8\u5316"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import React, { useState } from "react";\r\n\r\nfunction factorialOf(n) {\r\n  console.log("\u6590\u6ce2\u90a3\u5951\u51fd\u6570\u6267\u884c\u4e86");\r\n  return n <= 0 ? 1 : n * factorialOf(n - 1);\r\n}\r\n\r\nconst MemoDemo = () => {\r\n  const [count, setCount] = useState(0);\r\n  // \u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u4e4b\u548c\r\n  const sumByCount = factorialOf(count);\r\n\r\n  const [num, setNum] = useState(0);\r\n\r\n  return (\r\n    <>\r\n      {sumByCount}\r\n      <button onClick={() => setCount(count + 1)}>+count:{count}</button>\r\n      <button onClick={() => setNum(num + 1)}>+num:{num}</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemoDemo;\n'})}),"\n",(0,t.jsx)(e.p,{children:"useMemo \u5c31\u662f\u7528\u6765\u89e3\u51b3\u8fd9\u79cd\u95ee\u9898\u7684"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import React, { useMemo, useState } from "react";\r\n\r\nfunction factorialOf(n) {\r\n  console.log("\u6590\u6ce2\u90a3\u5951\u51fd\u6570\u6267\u884c\u4e86");\r\n  return n <= 0 ? 1 : n * factorialOf(n - 1);\r\n}\r\n\r\nconst MemoDemo = () => {\r\n  const [count, setCount] = useState(0);\r\n  // \u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u4e4b\u548c\r\n  // const sumByCount = factorialOf(count)\r\n  const sumByCount = useMemo(() => {\r\n    return factorialOf(count);\r\n  }, [count]);\r\n\r\n  const [num, setNum] = useState(0);\r\n\r\n  return (\r\n    <>\r\n      {sumByCount}\r\n      <button onClick={() => setCount(count + 1)}>+count:{count}</button>\r\n      <button onClick={() => setNum(num + 1)}>+num:{num}</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemoDemo;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5c31\u4e0d\u4f1a\u51fa\u73b0 \u70b9\u51fb num \u6309\u94ae\u4e5f\u4f1a\u89e6\u53d1\u6c42\u548c\u65b9\u6cd5\u60c5\u51b5\u4e86"}),"\n",(0,t.jsx)(e.h3,{id:"usecallback",children:"useCallback"}),"\n",(0,t.jsx)(e.p,{children:"\u4f5c\u7528 \u5728\u7ec4\u4ef6\u591a\u6b21\u91cd\u65b0\u6e32\u67d3\u7684\u65f6\u5019 \u7f13\u5b58\u51fd\u6570"}),"\n",(0,t.jsx)(e.h3,{id:"\u81ea\u5b9a\u4e49-hook",children:"\u81ea\u5b9a\u4e49 hook"}),"\n",(0,t.jsx)(e.p,{children:"\u6682\u65f6\u6ca1\u6709\u4ec0\u4e48\u5f88\u597d\u7684\u4f8b\u5b50 \u5199\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684 \u4e4b\u540e\u518d\u62d3\u5c55"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { useState } from "react";\r\n\r\nfunction useToggle() {\r\n  // \u53ef\u590d\u7528\u4ee3\u7801\r\n  const [value, setValue] = useState(true);\r\n  const toggle = () => {\r\n    setValue(!value);\r\n  };\r\n  return { value, toggle };\r\n}\r\n\r\nfunction AppDemo() {\r\n  const { value, toggle } = useToggle();\r\n  return (\r\n    <div>\r\n      this is app\r\n      {value && <div>this is show Toggle</div>}\r\n      <button onClick={toggle}>Toggle</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppDemo;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210152744370.png",alt:""})}),"\n",(0,t.jsx)(e.p,{children:"\u70b9\u51fb"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241210152754942.png",alt:""})}),"\n",(0,t.jsx)(e.h1,{id:"redux",children:"Redux"}),"\n",(0,t.jsxs)(e.p,{children:["\u5b8c\u6574\u4ee3\u7801\u6848\u4f8b\u4ed3\u5e93 :",(0,t.jsx)(e.a,{href:"https://gitee.com/cold-abyss_admin/react-redux-meituan",children:"https://gitee.com/cold-abyss_admin/react-redux-meituan"})]}),"\n",(0,t.jsx)(e.p,{children:"Redux \u662f React \u6700\u5e38\u7528\u7684\u96c6\u4e2d\u72b6\u6001\u7ba1\u7406\u5de5\u5177,\u7c7b\u4f3c\u4e0e VUE \u7684 pinia(vuex) \u53ef\u4ee5\u72ec\u7acb\u4e8e\u6846\u67b6\u8fd0\u884c"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241211182447283.png",alt:"image-20241211182447283"})}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528\u601d\u8def:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5b9a\u4e49\u4e00\u4e2a",(0,t.jsx)(e.code,{children:"reducer"}),"\u51fd\u6570 \u6839\u636e\u5f53\u524d\u60f3\u8981\u505a\u7684\u4fee\u6539\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u72b6\u6001"]}),"\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528 createStore \u65b9\u6cd5\u4f20\u5165 reducer \u51fd\u6570 \u751f\u6210\u4e00\u4e2a store \u5b9e\u4f8b\u5bf9\u8c61\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"subscribe \u65b9\u6cd5 \u8ba2\u9605\u6570\u636e\u7684\u53d8\u5316(\u6570\u636e\u4e00\u65e6\u53d8\u5316\uff0c\u53ef\u4ee5\u5f97\u5230\u901a\u77e5)"}),"\n",(0,t.jsx)(e.li,{children:"dispatch \u65b9\u6cd5\u63d0\u4ea4 action \u5bf9\u8c61 \u544a\u8bc9 reducer \u4f60\u60f3\u600e\u4e48\u6539\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:"getstate \u65b9\u6cd5 \u83b7\u53d6\u6700\u65b0\u7684\u72b6\u6001\u6570\u636e\u66f4\u65b0\u5230\u89c6\u56fe\u4e2d"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241211185420416.png",alt:"image-20241211185420416"})}),"\n",(0,t.jsx)(e.h2,{id:"\u914d\u7f6e-redux",children:"\u914d\u7f6e Redux"}),"\n",(0,t.jsx)(e.p,{children:"\u5728 React \u4e2d\u4f7f\u7528 redux\uff0c\u5b98\u65b9\u8981\u6c42\u5b89\u88c5\u4fe9\u4e2a\u5176\u4ed6\u63d2\u4ef6-\u548c react-redux"}),"\n",(0,t.jsx)(e.p,{children:"\u5b98\u65b9\u63a8\u8350\u6211\u4eec\u4f7f\u7528 RTK(ReduxToolkit) \u8fd9\u662f\u4e00\u5957\u5de5\u5177\u96c6\u5408 \u53ef\u4ee5\u7b80\u5316\u4e66\u5199\u65b9\u5f0f"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7b80\u5316 store \u914d\u7f6e"}),"\n",(0,t.jsx)(e.li,{children:"\u5185\u7f6e immer \u53ef\u53d8\u5f0f\u72b6\u6001\u4fee\u6539"}),"\n",(0,t.jsx)(e.li,{children:"\u5185\u7f6e thunk \u66f4\u597d\u7684\u5f02\u6b65\u521b\u5efa"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u8c03\u8bd5\u5de5\u5177\u5b89\u88c5",children:"\u8c03\u8bd5\u5de5\u5177\u5b89\u88c5"}),"\n",(0,t.jsx)(e.p,{children:"\u8c37\u6b4c\u6d4f\u89c8\u5668\u641c\u7d22 redux-devtool \u5b89\u88c5 \u5de5\u5177"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4f9d\u8d56\u5b89\u88c5"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"#redux\u5de5\u5177\u5305\r\nnpm i @reduxjs/toolkit react-redux\r\n#\u8c03\u8bd5\u5de5\u5177\u5305\r\nnpm install --save-dev redux-devtools-extension\r\n\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213153131189.png",alt:"image-20241213153131189"})}),"\n",(0,t.jsx)(e.h3,{id:"store-\u76ee\u5f55\u673a\u6784\u8bbe\u8ba1",children:"store \u76ee\u5f55\u673a\u6784\u8bbe\u8ba1"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u901a\u5e38\u96c6\u4e2d\u72b6\u6001\u7ba1\u7406\u7684\u90e8\u5206\u90fd\u4f1a\u5355\u72ec\u521b\u5efa\u4e00\u4e2a",(0,t.jsx)(e.code,{children:"store"}),"\u76ee\u5f55"]}),"\n",(0,t.jsxs)(e.li,{children:["\u5e94\u7528\u901a\u5e38\u4f1a\u6709\u591a\u4e2a\u5b50 store \u6a21\u5757,\u6240\u4ee5\u521b\u5efa\u4e00\u4e2a",(0,t.jsx)(e.code,{children:"modules"}),"\u8fdb\u884c\u5185\u90e8\u4e1a\u52a1\u7684\u533a\u5206"]}),"\n",(0,t.jsxs)(e.li,{children:["store \u4e2d\u7684\u5165\u53e3\u6587\u4ef6 index.js \u7684\u4f5c\u7528\u662f\u7ec4\u5408\u6240\u6709",(0,t.jsx)(e.code,{children:"modules"}),"\u7684\u5b50\u6a21\u5757 \u5e76\u4e14\u5bfc\u51fa store"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241211190849933.png",alt:"image-20241211190849933"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5feb\u901f\u4e0a\u624b",children:"\u5feb\u901f\u4e0a\u624b"}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528 react+redux \u5f00\u53d1\u4e00\u4e2a\u8ba1\u6570\u5668 \u719f\u6089\u4e00\u4e0b\u6280\u672f"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241211190956868.png",alt:"image-20241211190956868"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"Reacttoolkit"})," \u521b\u5efa counterStore"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createSlice } from "@reduxjs/toolkit";\r\n\r\nconst counterStore = createSlice({\r\n  name: "counter",\r\n  // \u521d\u59cb\u5316 state\r\n  initialState: {\r\n    count: 0,\r\n  },\r\n  // \u4fee\u6539\u72b6\u6001\u7684\u65b9\u6cd5\r\n  reducers: {\r\n    increment(state) {\r\n      state.count++;\r\n    },\r\n    decrement(state) {\r\n      state.count--;\r\n    },\r\n  },\r\n});\r\n\r\n// \u89e3\u6784\u51fd\u6570\r\nconst { increment, decrement } = counterStore.actions;\r\n// \u83b7\u53d6reducer\r\nconst reducer = counterStore.reducer;\r\nexport { increment, decrement };\r\nexport default reducer;\n'})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"index.js"}),"\u96c6\u5408 counter"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { configureStore } from "@reduxjs/toolkit";\r\nimport counterStore from "./modules/counterStore";\r\nconst store = configureStore({\r\n  reducer: {\r\n    couner: counterStore,\r\n  },\r\n});\r\n\r\nexport default store;\n'})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["\u4e3a React \u6ce8\u5165",(0,t.jsx)(e.code,{children:"store"}),", ",(0,t.jsx)(e.code,{children:"react-redux"}),"\u8d1f\u8d23\u628a Redux \u548c React \u94fe\u63a5 \u8d77\u6765\uff0c\u5185\u7f6e ",(0,t.jsx)(e.code,{children:"Provider"}),"\u7ec4\u4ef6 \u901a\u8fc7",(0,t.jsx)(e.code,{children:" store"})," \u53c2\u6570\u628a\u521b\u5efa\u597d\u7684 store \u5b9e\u4f8b\u6ce8\u5165\u5230\u5e94\u7528\u4e2d \u627e\u5230\u9879\u76ee\u4e2d\u7684",(0,t.jsx)(e.code,{children:"index.js"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'const root = ReactDOM.createRoot(document.getElementById("root"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>\r\n);\n'})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528 useSelector \u83b7\u53d6\u5230\u6570\u636e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import { useSelector } from "react-redux";\r\n\r\nfunction App() {\r\n  const { count } = useSelector((state) => state.counter);\r\n  return <div className="App">{count}</div>;\r\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 \u94a9\u5b50\u51fd\u6570 ",(0,t.jsx)(e.code,{children:"useDispatch"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { useDispatch, useSelector } from "react-redux";\r\nimport { inscrement, descrement } from "./store/modules/counterStore";\r\nfunction App() {\r\n  const { count } = useSelector((state) => state.counter);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div className="App">\r\n      <button onClick={() => dispatch(inscrement())}>+</button>\r\n      {count}\r\n      <button onClick={() => dispatch(descrement())}>-</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\n'})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"\u67e5\u770b\u6548\u679c"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241211194212353.png",alt:"image-20241211194212353"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u63d0\u4ea4-acntion-\u4f20\u53c2",children:"\u63d0\u4ea4 acntion \u4f20\u53c2"}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"reducers"}),"\u7684\u540c\u6b65\u4fee\u6539\u65b9\u6cd5\u4e2d\u6dfb\u52a0 action \u5bf9\u8c61\u53c2\u6570,\u5728\u8c03\u7528",(0,t.jsx)(e.code,{children:"actionCreater"}),"\u53c2\u6570\u7684\u65f6\u5019\u4f20\u9012\u53c2\u6570,\u53c2\u6570\u4f1a\u88ab\u4f20\u9012\u5230 action \u5bf9\u8c61\u7684",(0,t.jsx)(e.code,{children:"payload"}),"\u5c5e\u6027\u4e0a"]}),"\n",(0,t.jsxs)(e.p,{children:["\u6211\u4eec\u7ee7\u7eed\u7684\u6539\u9020\u4e00\u4e0b",(0,t.jsx)(e.code,{children:"counterStore"})]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"action"}),"\u8fd9\u4e2a\u5bf9\u8c61\u53c2\u6570\u6709\u4e2a\u56fa\u5b9a\u7684\u5c5e\u6027\u53eb payload \u7528\u6765\u63a5\u6536\u4f20\u53c2"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241212183228071.png",alt:"image-20241212183228071"})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e ",(0,t.jsx)(e.code,{children:"app.js"})," \u6dfb\u52a0\u4e24\u4e2a\u6309\u94ae \u7528\u6765\u4f20\u9012\u53c2\u6570"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241212183251405.png",alt:"image-20241212183251405"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241212183353807.png",alt:"image-20241212183353807"})}),"\n",(0,t.jsx)(e.h2,{id:"reudx-action-\u5f02\u6b65\u64cd\u4f5c",children:"Reudx action \u5f02\u6b65\u64cd\u4f5c"}),"\n",(0,t.jsx)(e.p,{children:"\u533a\u5206\u540c\u6b65\u548c\u5f02\u6b65 action"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241212192017617.png",alt:"image-20241212192017617"})}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u679c action \u7684\u5185\u5bb9\u662f object \u5bf9\u8c61\u90a3\u5c31\u662f\u540c\u6b65 action,\u5982\u679c\u662f\u51fd\u6570 \u90a3\u5c31\u662f\u5f02\u6b65 action"}),"\n",(0,t.jsx)(e.p,{children:"\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u5f02\u6b65 action \u64cd\u4f5c\u6765\u4f7f\u7528\u8bf7\u6c42 ?"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4f8b\u5b50:"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0 \u9694\u4e94\u5206\u949f \u4e0a\u86cb\u7092\u996d"}),"\n",(0,t.jsx)(e.p,{children:"\u4e00\u79cd\u662f\u5ba2\u4eba\u81ea\u5df1\u601d\u8003\u4e94\u5206\u949f"}),"\n",(0,t.jsx)(e.p,{children:"\u4e00\u79cd\u662f\u5ba2\u4eba\u70b9\u597d \u53eb\u670d\u52a1\u5458\u4e94\u5206\u949f\u4e4b\u540e\u4e0a"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u4e2a\u670d\u52a1\u5458\u5c31\u662f redux \u6211\u4eec\u521a\u5e0c\u671b\u76f8\u5173 aciton \u7684\u64cd\u4f5c\u90fd\u5728 redux \u91cc\u5b8c\u6210\u8fd9\u4e2a\u65f6\u5019\u540c\u6b65 action \u5c31\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\u4e86 \u6240\u4ee5\u9700\u8981\u4f7f\u7528\u5f02\u6b65 action"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u200b \u5f02\u6b65\u64cd\u4f5c\u7684\u4ee3\u7801\u53d8\u5316\u4e0d\u5927,\u6211\u4eec\u521b\u5efa store \u7684\u5199\u6cd5\u4fdd\u6301\u4e0d\u53d8 ,\u4f46\u662f\u5728\u51fd\u6570\u4e2d\u7528\u5f02\u6b65\u64cd\u4f5c\u7684\u65f6\u5019\u9700\u8981\u4e00\u4e2a\u80fd\u5f02\u6b65\u6267\u884c\u51fd\u6570 return \u51fa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u800c\u6211\u4eec\u7684\u5f02\u6b65\u64cd\u4f5c\u5378\u8f7d\u65b0\u7684\u51fd\u6570\u4e2d."}),"\n",(0,t.jsx)(e.p,{children:"\u5f02\u6b65 action \u4e2d\u4e00\u822c\u90fd\u4f1a\u8c03\u7528\u4e00\u4e2a\u540c\u6b65 action"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6848\u4f8b: \u4ece\u540e\u7aef\u83b7\u53d6\u5230\u5217\u8868\u5c55\u793a\u5230\u9875\u9762"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u53eb\u505a ",(0,t.jsx)(e.code,{children:"ChannelStore.js"})," \u7136\u540e\u7f16\u5199\u5bf9\u5e94\u7684\u521b\u5efa\u4ee3\u7801"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createSlice } from "@reduxjs/toolkit";\r\nimport axios from "axios";\r\nconst channelStore = createSlice({\r\n  name: "channel",\r\n  initialState: {\r\n    channelList: [],\r\n  },\r\n  reducers: {\r\n    setChannel(state, action) {\r\n      state.channelList = action.payload;\r\n    },\r\n  },\r\n});\r\nconst { setChannel } = channelStore.actions;\r\n// \u5f02\u6b65\u8bf7\u6c42\r\nconst fetchChannelList = () => {\r\n  return async (dispatch) => {\r\n    const res = await axios.get("http://geek.itheima.net/v1_0/channels");\r\n    dispatch(setChannel(res.data.data.channels));\r\n  };\r\n};\r\n\r\nconst reducer = channelStore.reducer;\r\nexport { fetchChannelList };\r\nexport default reducer;\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e\u53bb",(0,t.jsx)(e.code,{children:"store"}),"\u5165\u53e3\u52a0\u5165 channelStore"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { configureStore } from "@reduxjs/toolkit";\r\nimport counterStore from "./modules/counterStore";\r\nimport channelStore from "./modules/channelStore";\r\nconst store = configureStore({\r\n  reducer: {\r\n    counter: counterStore,\r\n    channel: channelStore,\r\n  },\r\n});\r\n\r\nexport default store;\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e4b\u540e\u5c31\u53ef\u4ee5\u5728",(0,t.jsx)(e.code,{children:"app.js"}),"\u52a0\u5165\u4ee3\u7801"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import { useDispatch, useSelector } from "react-redux";\r\nimport { useEffect } from "react";\r\nimport { fetchChannelList } from "./store/modules/channelStore";\r\nfunction App() {\r\n  const { channelList } = useSelector((state) => state.channel);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchChannelList());\r\n  }, [dispatch]);\r\n  return (\r\n    <div className="App">\r\n      <ul>\r\n        {channelList.map((item) => (\r\n          <li key={item.id}>{item.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241212191240289.png",alt:"image-20241212191240289"})}),"\n",(0,t.jsx)(e.h2,{id:"redux-hooks",children:(0,t.jsx)(e.strong,{children:"redux hooks"})}),"\n",(0,t.jsx)(e.h3,{id:"useselector",children:"useSelector"}),"\n",(0,t.jsx)(e.p,{children:"\u5b83\u7684\u4f5c\u7528\u662f\u5427 store \u4e2d\u7684\u6570\u636e\u6620\u5c04\u5230\u7ec4\u4ef6\u4e2d"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const { count } = useSelector((state) => state.counter);\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u7684 count \u5176\u5b9e\u5bf9\u5e94\u7684\u5c31\u662f"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241211192355704.png",alt:"image-20241211192355704"})}),"\n",(0,t.jsx)(e.h3,{id:"usedispatch",children:"useDispatch"}),"\n",(0,t.jsx)(e.p,{children:"\u5b83\u7684\u4f5c\u7528\u662f\u751f\u6210\u63d0\u4ea4 action \u5bf9\u8c61\u7684 dispatch \u51fd\u6570"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { useDispatch, useSelector } from "react-redux";\r\nimport { inscrement, descrement } from "./store/modules/counterStore";\r\nfunction App() {\r\n  const { count } = useSelector((state) => state.counter);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div className="App">\r\n      <button onClick={() => dispatch(inscrement())}>+</button>\r\n      {count}\r\n      <button onClick={() => dispatch(descrement())}>-</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u7f8e\u56e2\u70b9\u9910\u754c\u9762\u5c0f\u6848\u4f8b",children:"\u7f8e\u56e2\u70b9\u9910\u754c\u9762\u5c0f\u6848\u4f8b"}),"\n",(0,t.jsx)(e.p,{children:"\u4e0b\u8f7d\u6a21\u677f\u5730\u5740:"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["git clone ",(0,t.jsx)(e.a,{href:"http://git.itcast.cn/heimaqianduan/redux-meituan.git",children:"http://git.itcast.cn/heimaqianduan/redux-meituan.git"})]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u6548\u679c\u4e0e\u529f\u80fd\u5217\u8868\u5c55\u793a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213143205796.png",alt:"image-20241213143205796"})}),"\n",(0,t.jsx)(e.p,{children:"\u57fa\u672c\u7684\u601d\u8def\u5c31\u662f\u4f7f\u7528 RTK \u6765\u505a\u72b6\u6001\u7ba1\u7406,\u7ec4\u4ef6\u8d1f\u8d23\u6570\u636e\u6e32\u67d3\u548c\u64cd\u4f5c action"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213144807698.png",alt:"image-20241213144807698"})}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u5728 store \u6587\u4ef6\u5939\u4e0b\u5f00\u59cb\u914d\u7f6e\u548c\u7f16\u5199 store \u7684\u4f7f\u7528\u903b\u8f91"}),"\n",(0,t.jsx)(e.h3,{id:"\u5206\u7c7b\u6e32\u67d3",children:"\u5206\u7c7b\u6e32\u67d3"}),"\n",(0,t.jsx)(e.p,{children:"\u5148\u7f16\u5199\u5bf9\u5e94\u7684 reducer \u548c\u5f02\u6b65\u8bf7\u6c42\u903b\u8f91"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"takeaway.js"}),"\n",(0,t.jsx)(e.p,{children:"\u7528\u4e8e\u5f02\u6b65\u8bf7\u6c42\u5217\u8868\u6570\u636e"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createStore } from "./store";\r\nimport axios from "axios";\r\nconst foodsState = createStore({\r\n  name: "foods",\r\n  initialState: {\r\n    foodsList: [],\r\n  },\r\n  reducers: {\r\n    setFoodsList(state, action) {\r\n      state.foodsList = action.payload;\r\n    },\r\n  },\r\n});\r\nconst { setFoodsList } = foodsState.actions;\r\n//\u5f02\u6b65\u83b7\u53d6\u90e8\u5206\r\nconst fetchFoodsList = () => {\r\n  return async (dispatch) => {\r\n    //     \u5f02\u6b65\u903b\u8f91\r\n    const res = await axios.get(" http://localhost:3004/takeaway\\n");\r\n    //     \u8c03\u7528dispatch\r\n    dispatch(setFoodsList(res.data));\r\n  };\r\n};\r\nconst reducer = foodsState.reducer;\r\nexport { fetchFoodsList };\r\nexport default reducer;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5c06\u5b50 store \u7ba1\u7406\u8d77\u6765 \u5728 store \u6587\u4ef6\u5939\u4e0b\u7f16\u5199\u4e00\u4e2a index.js \u4f5c\u4e3a\u8bbf\u95ee store \u7684\u5165\u53e3"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { configureStore } from "@reduxjs/toolkit";\r\nimport foodsReducer from "./modules/takeaway";\r\nconst store = configureStore({\r\n  reducer: {\r\n    foods: foodsReducer,\r\n  },\r\n});\r\n\r\nexport default store;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u5c06 redux \u548c react \u8fde\u63a5\u8d77\u6765 \u5c06 store \u6ce8\u5165\u8fdb\u53bb \u9009\u62e9\u6839\u76ee\u5f55\u7684 index.js"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import React from "react";\r\nimport { createRoot } from "react-dom/client";\r\nimport { Provider } from "react-redux";\r\nimport App from "./App";\r\nimport store from "./store";\r\n\r\nconst root = createRoot(document.getElementById("root"));\r\nroot.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n);\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u7f16\u5199\u6e32\u67d3\u9875\u9762"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5728 app.js \u91cc \u9075\u5faa\u6b65\u9aa4\u5f00\u59cb\u64cd\u4f5c store"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528",(0,t.jsx)(e.code,{children:"useDispatch"}),"\u51fd\u6570\u53d6\u5f97\u5bf9\u8c61"]}),"\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"useEffect "}),"\u8c03\u7528\u5f02\u6b65\u51fd\u6570\u83b7\u53d6\u670d\u52a1\u5668\u6570\u636e"]}),"\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528",(0,t.jsx)(e.code,{children:"useSelector"})," \u62ff\u5230\u6570\u636e\u5e76\u4e14\u5faa\u73af\u5c55\u793a"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import NavBar from "./components/NavBar";\r\nimport Menu from "./components/Menu";\r\nimport Cart from "./components/Cart";\r\nimport FoodsCategory from "./components/FoodsCategory";\r\nimport "./App.scss";\r\nimport { useSelector } from "react-redux";\r\n\r\nconst App = () => {\r\n  // \u8bbf\u95eestore\u62ff\u5230\u6570\u636e\r\n  const { foodsList } = useSelector((state) => state.foods);\r\n  return (\r\n    <div className="home">\r\n      {/* \u5bfc\u822a */}\r\n      <NavBar />\r\n\r\n      {/* \u5185\u5bb9 */}\r\n      <div className="content-wrap">\r\n        <div className="content">\r\n          <Menu />\r\n\r\n          <div className="list-content">\r\n            <div className="goods-list">\r\n              {/* \u5916\u5356\u5546\u54c1\u5217\u8868 */}\r\n              {foodsList.map((item) => {\r\n                return (\r\n                  <FoodsCategory\r\n                    key={item.tag}\r\n                    // \u5217\u8868\u6807\u9898\r\n                    name={item.name}\r\n                    // \u5217\u8868\u5546\u54c1\r\n                    foods={item.foods}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* \u8d2d\u7269\u8f66 */}\r\n      <Cart />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213145927894.png",alt:"image-20241213145927894"})}),"\n",(0,t.jsx)(e.h3,{id:"\u4fa7\u8fb9\u680f\u6e32\u67d3\u4ea4\u4e92",children:"\u4fa7\u8fb9\u680f\u6e32\u67d3.\u4ea4\u4e92"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u5728\u83b7\u53d6\u5217\u8868\u89e3\u6784\u7684\u65f6\u5019 \u62ff\u5230\u5c5e\u4e8e\u5de6\u4fa7\u5217\u8868\u7684\u6570\u636e"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213150225046.png",alt:"image-20241213150225046"})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u5faa\u73af\u7684\u5c55\u793a\u5728 menu \u7ec4\u4ef6\u4e2d \u53ea\u9700\u8981\u628a\u5f02\u6b65\u8bf7\u6c42\u7684\u6570\u636e\u653e\u5230 menu \u7ec4\u4ef6\u4e2d\u5c31\u53ef\u4ee5\u5c55\u793a\u4fa7\u8fb9\u680f\u4e86"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import classNames from "classnames";\r\nimport "./index.scss";\r\nimport { useDispatch, useSelector } from "react-redux";\r\nconst Menu = () => {\r\n  //    \u83b7\u53d6dispatch\r\n  const dispatch = useDispatch();\r\n  // \u8bbf\u95eestore\u62ff\u5230\u6570\u636e\r\n  const { foodsList } = useSelector((state) => state.foods);\r\n  const menus = foodsList.map((item) => ({ tag: item.tag, name: item.name }));\r\n  return (\r\n    <nav className="list-menu">\r\n      {/* \u6dfb\u52a0active\u7c7b\u540d\u4f1a\u53d8\u6210\u6fc0\u6d3b\u72b6\u6001 */}\r\n      {menus.map((item, index) => {\r\n        return (\r\n          <div\r\n            key={item.tag}\r\n            className={classNames("list-menu-item", "active")}\r\n          >\r\n            {item.name}\r\n          </div>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Menu;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213151100641.png",alt:"image-20241213151100641"})}),"\n",(0,t.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\u7f16\u5199\u4ea4\u4e92\u64cd\u4f5c \u4f7f\u7528 RTK \u6765\u7ba1\u7406 activeindex"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u65b0\u589e",(0,t.jsx)(e.code,{children:"activeIndex"}),"\u5e76\u4e14\u8bbe\u7f6e\u597d\u5bf9\u5e94\u7684\u540c\u6b65\u64cd\u4f5c action \u65b9\u6cd5\u4ee5\u53ca\u5bfc\u51fa"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createSlice } from "@reduxjs/toolkit";\r\nimport axios from "axios";\r\nconst foodsState = createSlice({\r\n  name: "foods",\r\n  initialState: {\r\n    // \u5546\u54c1\u5217\u8868\r\n    foodsList: [],\r\n    // \u83dc\u5355\u6fc0\u6d3b\u503c\r\n    activeIndex: 0,\r\n  },\r\n  reducers: {\r\n    setFoodsList(state, action) {\r\n      state.foodsList = action.payload;\r\n    },\r\n    changeActiveIndex(state, action) {\r\n      state.activeIndex = action.payload;\r\n    },\r\n  },\r\n});\r\nconst { setFoodsList, changeActiveIndex } = foodsState.actions;\r\n//\u5f02\u6b65\u83b7\u53d6\u90e8\u5206\r\nconst fetchFoodsList = () => {\r\n  return async (dispatch) => {\r\n    //     \u5f02\u6b65\u903b\u8f91\r\n    const res = await axios.get(" http://localhost:3004/takeaway\\n");\r\n    //     \u8c03\u7528dispatch\r\n    dispatch(setFoodsList(res.data));\r\n    console.log(res.data);\r\n  };\r\n};\r\nconst reducer = foodsState.reducer;\r\nexport { fetchFoodsList, changeActiveIndex };\r\nexport default reducer;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u5f00\u59cb\u7f16\u5199 menu \u7ec4\u4ef6\u7684\u70b9\u51fb\u6548\u679c"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213151806359.png",alt:"image-20241213151806359"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["\u4ee3\u7801\u4fee\u6539 ",(0,t.jsx)(e.code,{children:"menu/index.js"})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import classNames from "classnames";\r\nimport "./index.scss";\r\nimport { useDispatch, useSelector } from "react-redux";\r\nimport { changeActiveIndex } from "../../store/modules/takeaway";\r\nconst Menu = () => {\r\n  //    \u83b7\u53d6dispatch\r\n  const dispatch = useDispatch();\r\n  // \u8bbf\u95eestore\u62ff\u5230\u6570\u636e\r\n  const { foodsList, activeIndex } = useSelector((state) => state.foods);\r\n  const menus = foodsList.map((item) => ({ tag: item.tag, name: item.name }));\r\n  return (\r\n    <nav className="list-menu">\r\n      {/* \u6dfb\u52a0active\u7c7b\u540d\u4f1a\u53d8\u6210\u6fc0\u6d3b\u72b6\u6001 */}\r\n      {menus.map((item, index) => {\r\n        return (\r\n          <div\r\n            onClick={() => dispatch(changeActiveIndex(index))}\r\n            key={item.tag}\r\n            className={classNames(\r\n              "list-menu-item",\r\n              activeIndex === index && "active"\r\n            )}\r\n          >\r\n            {item.name}\r\n          </div>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Menu;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n",(0,t.jsx)(e.p,{children:"\u5f53\u70b9\u51fb\u7684\u65f6\u5019 index \u5c31\u4f1a\u5207\u6362\u5230\u5bf9\u5e94\u7684 index \u4e0a \u5e76\u4e14\u5728\u70b9\u51fb\u5f53\u524d index \u7684\u65f6\u5019\u9009\u9879\u9ad8\u4eae"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213153536781.png",alt:"image-20241213153536781"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213153228472.png",alt:"image-20241213153228472"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5546\u54c1\u5217\u8868\u7684\u5207\u6362\u663e\u793a"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u70b9\u51fb\u4fa7\u8fb9\u680f\u7684\u65f6\u5019 \u83dc\u5355\u680f\u9700\u8981\u663e\u793a\u5bf9\u5e94\u4fa7\u8fb9\u680f index \u7684\u83dc\u5355"}),"\n",(0,t.jsxs)(e.p,{children:["\u4fee\u6539 ",(0,t.jsx)(e.code,{children:"app.js"}),"\u83dc\u5355\u680f\u6807\u7b7e\u7684\u663e\u793a\u89c4\u5219\u5c31\u884c"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const App = () => {\r\n  //    \u83b7\u53d6dispatch\r\n  const dispatch = useDispatch();\r\n  //   \u5f02\u6b65\u8bf7\u6c42\u6570\u636e\r\n  useEffect(() => {\r\n    dispatch(fetchFoodsList());\r\n  }, [dispatch]);\r\n  // \u8bbf\u95eestore\u62ff\u5230\u6570\u636e\r\n  const { foodsList, activeIndex } = useSelector((state) => state.foods);\r\n  return (\r\n    <div className="home">\r\n      {/* \u5bfc\u822a */}\r\n      <NavBar />\r\n\r\n      {/* \u5185\u5bb9 */}\r\n      <div className="content-wrap">\r\n        <div className="content">\r\n          <Menu />\r\n\r\n          <div className="list-content">\r\n            <div className="goods-list">\r\n              {/* \u5916\u5356\u5546\u54c1\u5217\u8868 */}\r\n              {foodsList.map((item, index) => {\r\n                return (\r\n                  index === activeIndex && (\r\n                    <FoodsCategory\r\n                      key={item.tag}\r\n                      // \u5217\u8868\u6807\u9898\r\n                      name={item.name}\r\n                      // \u5217\u8868\u5546\u54c1\r\n                      foods={item.foods}\r\n                    />\r\n                  )\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* \u8d2d\u7269\u8f66 */}\r\n      <Cart />\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u6dfb\u52a0\u8d2d\u7269\u8f66",children:"\u6dfb\u52a0\u8d2d\u7269\u8f66"}),"\n",(0,t.jsx)(e.p,{children:"\u9996\u5148\u627e\u5230 fooditem \u4e2d\u7684 food \u5bf9\u8c61 \u4e00\u4f1a\u6211\u4eec\u4f7f\u7528 cartlist \u7684\u65f6\u5019\u8981\u7528\u5230 id \u548c count"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213155814881.png",alt:"image-20241213155814881"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 RTK \u7ba1\u7406 \u72b6\u6001",(0,t.jsx)(e.code,{children:"cartlist"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createSlice } from "@reduxjs/toolkit";\r\nimport axios from "axios";\r\nconst foodsState = createSlice({\r\n  name: "foods",\r\n  initialState: {\r\n    // \u5546\u54c1\u5217\u8868\r\n    foodsList: [],\r\n    // \u83dc\u5355\u6fc0\u6d3b\u503c\r\n    activeIndex: 0,\r\n    // \u8d2d\u7269\u8f66\u5217\u8868\r\n    cartList: [],\r\n  },\r\n  reducers: {\r\n    // \u4fee\u6539\u5546\u54c1\u5217\u8868\r\n    setFoodsList(state, action) {\r\n      state.foodsList = action.payload;\r\n    },\r\n    // \u66f4\u6539activeIndex\r\n    changeActiveIndex(state, action) {\r\n      state.activeIndex = action.payload;\r\n    },\r\n    // \u6dfb\u52a0\u8d2d\u7269\u8f66\r\n    addCart(state, action) {\r\n      //    \u901a\u8fc7payload.id\u53bb\u5339\u914dcartList\u5339\u914d,\u5339\u914d\u5230\u4ee3\u8868\u6dfb\u52a0\u8fc7\r\n      const item = state.cartList.find((item) => item.id === action.payload.id);\r\n      if (item) {\r\n        item.count++;\r\n      } else {\r\n        state.cartList.push(action.payload);\r\n      }\r\n    },\r\n  },\r\n});\r\nconst { setFoodsList, changeActiveIndex, addCart } = foodsState.actions;\r\n//\u5f02\u6b65\u83b7\u53d6\u90e8\u5206\r\nconst fetchFoodsList = () => {\r\n  return async (dispatch) => {\r\n    //     \u5f02\u6b65\u903b\u8f91\r\n    const res = await axios.get(" http://localhost:3004/takeaway\\n");\r\n    //     \u8c03\u7528dispatch\r\n    dispatch(setFoodsList(res.data));\r\n    console.log(res.data);\r\n  };\r\n};\r\nconst reducer = foodsState.reducer;\r\nexport { fetchFoodsList, changeActiveIndex, addCart };\r\nexport default reducer;\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"fooditem.jsx"}),"\u7f16\u5199 cartList \u89e6\u53d1\u64cd\u4f5c"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u8981\u8bb0\u5f97\u7ed9 count \u4e00\u4e2a\u9ed8\u8ba4\u503c \u4e0d\u7136\u4f1a\u662f null"}),"\n",(0,t.jsx)(e.li,{children:"\u4fee\u6539 classname \u4e3a plus \u7684 span \u6807\u7b7e\u65b0\u589e\u70b9\u51fb\u4e8b\u4ef6"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import "./index.scss";\r\nimport { useDispatch } from "react-redux";\r\nimport { addCart } from "../../../store/modules/takeaway";\r\n\r\nconst Foods = ({\r\n  id,\r\n  picture,\r\n  name,\r\n  unit,\r\n  description,\r\n  food_tag_list,\r\n  month_saled,\r\n  like_ratio_desc,\r\n  price,\r\n  tag,\r\n  count = 1,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <dd className="cate-goods">\r\n      <div className="goods-img-wrap">\r\n        <img src={picture} alt="" className="goods-img" />\r\n      </div>\r\n      <div className="goods-info">\r\n        <div className="goods-desc">\r\n          <div className="goods-title">{name}</div>\r\n          <div className="goods-detail">\r\n            <div className="goods-unit">{unit}</div>\r\n            <div className="goods-detail-text">{description}</div>\r\n          </div>\r\n          <div className="goods-tag">{food_tag_list.join(" ")}</div>\r\n          <div className="goods-sales-volume">\r\n            <span className="goods-num">\u6708\u552e{month_saled}</span>\r\n            <span className="goods-num">{like_ratio_desc}</span>\r\n          </div>\r\n        </div>\r\n        <div className="goods-price-count">\r\n          <div className="goods-price">\r\n            <span className="goods-price-unit">\xa5</span>\r\n            {price}\r\n          </div>\r\n          <div className="goods-count">\r\n            <span\r\n              className="plus"\r\n              onClick={() => {\r\n                dispatch(\r\n                  addCart({\r\n                    id,\r\n                    picture,\r\n                    name,\r\n                    unit,\r\n                    description,\r\n                    food_tag_list,\r\n                    month_saled,\r\n                    like_ratio_desc,\r\n                    price,\r\n                    tag,\r\n                    count,\r\n                  })\r\n                );\r\n              }}\r\n            ></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </dd>\r\n  );\r\n};\r\n\r\nexport default Foods;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213161048251.png",alt:"image-20241213161048251"})}),"\n",(0,t.jsx)(e.h3,{id:"\u7edf\u8ba1\u8ba2\u5355\u533a\u57df",children:"\u7edf\u8ba1\u8ba2\u5355\u533a\u57df"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/18.png",alt:"image.png"})}),"\n",(0,t.jsx)(e.p,{children:"\u5b9e\u73b0\u601d\u8def"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u57fa\u4e8e store \u4e2d\u7684 cartList \u7684 length \u6e32\u67d3\u6570\u91cf"}),"\n",(0,t.jsx)(e.li,{children:"\u57fa\u4e8e store \u4e2d\u7684 cartList \u7d2f\u52a0 price * count"}),"\n",(0,t.jsx)(e.li,{children:"\u8d2d\u7269\u8f66 cartList \u7684 length \u4e0d\u4e3a\u96f6\u5219\u9ad8\u4eae"}),"\n",(0,t.jsx)(e.li,{children:"\u8bbe\u7f6e\u603b\u4ef7"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'// \u8ba1\u7b97\u603b\u4ef7\r\nconst totalPrice = cartList.reduce((a, c) => a + c.price * c.count, 0);\r\n\r\n{\r\n  /* fill \u6dfb\u52a0fill\u7c7b\u540d\u8d2d\u7269\u8f66\u9ad8\u4eae*/\r\n}\r\n{\r\n  /* \u8d2d\u7269\u8f66\u6570\u91cf */\r\n}\r\n<div\r\n  onClick={onShow}\r\n  className={classNames("icon", cartList.length > 0 && "fill")}\r\n>\r\n  {cartList.length > 0 && (\r\n    <div className="cartCornerMark">{cartList.length}</div>\r\n  )}\r\n</div>;\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213182102778.png",alt:"image-20241213182102778"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213182156616.png",alt:"image-20241213182156616"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"cart.jsx"}),"\u5168\u90e8\u4ee3\u7801"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import classNames from "classnames";\r\nimport Count from "../Count";\r\nimport "./index.scss";\r\nimport { useSelector } from "react-redux";\r\nimport { fill } from "lodash/array";\r\n\r\nconst Cart = () => {\r\n  const { cartList } = useSelector((state) => state.foods);\r\n  //   \u8ba1\u7b97\u603b\u4ef7\r\n  const totalPrice = cartList.reduce((a, c) => a + c.price * c.count, 0);\r\n  const cart = [];\r\n  return (\r\n    <div className="cartContainer">\r\n      {/* \u906e\u7f69\u5c42 \u6dfb\u52a0visible\u7c7b\u540d\u53ef\u4ee5\u663e\u793a\u51fa\u6765 */}\r\n      <div className={classNames("cartOverlay")} />\r\n      <div className="cart">\r\n        {/* fill \u6dfb\u52a0fill\u7c7b\u540d\u53ef\u4ee5\u5207\u6362\u8d2d\u7269\u8f66\u72b6\u6001*/}\r\n        {/* \u8d2d\u7269\u8f66\u6570\u91cf */}\r\n        <div className={classNames("icon")}>\r\n          {cartList.length > 0 && (\r\n            <div className="cartCornerMark">{cartList.length}</div>\r\n          )}\r\n        </div>\r\n        {/* \u8d2d\u7269\u8f66\u4ef7\u683c */}\r\n        <div className="main">\r\n          <div className="price">\r\n            <span className="payableAmount">\r\n              <span className="payableAmountUnit">\xa5</span>\r\n              {totalPrice.toFixed(2)}\r\n            </span>\r\n          </div>\r\n          <span className="text">\u9884\u4f30\u53e6\u9700\u914d\u9001\u8d39 \xa55</span>\r\n        </div>\r\n        {/* \u7ed3\u7b97 or \u8d77\u9001 */}\r\n        {cartList.length > 0 ? (\r\n          <div className="goToPreview">\u53bb\u7ed3\u7b97</div>\r\n        ) : (\r\n          <div className="minFee">\xa520\u8d77\u9001</div>\r\n        )}\r\n      </div>\r\n      {/* \u6dfb\u52a0visible\u7c7b\u540d div\u4f1a\u663e\u793a\u51fa\u6765 */}\r\n      <div className={classNames("cartPanel")}>\r\n        <div className="header">\r\n          <span className="text">\u8d2d\u7269\u8f66</span>\r\n          <span className="clearCart">\u6e05\u7a7a\u8d2d\u7269\u8f66</span>\r\n        </div>\r\n\r\n        {/* \u8d2d\u7269\u8f66\u5217\u8868 */}\r\n        <div className="scrollArea">\r\n          {cart.map((item) => {\r\n            return (\r\n              <div className="cartItem" key={item.id}>\r\n                <img className="shopPic" src={item.picture} alt="" />\r\n                <div className="main">\r\n                  <div className="skuInfo">\r\n                    <div className="name">{item.name}</div>\r\n                  </div>\r\n                  <div className="payableAmount">\r\n                    <span className="yuan">\xa5</span>\r\n                    <span className="price">{item.price}</span>\r\n                  </div>\r\n                </div>\r\n                <div className="skuBtnWrapper btnGroup">\r\n                  <Count count={item.count} />\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u8d2d\u7269\u8f66\u5217\u8868\u529f\u80fd",children:"\u8d2d\u7269\u8f66\u5217\u8868\u529f\u80fd"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213182736757.png",alt:"image-20241213182736757"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["\u4fee\u6539",(0,t.jsx)(e.code,{children:"takeaway.js"}),"\u5185\u5bb9\u5982\u4e0b :"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u65b0\u589e\u52a0\u51cf\u8d2d\u7269\u8f66\u5185\u7684\u89c6\u9891\u6570\u91cf"}),"\n",(0,t.jsx)(e.li,{children:"\u6e05\u695a\u8d2d\u7269\u8f66"}),"\n",(0,t.jsx)(e.li,{children:"\u53ea\u6709\u4e00\u9879\u65f6\u5220\u9664\u5546\u54c1\u9009\u62e9"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createSlice } from "@reduxjs/toolkit";\r\nimport axios from "axios";\r\nconst foodsState = createSlice({\r\n  name: "foods",\r\n  initialState: {\r\n    // \u5546\u54c1\u5217\u8868\r\n    foodsList: [],\r\n    // \u83dc\u5355\u6fc0\u6d3b\u503c\r\n    activeIndex: 0,\r\n    // \u8d2d\u7269\u8f66\u5217\u8868\r\n    cartList: [],\r\n  },\r\n  reducers: {\r\n    // \u4fee\u6539\u5546\u54c1\u5217\u8868\r\n    setFoodsList(state, action) {\r\n      state.foodsList = action.payload;\r\n    },\r\n    // \u66f4\u6539activeIndex\r\n    changeActiveIndex(state, action) {\r\n      state.activeIndex = action.payload;\r\n    },\r\n    // \u6dfb\u52a0\u8d2d\u7269\u8f66\r\n    addCart(state, action) {\r\n      //    \u901a\u8fc7payload.id\u53bb\u5339\u914dcartList\u5339\u914d,\u5339\u914d\u5230\u4ee3\u8868\u6dfb\u52a0\u8fc7\r\n      const item = state.cartList.find((item) => item.id === action.payload.id);\r\n      if (item) {\r\n        item.count++;\r\n      } else {\r\n        state.cartList.push(action.payload);\r\n      }\r\n    },\r\n    //     count\u589e\r\n    increCount(state, action) {\r\n      const item = state.cartList.find((item) => item.id === action.payload.id);\r\n      item.count++;\r\n    },\r\n    //     count\u51cf\r\n    decreCount(state, action) {\r\n      const item = state.cartList.find((item) => item.id === action.payload.id);\r\n      // \u53ea\u6709\u4e00\u9879\u7684\u65f6\u5019\u5c06\u5546\u54c1\u79fb\u9664\u8d2d\u7269\u8f66\r\n      if (item.count <= 1) {\r\n        state.cartList = state.cartList.filter(\r\n          (item) => item.id != action.payload.id\r\n        );\r\n        return;\r\n      }\r\n      item.count--;\r\n    },\r\n    //     \u6e05\u9664\u8d2d\u7269\u8f66\r\n    clearCart(state) {\r\n      state.cartList = [];\r\n    },\r\n  },\r\n});\r\nconst {\r\n  clearCart,\r\n  decreCount,\r\n  increCount,\r\n  setFoodsList,\r\n  changeActiveIndex,\r\n  addCart,\r\n} = foodsState.actions;\r\n//\u5f02\u6b65\u83b7\u53d6\u90e8\u5206\r\nconst fetchFoodsList = () => {\r\n  return async (dispatch) => {\r\n    //     \u5f02\u6b65\u903b\u8f91\r\n    const res = await axios.get(" http://localhost:3004/takeaway\\n");\r\n    //     \u8c03\u7528dispatch\r\n    dispatch(setFoodsList(res.data));\r\n    console.log(res.data);\r\n  };\r\n};\r\nconst reducer = foodsState.reducer;\r\nexport {\r\n  fetchFoodsList,\r\n  changeActiveIndex,\r\n  addCart,\r\n  clearCart,\r\n  decreCount,\r\n  increCount,\r\n};\r\nexport default reducer;\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u8d2d\u7269\u8f66\u5217\u8868\u7684\u663e\u793a\u548c\u9690\u85cf",children:"\u8d2d\u7269\u8f66\u5217\u8868\u7684\u663e\u793a\u548c\u9690\u85cf"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241213185233627.png",alt:"image-20241213185233627"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528 usestate \u8bbe\u7f6e\u4e00\u4e2a\u72b6\u6001"}),"\n",(0,t.jsx)(e.li,{children:"\u70b9\u51fb\u7edf\u8ba1\u7684\u65f6\u5019\u5c31\u5c55\u793a"}),"\n",(0,t.jsx)(e.li,{children:"\u70b9\u51fb\u8499\u5c42\u5c31\u4e0d\u663e\u793a"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import classNames from "classnames";\r\nimport Count from "../Count";\r\nimport "./index.scss";\r\nimport { useDispatch, useSelector } from "react-redux";\r\nimport {\r\n  clearCart,\r\n  decreCount,\r\n  increCount,\r\n} from "../../store/modules/takeaway";\r\nimport { useState } from "react";\r\n\r\nconst Cart = () => {\r\n  const dispatch = useDispatch();\r\n  const { cartList } = useSelector((state) => state.foods);\r\n  //   \u8ba1\u7b97\u603b\u4ef7\r\n  const totalPrice = cartList.reduce((a, c) => a + c.price * c.count, 0);\r\n  const [visible, setVisible] = useState(false);\r\n  return (\r\n    <div className="cartContainer">\r\n      {/* \u906e\u7f69\u5c42 \u6dfb\u52a0visible\u7c7b\u540d\u53ef\u4ee5\u663e\u793a\u51fa\u6765 */}\r\n      <div\r\n        onClick={() => setVisible(false)}\r\n        className={classNames("cartOverlay", visible && "visible")}\r\n      />\r\n      <div className="cart">\r\n        {/* fill \u6dfb\u52a0fill\u7c7b\u540d\u53ef\u4ee5\u5207\u6362\u8d2d\u7269\u8f66\u72b6\u6001*/}\r\n        {/* \u8d2d\u7269\u8f66\u6570\u91cf */}\r\n        <div\r\n          onClick={() => setVisible(cartList.length != 0)}\r\n          className={classNames("icon")}\r\n        >\r\n          {cartList.length > 0 && (\r\n            <div className="cartCornerMark">{cartList.length}</div>\r\n          )}\r\n        </div>\r\n        {/* \u8d2d\u7269\u8f66\u4ef7\u683c */}\r\n        <div className="main">\r\n          <div className="price">\r\n            <span className="payableAmount">\r\n              <span className="payableAmountUnit">\xa5</span>\r\n              {totalPrice.toFixed(2)}\r\n            </span>\r\n          </div>\r\n          <span className="text">\u9884\u4f30\u53e6\u9700\u914d\u9001\u8d39 \xa55</span>\r\n        </div>\r\n        {/* \u7ed3\u7b97 or \u8d77\u9001 */}\r\n        {cartList.length > 0 ? (\r\n          <div className="goToPreview">\u53bb\u7ed3\u7b97</div>\r\n        ) : (\r\n          <div className="minFee">\xa520\u8d77\u9001</div>\r\n        )}\r\n      </div>\r\n      {/* \u6dfb\u52a0visible\u7c7b\u540d div\u4f1a\u663e\u793a\u51fa\u6765 */}\r\n      <div className={classNames("cartPanel", visible && "visible")}>\r\n        <div className="header">\r\n          <span className="text">\u8d2d\u7269\u8f66</span>\r\n          <span onClick={() => dispatch(clearCart())} className="clearCart">\r\n            \u6e05\u7a7a\u8d2d\u7269\u8f66\r\n          </span>\r\n        </div>\r\n\r\n        {/* \u8d2d\u7269\u8f66\u5217\u8868 */}\r\n        <div className="scrollArea">\r\n          {cartList.map((item) => {\r\n            return (\r\n              <div className="cartItem" key={item.id}>\r\n                <img className="shopPic" src={item.picture} alt="" />\r\n                <div className="main">\r\n                  <div className="skuInfo">\r\n                    <div className="name">{item.name}</div>\r\n                  </div>\r\n                  <div className="payableAmount">\r\n                    <span className="yuan">\xa5</span>\r\n                    <span className="price">{item.price}</span>\r\n                  </div>\r\n                </div>\r\n                <div className="skuBtnWrapper btnGroup">\r\n                  <Count\r\n                    onPlus={() => dispatch(increCount({ id: item.id }))}\r\n                    count={item.count}\r\n                    onMinus={() => dispatch(decreCount({ id: item.id }))}\r\n                  />\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5230\u8fd9\u91cc redux \u7684\u5165\u95e8, \u5b9e\u8df5, \u5c0f\u6848\u4f8b\u5c31\u5b8c\u6210\u4e86 \u4e4b\u540e\u53ef\u80fd\u4f1a\u66f4\u65b0\u4e00\u4e9b\u5173\u4e8e redux \u5e95\u5c42\u539f\u7406\u7684\u6587\u7ae0 \u4f1a\u52a0\u5165\u5230\u5176\u4e2d"}),"\n",(0,t.jsx)(e.h1,{id:"zustand",children:"zustand"}),"\n",(0,t.jsx)(e.p,{children:"\u8f7b\u91cf\u7ea7\u7684\u72b6\u6001\u7ba1\u7406\u5de5\u5177"}),"\n",(0,t.jsxs)(e.p,{children:["\u5f15\u5165 :",(0,t.jsx)(e.code,{children:"npm install zustand"})]}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528\u4e00\u4e2a\u5f02\u6b65\u8bf7\u6c42\u7684\u65b9\u5f0f \u770b\u770b\u5982\u4f55\u5feb\u901f\u4e0a\u624b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import React, { useEffect } from "react";\r\nimport { create } from "zustand";\r\n\r\nconst URL = "http://geek.itheima.net/v1_0/channels";\r\n\r\nconst useStore = create((set) => {\r\n  return {\r\n    count: 0,\r\n    ins: () => {\r\n      // \u4f7f\u7528\u53c2\u6570set \u53c2\u6570\u4e3a\u5bf9\u8c61 \u6216\u8005\u65b9\u6cd5\u5c31\u53ef\u4ee5\u64cd\u4f5c\u72b6\u6001\r\n      return set((state) => ({ count: state.count + 1 }));\r\n    },\r\n    channelList: [],\r\n    // \u5f02\u6b65\u8bf7\u6c42\u65b9\u5f0f\r\n    fetchChannelList: async () => {\r\n      const res = await fetch(URL);\r\n      const jsonData = await res.json();\r\n      set({ channelList: jsonData.data.channels });\r\n    },\r\n  };\r\n});\r\nconst ZustandDemo = () => {\r\n  const { channelList, fetchChannelList } = useStore();\r\n  useEffect(() => {\r\n    fetchChannelList();\r\n  }, [fetchChannelList]);\r\n  return (\r\n    <ul>\r\n      {channelList.map((item) => (\r\n        <li key={item.id}>{item.name}</li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ZustandDemo;\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5207\u7247\u6a21\u5f0f",children:"\u5207\u7247\u6a21\u5f0f"}),"\n",(0,t.jsx)(e.p,{children:"\u5f53\u4e00\u4e2a store \u8fc7\u4e8e\u5927\u7684\u65f6\u5019 \u53ef\u4ee5\u91c7\u7528\u5207\u7247\u7684\u65b9\u5f0f \u8fdb\u884c\u533a\u5206 \u5e76\u4e14\u4ee5\u4e00\u4e2a root \u5f15\u5165\u7528\u4e8e\u4f7f\u7528"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250105162445160.png",alt:"image-20250105162445160"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250105162648051.png",alt:"image-20250105162648051"})}),"\n",(0,t.jsx)(e.h1,{id:"react-\u8def\u7531",children:"React \u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:"\u8def\u7531\u5c31\u662f\u5173\u952e\u5b57\u548c\u7ec4\u4ef6\u7684\u6620\u5c04\u5173\u7cfb,\u6211\u4eec\u53ef\u4ee5\u7528\u5173\u952e\u5b57\u8bbf\u95ee\u548c\u5c55\u793a\u5bf9\u5e94\u7ec4\u4ef6"}),"\n",(0,t.jsx)(e.p,{children:"\u5b89\u88c5\u73af\u5883"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm i react-router-dom\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5feb\u901f\u4e0a\u624b-demo",children:"\u5feb\u901f\u4e0a\u624b demo"}),"\n",(0,t.jsx)(e.p,{children:"\u9700\u6c42: \u521b\u5efa\u4e00\u4e2a\u53ef\u4ee5\u5207\u6362\u767b\u5f55\u9875\u548c\u6587\u7ae0\u9875\u7684\u8def\u7531\u7cfb\u7edf"}),"\n",(0,t.jsx)(e.p,{children:"\u627e\u5230 index.js \u521b\u5efa\u8def\u7531\u5b9e\u4f8b\u5bf9\u8c61"}),"\n",(0,t.jsx)(e.p,{children:"\u8bed\u6cd5: \u94fe\u63a5\u7ec4\u4ef6\u53ef\u4ee5\u4f7f jsx \u4e5f\u53ef\u4ee5\u662f\u5bfc\u51fa\u7684\u7ec4\u4ef6 path \u662f\u8bbf\u95ee\u7684\u8def\u5f84"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"createBrowserRouter([\r\n  {\r\n    path:'/login',\r\n    element: <div>\u767b\u5f55</div>\r\n  })\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216141548415.png",alt:"image-20241216141548415"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"index.js"})}),"\n",(0,t.jsx)(e.p,{children:"PS : \u8fd9\u91cc\u6ca1\u6709 app \u7684\u539f\u56e0\u5176\u5b9e\u5c31\u662f\u8def\u7531\u53ef\u4ee5\u81ea\u5df1\u9009\u62e9 \u6709\u6ca1\u6709 app \u4f5c\u4e3a\u5165\u53e3\u5b8c\u5168\u770b\u5fc3\u60c5 \u4e4b\u540e\u4f1a\u6709\u8def\u7531\u9ed8\u8ba4\u8bbe\u7f6e\u6240\u4ee5\u4e0d\u8bef\u5728\u610f"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'const router = createBrowserRouter([\r\n  {\r\n    path: "/login",\r\n    element: <div>\u6211\u662f\u767b\u5f55\u9875\u9762</div>,\r\n  },\r\n  {\r\n    path: "/article",\r\n    element: <div>\u6211\u662f\u6587\u7ae0\u9875\u9762</div>,\r\n  },\r\n]);\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById("root"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <RouterProvider router={router}></RouterProvider>\r\n  </React.StrictMode>\r\n);\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216142308373.png",alt:"image-20241216142308373"})}),"\n",(0,t.jsx)(e.h3,{id:"\u62bd\u8c61\u8def\u7531\u6a21\u5757",children:"\u62bd\u8c61\u8def\u7531\u6a21\u5757"}),"\n",(0,t.jsx)(e.p,{children:"\u4e4b\u524d\u7684\u5feb\u901f\u4e0a\u624b \u7b80\u5355\u7684\u4e86\u89e3\u4e86\u4e00\u4e0b\u8def\u7531\u7684\u8bed\u6cd5\u548c\u4f7f\u7528 ,\u73b0\u5728\u6a21\u62df\u4e00\u4e0b\u65e5\u5e38\u7684\u5f00\u53d1\u4f7f\u7528 ,\u6211\u4eec\u9700\u8981\u5c06\u8def\u7531\u6a21\u5757\u62bd\u8c61\u51fa\u6765"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216142441831.png",alt:"image-20241216142441831"})}),"\n",(0,t.jsxs)(e.p,{children:["\u6211\u4eec\u521b\u5efa\u8def\u7531\u9700\u8981\u5bf9\u5e94\u7684\u6587\u4ef6\u5939 \u653e\u5165",(0,t.jsx)(e.code,{children:"page"}),"\u6587\u4ef6\u5939\u4e0b \u4e00\u822c\u6211\u4eec\u8def\u7531\u7684\u6587\u4ef6\u5939\u8fd8\u4f1a\u5b58\u653e\u4e00\u4e9b\u7ec4\u4ef6\u9700\u8981\u7684\u5176\u4ed6\u8d44\u6e90,\u5185\u5bb9\u8fd8\u662f\u521a\u624d\u7684\u5185\u5bb9"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216142744216.png",alt:"image-20241216142744216"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e4b\u540e\u521b\u5efa ",(0,t.jsx)(e.code,{children:"router"}),"\u6587\u4ef6\u5939\u5b58\u653e\u8def\u7531 js \u6587\u4ef6"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216143007772.png",alt:"image-20241216143007772"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e4b\u540e\u53ea\u9700\u8981\u5728 \u6839\u76ee\u5f55\u4e0b\u7684",(0,t.jsx)(e.code,{children:"index.js"}),"\u4e2d\u628a\u8def\u7531\u5f15\u5165\u8fdb\u6765 \u5c31\u5b8c\u6210\u4e86\u62bd\u8c61\u6548\u679c"]}),"\n",(0,t.jsx)(e.h2,{id:"\u8def\u7531\u5bfc\u822a",children:"\u8def\u7531\u5bfc\u822a"}),"\n",(0,t.jsxs)(e.p,{children:["\u8def\u7531\u7cfb\u7edf\u4e2d\u7684\u591a\u4e2a\u8def\u7531\u4e4b\u95f4\u9700\u8981\u8fdb\u884c\u8def\u7531\u8df3\u8f6c\uff0c\u5e76\u4e14\u5728\u8df3\u8f6c\u7684\u540c\u65f6\u6709\u53ef\u80fd\u9700\u8981\u4f20\u9012\u53c2\u6570\u8fdb\u884c\u901a\u4fe1\r\n",(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216143133616.png",alt:"image-20241216143133616"})]}),"\n",(0,t.jsx)(e.h3,{id:"\u58f0\u660e\u5f0f\u5bfc\u822a",children:"\u58f0\u660e\u5f0f\u5bfc\u822a"}),"\n",(0,t.jsxs)(e.p,{children:["\u58f0\u660e\u5f0f\u5bfc\u822a\u662f\u6307\u5728\u4ee3\u7801\u4e2d \u901a\u8fc7 ",(0,t.jsx)(e.code,{children:"<Link/>"}),"\u6807\u7b7e\u53bb\u8bbe\u7f6e\u8981\u8df3\u8f6c\u53bb\u54ea\u91cc"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8bed\u6cd5 : ",(0,t.jsx)(e.code,{children:'<Linl to="/article">\u6587\u7ae0</Link>'})]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"Login \u7ec4\u4ef6\u5185\u5bb9"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import { Link } from "react-router-dom";\r\n\r\nexport const Login = () => {\r\n  return (\r\n    <div>\r\n      <div>\u6211\u662f\u767b\u5f55\u9875\u9762</div>\r\n      <Link to="/article">\u6587\u7ae0</Link>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216143547010.png",alt:"image-20241216143547010"})}),"\n",(0,t.jsx)(e.p,{children:"\u5b83\u5176\u5b9e\u88ab\u89e3\u6790\u6210\u4e00\u4e2a a \u94fe\u63a5 \u6307\u5411\u6587\u7ae0\u9875\u7684\u8bbf\u95ee\u5730\u5740(path)"}),"\n",(0,t.jsx)(e.h3,{id:"\u7f16\u7a0b\u5f0f\u5bfc\u822a",children:"\u7f16\u7a0b\u5f0f\u5bfc\u822a"}),"\n",(0,t.jsxs)(e.p,{children:["\u7f16\u7a0b\u5f0f\u5bfc\u822a\u662f\u6307\u901a\u8fc7 ",(0,t.jsx)(e.code,{children:"useNavigate"})," \u94a9\u5b50\u5f97\u5230\u5bfc\u822a\u65b9\u6cd5\uff0c\u4ee5\u53c2\u6570+\u89e6\u53d1\u4e8b\u4ef6\u6765\u63a7\u5236\u8df3\u8f6c\u6bd4\u8d77\u58f0\u660e\u5f0f\u8981\u66f4\u52a0\u7075\u6d3b"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import { Link, useNavigate } from "react-router-dom";\r\n\r\nexport const Login = () => {\r\n  const nav = useNavigate();\r\n\r\n  return (\r\n    <div>\r\n      <div>\u6211\u662f\u767b\u5f55\u9875\u9762</div>\r\n      {/*    \u58f0\u660e\u5f0f*/}\r\n      <Link to="/article">\u6587\u7ae0</Link>\r\n      {/*    \u7f16\u7a0b\u5f0f*/}\r\n      <button onClick={() => nav("/article")}>\u6587\u7ae0</button>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u4f20\u53c2",children:"\u4f20\u53c2"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216144056310.png",alt:"image-20241216144056310"})}),"\n",(0,t.jsx)(e.h4,{id:"usesearchparams",children:"useSearchParams"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Login.jsx"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"<button onClick={() => nav('/article?name=\"jack\"')}>\u6587\u7ae0</button>\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Article.jsx"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import { useSearchParams } from "react-router-dom";\r\n\r\nexport const Article = () => {\r\n  const [params] = useSearchParams();\r\n  const name = params.get("name");\r\n  return (\r\n    <div>\r\n      \u6211\u662f\u6587\u7ae0\u9875\u9762\r\n      {name}\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216144821324.png",alt:"image-20241216144821324"})}),"\n",(0,t.jsx)(e.h4,{id:"useparams",children:"useParams"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u79cd\u65b9\u5f0f\u7c7b\u4f3c vue \u7684\u52a8\u6001\u8def\u7531\u4f20\u53c2,"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u518d\u8def\u7531\u9875\u9762\u7ed9\u8def\u5f84\u4e00\u4e2a\u5360\u4f4d\u7b26"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216145206689.png",alt:"image-20241216145206689"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"\u4e4b\u540e\u7f16\u5199\u4ee3\u7801"}),"\n",(0,t.jsx)(e.p,{children:"Login \u4f20\u53c2 :"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'<button onClick={() => nav("/article/1001/JACK")}>\u6587\u7ae0</button>\n'})}),"\n",(0,t.jsx)(e.p,{children:"Article \u63a5\u53d7:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"    const params = useParams();\r\n    return (\r\n        <div>\u6211\u662f\u6587\u7ae0\u9875\u9762\r\n         <div>  id: {params.id}</div>\r\n         <div>  name:{params.name}</div>\r\n        </div>\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216145521063.png",alt:"image-20241216145521063"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5d4c\u5957\u8def\u7531",children:"\u5d4c\u5957\u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:"\u5c31\u662f\u591a\u7ea7\u8def\u7531\u7684\u5d4c\u5957 \u5728\u5f00\u53d1\u4e2d\u5f80\u5f80\u9700\u8981\u6765\u56de\u7684\u8df3\u8f6c \u6709\u4e00\u7ea7\u8def\u7531\u5305\u542b\u591a\u4e2a\u4e8c\u7ea7\u8def\u7531\u7b49\u7b49\u5d4c\u5957\u60c5\u51b5"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6bd4\u5982\u4e0b\u56fe:"}),"\n",(0,t.jsx)(e.p,{children:"\u770b\u6210\u4e00\u4e2a\u7ba1\u7406\u7cfb\u7edf \u4e00\u4e2a\u4e00\u7ea7\u8def\u7531\u5305\u542b\u4e24\u4e2a\u4e8c\u7ea7\u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:"\u5de6\u4fa7\u7684\u5217\u8868\u7528\u4e8e\u5c55\u793a\u8def\u7531\u5173\u952e\u5b57"}),"\n",(0,t.jsx)(e.p,{children:"\u53f3\u8fb9\u7684\u8def\u7531\u51fa\u53e3\u5c55\u793a\u70b9\u51fb\u5bf9\u5e94\u5173\u952e\u5b57\u51fa\u73b0\u7684\u5185\u5bb9"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216145638543.png",alt:"image-20241216145638543"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"children"}),"\u5c5e\u6027\u914d\u7f6e\u8def\u7531\u5d4c\u5957\u5173\u7cfb"]}),"\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"<Outlet>"}),"\u7ec4\u4ef6\u914d\u7f6e\u5b50\u8def\u7531\u6e32\u67d3\u4f4d\u7f6e"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u6848\u4f8b",children:"\u6848\u4f8b"}),"\n",(0,t.jsx)(e.p,{children:"\u5206\u522b\u521b\u5efa\u5185\u5bb9 \u4e00\u7ea7\u8def\u7531 layout \u548c\u4e24\u4e2a\u4e8c\u7ea7\u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216150223093.png",alt:"image-20241216150223093"})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u7f16\u5199\u5d4c\u5957\u8def\u7531\u9700\u8981\u7684 router"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"{\r\n        path: '/',\r\n        element: <Layout/>,\r\n        children: [\r\n            {\r\n                path: 'board',\r\n                element: <Board/>\r\n            },\r\n            {\r\n                path: 'about',\r\n                element: <About/>\r\n            }\r\n        ]\r\n    }\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"layout \u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import { Link, Outlet } from "react-router-dom";\r\n\r\nexport const Layout = () => {\r\n  return (\r\n    <div>\r\n      \u4e00\u7ea7\u8def\u7531 layout\r\n      <div>\r\n        <Link to="/board">\u9762\u677f</Link>\r\n      </div>\r\n      <div>\r\n        <Link to="/about">\u5173\u4e8e</Link>\r\n      </div>\r\n      <Outlet />\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216151019452.png",alt:"image-20241216151019452"})}),"\n",(0,t.jsx)(e.h3,{id:"\u9ed8\u8ba4\u4e8c\u7ea7\u8def\u7531",children:"\u9ed8\u8ba4\u4e8c\u7ea7\u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:"\u5f53\u8bbf\u95ee\u7684\u662f\u4e00\u7ea7\u8def\u7531\u7684\u65f6\u5019 \u9ed8\u8ba4\u7684\u4e8c\u7ea7\u8def\u7531\u53ef\u4ee5\u5f97\u5230\u6e32\u67d3"}),"\n",(0,t.jsx)(e.p,{children:"\u8bed\u6cd5:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"layout"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'export const Layout = () => {\r\n  return (\r\n    <div>\r\n      \u4e00\u7ea7\u8def\u7531 layout\r\n      <div>\r\n        <Link to="/board">\u9762\u677f</Link>\r\n      </div>\r\n      <div>\r\n        <Link to="/">\u5173\u4e8e</Link>\r\n      </div>\r\n      <Outlet />\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"router.js"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"    {\r\n        path: '/',\r\n        element: <Layout/>,\r\n        children: [\r\n            {\r\n                path: 'board',\r\n                element: <Board/>\r\n            },\r\n            {\r\n                index: true,\r\n                element: <About/>\r\n            }\r\n        ]\r\n    }\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216151246843.png",alt:"image-20241216151246843"})}),"\n",(0,t.jsx)(e.h2,{id:"404-\u8def\u7531",children:"404 \u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:"\u5f53\u6d4f\u89c8\u5668\u8f93\u5165\u7684\u8def\u5f84\u5728\u8def\u7531\u4e2d\u65e0\u6cd5\u627e\u5230\u6216\u8005\u4e0d\u5b58\u5728 \u6211\u4eec\u5c31\u9700\u8981\u4e00\u4e2a\u53ef\u4ee5\u515c\u5e95\u7684\u7ec4\u4ef6 \u6765\u63d0\u5347\u7528\u6237\u4f53\u9a8c"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u51c6\u5907\u4e00\u4e2a ",(0,t.jsx)(e.code,{children:"NotFound"}),"\u7684\u7ec4\u4ef6"]}),"\n",(0,t.jsxs)(e.li,{children:["\u5728\u8def\u7531\u8868\u6570\u7ec4\u672b\u5c3e \u7528",(0,t.jsx)(e.code,{children:"*"}),"\u53f7\u5ea7\u4f4d path \u914d\u7f6e\u8def\u7531"]}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"NOTFOUND JS"})}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"export const Notfound = () => {\r\n  return <div>this is NotFound Page</div>;\r\n};\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"router"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"{\r\n    path: '*',\r\n    element: <Notfound/>\r\n}\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216152215586.png",alt:"image-20241216152215586"})}),"\n",(0,t.jsx)(e.h2,{id:"\u8def\u7531\u6a21\u5f0f",children:"\u8def\u7531\u6a21\u5f0f"}),"\n",(0,t.jsx)(e.p,{children:"\u5404\u4e2a\u4e3b\u6d41\u6846\u67b6\u7684\u8def\u7531\u5e38\u7528\u7684\u8def\u7531\u6a21\u5f0f\u6709\u4fe9\u79cd\uff0chistory \u6a21\u5f0f\u548c hash \u6a21\u5f0f, ReactRouter \u5206\u522b\u7531 createBrowerRouter \u548c createHashRouter \u51fd\u6570\u8d1f\u8d23\u521b\u5efa"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u8def\u7531\u6a21\u5f0f"}),(0,t.jsx)(e.th,{children:"url \u8868\u73b0"}),(0,t.jsx)(e.th,{children:"\u5e95\u5c42\u539f\u7406"}),(0,t.jsx)(e.th,{children:"\u662f\u5426\u9700\u8981\u540e\u7aef\u652f\u6301"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"history"}),(0,t.jsx)(e.td,{children:"url/login"}),(0,t.jsx)(e.td,{children:"history \u5bf9\u8c61 + pushState \u4e8b\u4ef6"}),(0,t.jsx)(e.td,{children:"\u9700\u8981"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"hash"}),(0,t.jsx)(e.td,{children:"url/#/login"}),(0,t.jsx)(e.td,{children:"\u76d1\u542c hashChange \u4e8b\u4ef6"}),(0,t.jsx)(e.td,{children:"\u4e0d\u9700\u8981"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"hooks-1",children:"Hooks"}),"\n",(0,t.jsx)(e.h3,{id:"usenavigate",children:"useNavigate"}),"\n",(0,t.jsx)(e.p,{children:"\u7528\u4e8e\u7f16\u7a0b\u5f0f\u5bfc\u822a"}),"\n",(0,t.jsx)(e.p,{children:"\u8bed\u6cd5:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'  const nav =  useNavigate()\r\n   <button onClick={()=>nav("/article")}>\u6587\u7ae0</button>\n'})}),"\n",(0,t.jsx)(e.h3,{id:"usesearchparams-1",children:"useSearchParams"}),"\n",(0,t.jsx)(e.p,{children:"\u7528\u4e8e\u8def\u7531\u8df3\u8f6c\u7684\u65f6\u5019\u63a5\u53d7\u4f20\u9012\u7684\u53c2\u6570"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"<button onClick={() => nav('/article?name=\"jack\"')}>\u6587\u7ae0</button>\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5728\u6587\u7ae0\u7ec4\u4ef6\u4e2d\u7f16\u5199"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'import { useSearchParams } from "react-router-dom";\r\n\r\nexport const Article = () => {\r\n  const [params] = useSearchParams();\r\n  const name = params.get("name");\r\n  return (\r\n    <div>\r\n      \u6211\u662f\u6587\u7ae0\u9875\u9762\r\n      {name}\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"useparams-1",children:"useParams"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u79cd\u65b9\u5f0f\u7c7b\u4f3c vue \u7684\u52a8\u6001\u8def\u7531\u4f20\u53c2,"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u518d\u8def\u7531\u9875\u9762\u7ed9\u8def\u5f84\u4e00\u4e2a\u5360\u4f4d\u7b26"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241216145206689.png",alt:"image-20241216145206689"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"\u4e4b\u540e\u7f16\u5199\u4ee3\u7801"}),"\n",(0,t.jsx)(e.p,{children:"Login \u4f20\u53c2 :"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:'<button onClick={() => nav("/article/1001/JACK")}>\u6587\u7ae0</button>\n'})}),"\n",(0,t.jsx)(e.p,{children:"Article \u63a5\u53d7:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"    const params = useParams();\r\n    return (\r\n        <div>\u6211\u662f\u6587\u7ae0\u9875\u9762\r\n         <div>  id: {params.id}</div>\r\n         <div>  name:{params.name}</div>\r\n        </div>\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h1,{id:"\u6781\u5ba2\u535a\u5ba2",children:"\u6781\u5ba2\u535a\u5ba2"}),"\n",(0,t.jsx)(e.h2,{id:"\u9879\u76ee\u914d\u7f6e",children:"\u9879\u76ee\u914d\u7f6e"}),"\n",(0,t.jsx)(e.p,{children:"\u521d\u59cb\u5316\u9879\u76ee \u8fd9\u91cc\u4f9d\u8d56\u7684\u4f7f\u7528:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"react & react-dom 18"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u89c4\u8303 src \u76ee\u5f55"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"-src\r\n  -apis           \u9879\u76ee\u63a5\u53e3\u51fd\u6570\r\n  -assets         \u9879\u76ee\u8d44\u6e90\u6587\u4ef6\uff0c\u6bd4\u5982\uff0c\u56fe\u7247\u7b49\r\n  -components     \u901a\u7528\u7ec4\u4ef6\r\n  -pages          \u9875\u9762\u7ec4\u4ef6\r\n  -store          \u96c6\u4e2d\u72b6\u6001\u7ba1\u7406\r\n  -utils          \u5de5\u5177\uff0c\u6bd4\u5982\uff0ctoken\u3001axios \u7684\u5c01\u88c5\u7b49\r\n  -App.js         \u6839\u7ec4\u4ef6\r\n  -index.css      \u5168\u5c40\u6837\u5f0f\r\n  -index.js       \u9879\u76ee\u5165\u53e3\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218140717964.png",alt:"image-20241218140717964"})}),"\n",(0,t.jsx)(e.h3,{id:"\u8def\u5f84\u522b\u540d",children:"\u8def\u5f84\u522b\u540d"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u9879\u76ee\u80cc\u666f\uff1a\u5728\u4e1a\u52a1\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u6587\u4ef6\u5939\u7684\u5d4c\u5957\u5c42\u7ea7\u53ef\u80fd\u4f1a\u6bd4\u8f83\u6df1\uff0c\u901a\u8fc7\u4f20\u7edf\u7684\u8def\u5f84\u9009\u62e9\u4f1a\u6bd4\u8f83\u9ebb\u70e6\u4e5f\u5bb9\u6613\u51fa\u9519\uff0c\u8bbe\u7f6e\u8def\u5f84\u522b\u540d\u53ef\u4ee5\u7b80\u5316\u8fd9\u4e2a\u8fc7\u7a0b"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5b89\u88c5 ",(0,t.jsx)(e.code,{children:"npm i @craco/craco -D"})]}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e\u521b\u5efa ",(0,t.jsx)(e.code,{children:"craco.config.js"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const path = require("path");\r\n\r\nmodule.exports = {\r\n  // webpack \u914d\u7f6e\r\n  webpack: {\r\n    // \u914d\u7f6e\u522b\u540d\r\n    alias: {\r\n      // \u7ea6\u5b9a\uff1a\u4f7f\u7528 @ \u8868\u793a src \u6587\u4ef6\u6240\u5728\u8def\u5f84\r\n      "@": path.resolve(__dirname, "src"),\r\n    },\r\n  },\r\n};\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u66ff\u6362 packge.json \u7684\u542f\u52a8\u65b9\u5f0f \u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'  "scripts": {\r\n    "start": "craco start",\r\n    "build": "craco build",\r\n    "test": "craco test",\r\n    "eject": "react-scripts eject"\r\n  }\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u914d\u7f6e\u4ee3\u7801\u7f16\u8f91\u5668\u8bc6\u522b"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5728\u8ddf\u76ee\u5f55\u521b\u5efa ",(0,t.jsx)(e.code,{children:"jsconfig.json"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\r\n  "compilerOptions": {\r\n    "baseUrl": ".",\r\n    "paths": {\r\n      "@/*": ["src/*"]\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u6837\u5c31\u6709\u8def\u5f84\u63d0\u793a\u4e86"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b89\u88c5-scss",children:"\u5b89\u88c5 scss"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5b89\u88c5\u89e3\u6790 sass \u7684\u5305\uff1a",(0,t.jsx)(e.code,{children:"npm i sass -D"})]}),"\n",(0,t.jsxs)(e.li,{children:["\u521b\u5efa\u5168\u5c40\u6837\u5f0f\u6587\u4ef6\uff1a",(0,t.jsx)(e.code,{children:"index.scss"})]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5b89\u88c5\u5b8c\u4e4b\u540e\u5728",(0,t.jsx)(e.code,{children:"index.scss"}),"\u4e2d\u5199\u4e0b\u6837\u5f0f\u67e5\u770b\u662f\u5426\u5b89\u88c5\u6210\u529f"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218141014055.png",alt:"image-20241218141014055"})}),"\n",(0,t.jsx)(e.h3,{id:"\u7ec4\u4ef6\u5e93-antd",children:"\u7ec4\u4ef6\u5e93 antd"}),"\n",(0,t.jsx)(e.p,{children:"\u7ec4\u4ef6\u5e93\u5e2e\u52a9\u6211\u4eec\u63d0\u5347\u5f00\u53d1\u6548\u7387\uff0c\u5176\u4e2d\u4f7f\u7528\u6700\u5e7f\u7684\u5c31\u662f antD"}),"\n",(0,t.jsxs)(e.p,{children:["\u5bfc\u5165\u4f9d\u8d56: ",(0,t.jsx)(e.code,{children:"npm i antd"})]}),"\n",(0,t.jsxs)(e.p,{children:["\u5b89\u88c5\u56fe\u6807\u5e93: ",(0,t.jsx)(e.code,{children:"npm install @ant-design/icons --save"})]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6d4b\u8bd5"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { Button } from "antd";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      this is a web app\r\n      <Button type="primary">test</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218141415282.png",alt:"image-20241218141415282"})}),"\n",(0,t.jsx)(e.h3,{id:"\u914d\u7f6e\u8def\u7531",children:"\u914d\u7f6e\u8def\u7531"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5bfc\u5165\u4f9d\u8d56"}),"\n"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5b89\u88c5\u8def\u7531\u5305 ",(0,t.jsx)(e.code,{children:" react-router-dom"})]}),"\n",(0,t.jsxs)(e.li,{children:["\u51c6\u5907\u57fa\u7840\u8def\u7531\u7ec4\u4ef6 ",(0,t.jsx)(e.code,{children:"Layout"}),"\u548c",(0,t.jsx)(e.code,{children:"Login"})]}),"\n",(0,t.jsx)(e.li,{children:"\u7f16\u5199\u914d\u7f6e"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"pages"}),"\u4e2d\u521b\u5efa\u597d\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u548c\u7ec4\u4ef6"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218141719222.png",alt:"image-20241218141719222"})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u914d\u7f6e\u5bf9\u5e94\u7684\u8def\u7531\u6587\u4ef6"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5728",(0,t.jsx)(e.code,{children:"router"}),"\u6587\u4ef6\u5939\u4e2d\u521b\u5efa index.js"]}),"\n",(0,t.jsx)(e.li,{children:"\u914d\u7f6e\u5bf9\u5e94\u7684\u7ec4\u4ef6\u8def\u7531\u6620\u5c04"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createBrowserRouter } from "react-router-dom";\r\nimport { Layout } from "../pages/Layout";\r\nimport { Login } from "../pages/Login";\r\n\r\nconst router = createBrowserRouter([\r\n  {\r\n    path: "/",\r\n    element: <Layout />,\r\n  },\r\n  {\r\n    path: "/login",\r\n    element: <Login />,\r\n  },\r\n]);\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e4b\u540e\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"provider"})," \u5c06\u8def\u7531\u653e\u5165\u6839\u6587\u4ef6 \u4f7f\u7528"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"index.js"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import React from "react";\r\nimport ReactDOM from "react-dom/client";\r\nimport "./index.scss";\r\nimport { RouterProvider } from "react-router-dom";\r\nimport router from "./router";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById("root"));\r\nroot.render(<RouterProvider router={router}></RouterProvider>);\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u914d\u7f6e\u5b8c\u91cd\u542f \u8fd9\u6837\u57fa\u7840\u7684\u8def\u7531\u5c31\u914d\u7f6e\u597d\u4e86"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218142213871.png",alt:"image-20241218142213871"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5c01\u88c5-requset-\u8bf7\u6c42\u6a21\u5757",children:"\u5c01\u88c5 requset \u8bf7\u6c42\u6a21\u5757"}),"\n",(0,t.jsxs)(e.p,{children:["\u56e0\u4e3a\u9879\u76ee\u4e2d\u4f1a\u53d1\u9001\u5f88\u591a\u7f51\u7edc\u8bf7\u6c42,\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06 ",(0,t.jsx)(e.code,{children:"axios"}),"\u505a\u597d\u7edf\u4e00\u5c01\u88c5 \u65b9\u4fbf\u7edf\u4e00\u7ba1\u7406\u548c\u590d\u7528"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218150947403.png",alt:"image-20241218150947403"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5bfc\u5165\u4f9d\u8d56"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm i axios\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e\u5728",(0,t.jsx)(e.code,{children:"utils"}),"\u4e2d\u7f16\u5199 ",(0,t.jsx)(e.code,{children:"request"}),"\u914d\u7f6e js"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import axios from "axios";\r\n\r\nconst request = axios.create({\r\n  baseURL: "http://geek.itheima.net/v1_0",\r\n  timeout: 5000,\r\n});\r\n\r\n// \u6dfb\u52a0\u8bf7\u6c42\u62e6\u622a\u5668\r\nrequest.interceptors.request.use(\r\n  (config) => {\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// \u6dfb\u52a0\u54cd\u5e94\u62e6\u622a\u5668\r\nrequest.interceptors.response.use(\r\n  (response) => {\r\n    // 2xx \u8303\u56f4\u5185\u7684\u72b6\u6001\u7801\u90fd\u4f1a\u89e6\u53d1\u8be5\u51fd\u6570\u3002\r\n    // \u5bf9\u54cd\u5e94\u6570\u636e\u505a\u70b9\u4ec0\u4e48\r\n    return response.data;\r\n  },\r\n  (error) => {\r\n    // \u8d85\u51fa 2xx \u8303\u56f4\u7684\u72b6\u6001\u7801\u90fd\u4f1a\u89e6\u53d1\u8be5\u51fd\u6570\u3002\r\n    // \u5bf9\u54cd\u5e94\u9519\u8bef\u505a\u70b9\u4ec0\u4e48\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport { request };\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"utils"}),"\u4e2d\u521b\u5efa index.js \u4f5c\u4e3a\u7edf\u4e00\u7684\u5de5\u5177\u7c7b\u4f7f\u7528\u5165\u53e3,\u65b9\u4fbf\u7ba1\u7406\u5de5\u5177\u7c7b"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { request } from "@/utils/request";\r\n\r\nexport { request };\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u767b\u5f55\u6a21\u5757",children:"\u767b\u5f55\u6a21\u5757"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"@/pages/login/index.jsx"})," \u4f7f\u7528 antd \u521b\u5efa\u767b\u5f55\u9875\u9762\u7684\u5185\u5bb9\u89e3\u6784"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import "./index.sass";\r\nimport { Button, Card, Form, Input } from "antd";\r\nimport logo from "@/assets/logo.png";\r\n\r\nexport const Login = () => {\r\n  return (\r\n    <div className="login">\r\n      <Card className="login-container">\r\n        <img className="login-logo" src={logo} alt="" />\r\n        {/* \u767b\u5f55\u8868\u5355 */}\r\n        <Form>\r\n          <Form.Item>\r\n            <Input size="large" placeholder="\u8bf7\u8f93\u5165\u624b\u673a\u53f7" />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Input size="large" placeholder="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801" />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button type="primary" htmlType="submit" size="large" block>\r\n              \u767b\u5f55\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u6837\u5f0f\u6587\u4ef6 ",(0,t.jsx)(e.code,{children:"index.css"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-scss",children:'.login {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  background: center/cover url("~@/assets/login.png");\r\n\r\n  .login-logo {\r\n    width: 200px;\r\n    height: 60px;\r\n    display: block;\r\n    margin: 0 auto 20px;\r\n  }\r\n\r\n  .login-container {\r\n    width: 440px;\r\n    height: 360px;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    box-shadow: 0 0 50px rgb(0 0 0 / 10%);\r\n  }\r\n\r\n  .login-checkbox-label {\r\n    color: #1890ff;\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218142514925.png",alt:""})}),"\n",(0,t.jsx)(e.h3,{id:"\u8868\u5355\u6821\u9a8c",children:"\u8868\u5355\u6821\u9a8c"}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528 antd form \u7ec4\u4ef6\u4e2d\u7684\u8868\u5355\u6821\u9a8c\u5c5e\u6027\u6765\u5b8c\u6210 \u8868\u5355\u6821\u9a8c"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218145050289.png",alt:"image-20241218145050289"})}),"\n",(0,t.jsx)(e.p,{children:"\u73b0\u5728\u5728 login \u7ec4\u4ef6\u4e2d\u52a0\u5165\u57fa\u7840\u7684\u8868\u5355\u6821\u9a8c"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'  {/* \u767b\u5f55\u8868\u5355 */}\r\n                <Form>\r\n                    <Form.Item\r\n                        name="mobile"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: \'\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7\'\r\n                            }\r\n                        ]}>\r\n                        <Input size="large" placeholder="\u8bf7\u8f93\u5165\u624b\u673a\u53f7"/>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name="code"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: \'\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\'\r\n                            }\r\n                        ]}>\r\n                        <Input size="large" placeholder="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"/>\r\n                    </Form.Item>\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218145511598.png",alt:"image-20241218145511598"})}),"\n",(0,t.jsx)(e.p,{children:"\u57fa\u7840\u6821\u9a8c\u8bbe\u7f6e\u597d\u4e4b\u540e \u6211\u4eec\u9700\u8981\u6839\u636e\u4e1a\u52a1\u6765\u8bbe\u8ba1\u5b9a\u5236\u6821\u9a8c \u5982"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u624b\u673a\u53f7\u5fc5\u987b\u662f 11 \u4f4d\u5e76\u4e14\u5fc5\u987b\u662f\u6570\u5b57 \u6b63\u5219\u8868\u8fbe\u5f0f"}),"\n",(0,t.jsxs)(e.li,{children:["\u5e76\u4e14\u8f93\u5165\u6846\u5931\u53bb\u7126\u70b9\u4e5f\u51fa\u53d1\u6821\u9a8c \u5728 Form \u6807\u7b7e\u6dfb\u52a0\u5c5e\u6027 ",(0,t.jsx)(e.code,{children:'validateTrigger="onBlur"'})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<Form.Item\r\n  name="mobile"\r\n  rules={[\r\n    {\r\n      required: true,\r\n      message: "\u8bf7\u8f93\u5165\u624b\u673a\u53f7",\r\n    },\r\n    {\r\n      pattern: /^1[3-9]\\d{9}$/,\r\n      message: "\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",\r\n    },\r\n  ]}\r\n>\r\n  <Input size="large" placeholder="\u8bf7\u8f93\u5165\u624b\u673a\u53f7" />\r\n</Form.Item>\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u63d0\u4ea4\u6570\u636e"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u7ee7\u7eed\u67e5\u770b\u5b98\u65b9\u6587\u6863 \u6848\u4f8b \u91cc\u9762\u6709\u4e00\u4e2a ",(0,t.jsx)(e.code,{children:"onFinish "}),"\u7684\u56de\u8c03\u65b9\u6cd5 ,\u5e76\u4e14\u653e\u5230 form \u7ec4\u4ef6\u7684\u5c5e\u6027\u91cc\u5c31\u53ef\u4ee5\u770b\u5230\u4f20\u9012\u7684\u4fe1\u606f\u4e86"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218150515014.png",alt:"image-20241218150515014"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801\u4fee\u6539"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const onFinish = (values) => {\r\n  console.log("Success:", values);\r\n};\r\n\r\n<Form onFinish={onFinish} validateTrigger="onBlur"></Form>;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u8bbe\u7f6e\u597d\u4e4b\u540e\u6211\u4eec\u518d\u6b21\u70b9\u51fb\u767b\u5f55\u6309\u94ae\u5c31\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u770b\u5230\u4f20\u9012\u7684 json \u4fe1\u606f\u4e86"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241218150849701.png",alt:"image-20241218150849701"})}),"\n",(0,t.jsx)(e.h3,{id:"\u4f7f\u7528-redux-\u7ba1\u7406-token",children:"\u4f7f\u7528 Redux \u7ba1\u7406 token"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"token"}),"\u53ef\u4ee5\u4f5c\u4e3a\u7528\u6237\u8868\u793a\u6570\u636e \u5176\u5b9e\u4e00\u822c\u6211\u4eec\u7684\u767b\u5f55\u64cd\u4f5c\u5c31\u662f\u4e3a\u4e86\u83b7\u53d6\u5bf9\u5e94\u8d26\u53f7\u4e0b\u7684 token \u6743\u9650,\u8fd9\u4e2a token \u9700\u8981\u6211\u4eec\u5728\u524d\u7aef\u5168\u5c40\u5316\u7684\u5171\u4eab \u6240\u4ee5\u9700\u8981\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"redux"}),"\u6765\u7ba1\u7406"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4f9d\u8d56"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm i react-redux @reduxjs/toolkit\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u914d\u7f6e redux"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"store"}),"\u6587\u4ef6\u5939\u521b\u5efa\u5bf9\u5e94\u7684\u6587\u4ef6\u7ed3\u6784"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220142828152.png",alt:"image-20241220142828152"})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e\u7f16\u5199 ",(0,t.jsx)(e.code,{children:"user.js"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createSlice } from "@reduxjs/toolkit";\r\nimport { request } from "@/utils";\r\n\r\nconst userStore = createSlice({\r\n  name: "user",\r\n  // \u6570\u636e\u72b6\u6001\r\n  initialState: {\r\n    token: "",\r\n  },\r\n  // \u540c\u6b65\u4fee\u6539\u65b9\u6cd5\r\n  reducers: {\r\n    setToken(state, action) {\r\n      state.userInfo = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// \u89e3\u6784\u51faactionCreater\r\nconst { setToken } = userStore.actions;\r\n\r\n// \u83b7\u53d6reducer\u51fd\u6570\r\nconst userReducer = userStore.reducer;\r\n\r\n// \u5f02\u6b65\u65b9\u6cd5\u5c01\u88c5\r\nconst fetchLogin = (loginForm) => {\r\n  return async (dispatch) => {\r\n    const res = await request.post("/authorizations", loginForm);\r\n    dispatch(setToken(res.data.token));\r\n  };\r\n};\r\n\r\nexport { fetchLogin };\r\n\r\nexport default userReducer;\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"index.js"}),"\u914d\u7f6e\u7edf\u4e00\u7ba1\u7406 reducer"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { configureStore } from "@reduxjs/toolkit";\r\n\r\nimport userReducer from "./modules/user";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    // \u6ce8\u518c\u5b50\u6a21\u5757\r\n    user: userReducer,\r\n  },\r\n});\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u5728 src \u4e0b\u76ee\u5f55\u4e2d\u7684",(0,t.jsx)(e.code,{children:"index.js"}),"\u6ce8\u5165 store"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { Provider } from "react-redux";\r\nimport store from "./store";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById("root"));\r\nroot.render(\r\n  <Provider store={store}>\r\n    <RouterProvider router={router} />\r\n  </Provider>\r\n);\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u89e6\u53d1\u767b\u5f55\u64cd\u4f5c",children:"\u89e6\u53d1\u767b\u5f55\u64cd\u4f5c"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u4f7f\u7528\u7684\u662f\u9ed1\u9a6c\u7684\u540e\u7aef\u6a21\u7248 \u6240\u4ee5\u9700\u8981\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u6570\u636e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"\u624b\u673a\u53f7 13888888888\r\ncode 246810\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8f93\u5165\u4e4b\u540e\u5c31\u53ef\u4ee5\u770b\u5230\u6210\u529f\u7684\u62ff\u5230\u4e86 \u8be5\u7528\u6237\u7684 token"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220143845001.png",alt:"image-20241220143845001"})}),"\n",(0,t.jsx)(e.p,{children:"redux \u4e5f\u6210\u529f\u7684\u4fdd\u5b58\u7684 token \u6570\u636e"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220144307990.png",alt:"image-20241220144307990"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u767b\u9646\u540e\u7684\u64cd\u4f5c"}),"\n"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6211\u4eec\u9700\u8981\u8df3\u8f6c\u5230\u4e3b\u9875"}),"\n",(0,t.jsx)(e.li,{children:"\u63d0\u793a\u7528\u6237\u767b\u5f55\u72b6\u6001"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5728 login jsx \u4e2d\u4fee\u6539 onfinish \u65b9\u6cd5\u5185\u5bb9\u5b9e\u73b0\u8df3\u8f6c"}),"\n",(0,t.jsx)(e.p,{children:"PS: \u7bc7\u5e45\u95ee\u9898\u53ea\u5c55\u793a\u4e86 js \u4ee3\u7801 return \u4e2d\u7684\u6837\u5f0f\u5c31\u4e0d\u518d\u8fc7\u591a\u5c55\u793a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import "./index.scss";\r\nimport { Button, Card, Form, Input, message } from "antd";\r\nimport logo from "@/assets/logo.png";\r\nimport { useDispatch } from "react-redux";\r\nimport { fetchLogin } from "@/store/modules/user";\r\nimport { useNavigate } from "react-router-dom";\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const onFinish = async (values) => {\r\n    await dispatch(fetchLogin(values));\r\n    //     \u8df3\u8f6c\u5230\u4e3b\u9875\r\n    navigate("/");\r\n    message.success("\u767b\u9646\u6210\u529f");\r\n  };\r\n};\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220144618910.png",alt:"image-20241220144618910"})}),"\n",(0,t.jsx)(e.h3,{id:"token-\u6301\u4e45\u5316",children:"token \u6301\u4e45\u5316"}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528 localStorage+redux \u7ba1\u7406 token"}),"\n",(0,t.jsx)(e.p,{children:"\u7f16\u5199\u903b\u8f91 :\u5148\u67e5\u8be2\u672c\u5730\u6709\u6ca1\u6709 \u5982\u679c\u6ca1\u6709\u5c31\u8bf7\u6c42,\u7136\u540e\u4fdd\u5b58\u5728\u672c\u5730"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539 reducer \u8bf7\u6c42 token \u7684\u65b9\u6cd5\u5185\u5bb9"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u6ca1\u6709\u7528 sessionStorage \u800c\u662f\u9009\u62e9\u7528 localStorage \u5462 \u56e0\u4e3a\u6211\u4eec\u9700\u8981\u66f4\u957f\u65f6\u95f4\u7684\u6301\u4e45\u5316 session \u5173\u95ed\u6d4f\u89c8\u5668\u5c31\u88ab\u6e05\u7a7a\u4e86,\u4e4b\u540e\u767b\u51fa\u7684\u65f6\u5019\u4f1a\u663e\u5f0f\u7684\u6e05\u9664 token"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const userStore = createSlice({\r\n  name: "user",\r\n  // \u6570\u636e\u72b6\u6001\r\n  initialState: {\r\n    token: sessionStorage.getItem("token_key") || "",\r\n  },\r\n  // \u540c\u6b65\u4fee\u6539\u65b9\u6cd5\r\n  reducers: {\r\n    setToken(state, action) {\r\n      state.token = action.payload;\r\n      sessionStorage.setItem("token_key", state.token);\r\n    },\r\n  },\r\n});\n'})}),"\n",(0,t.jsx)(e.h4,{id:"\u5c01\u88c5-token-\u64cd\u4f5c\u65b9\u6cd5",children:"\u5c01\u88c5 token \u64cd\u4f5c\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.p,{children:"\u521b\u5efa\u5de5\u5177\u7c7b"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220145847204.png",alt:"image-20241220145847204"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u5c01\u88c5\u5b58\u53d6\u65b9\u6cd5\r\n\r\nconst TOKENKEY = "token_key";\r\n\r\nfunction setToken(token) {\r\n  return localStorage.setItem(TOKENKEY, token);\r\n}\r\n\r\nfunction getToken() {\r\n  return localStorage.getItem(TOKENKEY);\r\n}\r\n\r\nfunction clearToken() {\r\n  return localStorage.removeItem(TOKENKEY);\r\n}\r\n\r\nexport { setToken, getToken, clearToken };\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u5728\u5165\u53e3 index \u5bfc\u5165\u5de5\u5177\u7c7b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { request } from "@/utils/request";\r\nimport { clearToken, getToken, setToken } from "@/utils/token";\r\n\r\nexport { request, getToken, setToken, clearToken };\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539\u83b7\u53d6\u7684 token \u7684\u4ee3\u7801\u6539\u4e3a\u4f7f\u7528\u5de5\u5177\u7c7b"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const userStore = createSlice({\r\n  name: "user",\r\n  // \u6570\u636e\u72b6\u6001\r\n  initialState: {\r\n    token: getToken() || "",\r\n  },\r\n  // \u540c\u6b65\u4fee\u6539\u65b9\u6cd5\r\n  reducers: {\r\n    setToken(state, action) {\r\n      state.token = action.payload;\r\n      //\u8fd9\u91cc\u662f\u4f7f\u7528\u522b\u540d\u7684setToken\u65b9\u6cd5 \u662f\u518dimport setToken as _setToken\r\n      _setToken(action.payload);\r\n    },\r\n  },\r\n});\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5728-axios-\u8bf7\u6c42\u4e2d\u643a\u5e26-token",children:"\u5728 Axios \u8bf7\u6c42\u4e2d\u643a\u5e26 token"}),"\n",(0,t.jsxs)(e.p,{children:["\u540e\u7aef\u9700\u8981 token \u6765\u5224\u65ad\u662f\u5426\u80fd\u591f\u4f7f\u7528\u63a5\u53e3 ,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fee\u6539",(0,t.jsx)(e.code,{children:"request"}),"\u5de5\u5177\u6765\u8ba9\u4ed6\u643a\u5e26 token \u8bf7\u6c42"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220150647679.png",alt:"image-20241220150647679"})}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u8bf7\u6c42\u62e6\u622a\u5176\u4e2d\u62ff\u5230 token \u5e76\u4e14\u6ce8\u5165 token"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u6dfb\u52a0\u8bf7\u6c42\u62e6\u622a\u5668\r\nrequest.interceptors.request.use(\r\n  (config) => {\r\n    // \u5982\u679c\u6709token\u5c31\u643a\u5e26\u6ca1\u6709\u5c31\u6b63\u5e38\r\n    const token = getToken();\r\n    // \u6309\u7167\u540e\u7aef\u7684\u8981\u6c42\u52a0\u5165token\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6d4b\u8bd5"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220151207539.png",alt:"image-20241220151207539"})}),"\n",(0,t.jsx)(e.h3,{id:"\u4f7f\u7528-token-\u505a\u8def\u7531\u6743\u9650\u63a7\u5236",children:"\u4f7f\u7528 token \u505a\u8def\u7531\u6743\u9650\u63a7\u5236"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u6ca1\u6709 token \u7684\u65f6\u5019 \u4e0d\u5141\u8bb8\u8bbf\u95ee\u9700\u8981\u6743\u9650\u7684\u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220151553164.png",alt:"image-20241220151553164"})}),"\n",(0,t.jsxs)(e.p,{children:["\u521b\u5efa\u7ec4\u4ef6 ",(0,t.jsx)(e.code,{children:"AuthRoute"})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220152217542.png",alt:"image-20241220152217542"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u5c01\u88c5\u9ad8\u7ea7\u7ec4\u4ef6\r\n//\u6838\u5fc3\u903b\u8f91:\u6839\u636etoken\u63a7\u5236\u8df3\u8f6c\r\nimport { getToken } from "@/utils";\r\nimport { Navigate } from "react-router-dom";\r\n\r\nexport function AuthRoute({ children }) {\r\n  const token = getToken();\r\n  if (token) {\r\n    return <>{children}</>;\r\n  } else {\r\n    return <Navigate to={"/login"} replace={true} />;\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539 router.js"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createBrowserRouter } from "react-router-dom";\r\nimport { Layout } from "../pages/Layout";\r\nimport { Login } from "../pages/Login";\r\nimport { AuthRoute } from "@/components/AuthRoute";\r\n\r\nconst router = createBrowserRouter([\r\n  {\r\n    path: "/",\r\n    element: (\r\n      <AuthRoute>\r\n        <Layout />\r\n      </AuthRoute>\r\n    ),\r\n  },\r\n  {\r\n    path: "/login",\r\n    element: <Login />,\r\n  },\r\n]);\r\nexport default router;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5220\u9664 token \u4e4b\u540e\u5237\u65b0\u754c\u9762 \u5c31\u4f1a\u88ab\u5f3a\u5236\u5b9a\u5411\u5230 login"}),"\n",(0,t.jsx)(e.h2,{id:"\u4e3b\u9875\u9762",children:"\u4e3b\u9875\u9762"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4f9d\u8d56"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220153439026.png",alt:"image-20241220153439026"})}),"\n",(0,t.jsx)(e.p,{children:"\u7528\u6765\u521d\u59cb\u5316\u6837\u5f0f\u7684\u7b2c\u4e09\u65b9\u5e93"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm install normalize.css\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u5c06\u5176\u5f15\u5165\u5230\u7a0b\u5e8f\u5165\u95e8 index.js"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u5b9e\u73b0\u6b65\u9aa4"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u6253\u5f00 antd/Layout \u5e03\u5c40\u7ec4\u4ef6\u6587\u6863\uff0c\u627e\u5230\u793a\u4f8b\uff1a\u9876\u90e8-\u4fa7\u8fb9\u5e03\u5c40-\u901a\u680f"}),"\n",(0,t.jsx)(e.li,{children:"\u62f7\u8d1d\u793a\u4f8b\u4ee3\u7801\u5230\u6211\u4eec\u7684 Layout \u9875\u9762\u4e2d"}),"\n",(0,t.jsx)(e.li,{children:"\u5206\u6790\u5e76\u8c03\u6574\u9875\u9762\u5e03\u5c40"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4e3b\u9875\u9762\u6a21\u7248"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { Layout, Menu, Popconfirm } from "antd";\r\nimport {\r\n  DiffOutlined,\r\n  EditOutlined,\r\n  HomeOutlined,\r\n  LogoutOutlined,\r\n} from "@ant-design/icons";\r\nimport "./index.scss";\r\nimport { Outlet, useNavigate } from "react-router-dom";\r\n\r\nconst { Header, Sider } = Layout;\r\n\r\nconst items = [\r\n  {\r\n    label: "\u9996\u9875",\r\n    key: "/",\r\n    icon: <HomeOutlined />,\r\n  },\r\n  {\r\n    label: "\u6587\u7ae0\u7ba1\u7406",\r\n    key: "/article",\r\n    icon: <DiffOutlined />,\r\n  },\r\n  {\r\n    label: "\u521b\u5efa\u6587\u7ae0",\r\n    key: "/publish",\r\n    icon: <EditOutlined />,\r\n  },\r\n];\r\n\r\nconst GeekLayout = () => {\r\n  const navigate = useNavigate();\r\n  const onMenuClick = (router) => {\r\n    console.log(router);\r\n    navigate(router.key);\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Header className="header">\r\n        <div className="logo" />\r\n        <div className="user-info">\r\n          <span className="user-name">\u51b7\u73af\u6e0a</span>\r\n          <span className="user-logout">\r\n            <Popconfirm title="\u662f\u5426\u786e\u8ba4\u9000\u51fa\uff1f" okText="\u9000\u51fa" cancelText="\u53d6\u6d88">\r\n              <LogoutOutlined /> \u9000\u51fa\r\n            </Popconfirm>\r\n          </span>\r\n        </div>\r\n      </Header>\r\n      <Layout>\r\n        <Sider width={200} className="site-layout-background">\r\n          <Menu\r\n            mode="inline"\r\n            theme="dark"\r\n            defaultSelectedKeys={["1"]}\r\n            items={items}\r\n            onClick={onMenuClick}\r\n            style={{ height: "100%", borderRight: 0 }}\r\n          ></Menu>\r\n        </Sider>\r\n        <Layout className="layout-content" style={{ padding: 20 }}>\r\n          <Outlet />\r\n        </Layout>\r\n      </Layout>\r\n    </Layout>\r\n  );\r\n};\r\nexport default GeekLayout;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4e3b\u9875\u9762\u6837\u5f0f\u6587\u4ef6"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-scss",children:'.ant-layout {\r\n  height: 100%;\r\n}\r\n\r\n.header {\r\n  padding: 0;\r\n}\r\n\r\n.logo {\r\n  width: 200px;\r\n  height: 60px;\r\n  background: url("~@/assets/logo.png") no-repeat center / 160px auto;\r\n}\r\n\r\n.layout-content {\r\n  overflow-y: auto;\r\n}\r\n\r\n.user-info {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  padding-right: 20px;\r\n  color: #fff;\r\n\r\n  .user-name {\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .user-logout {\r\n    display: inline-block;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.ant-layout-header {\r\n  padding: 0 !important;\r\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u4e8c\u7ea7\u8def\u7531\u8bbe\u7f6e",children:"\u4e8c\u7ea7\u8def\u7531\u8bbe\u7f6e"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220153841966.png",alt:"image-20241220153841966"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220153853223.png",alt:"image-20241220153853223"})}),"\n",(0,t.jsx)(e.h4,{id:"\u914d\u7f6e\u4e8c\u7ea7\u8def\u7531",children:"\u914d\u7f6e\u4e8c\u7ea7\u8def\u7531"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const router = createBrowserRouter([\r\n    {\r\n        path: '/',\r\n        element: <AuthRoute><GeekLayout/></AuthRoute>,\r\n        children: [{\r\n            path: '/',\r\n            element: <Home></Home>\r\n        }, {\r\n            path: 'article',\r\n            element: <Article></Article>\r\n        }, {\r\n            path: 'publish',\r\n            element: <Publish></Publish>\r\n        }]\r\n    },\r\n     \x3c!--....\u7701\u7565--\x3e\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u6e32\u67d3\u5bf9\u5e94\u5173\u7cfb"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<Layout className="layout-content" style={{ padding: 20 }}>\r\n  <Outlet></Outlet>\r\n</Layout>\n'})}),"\n",(0,t.jsx)(e.h4,{id:"\u8def\u7531\u8054\u52a8",children:"\u8def\u7531\u8054\u52a8"}),"\n",(0,t.jsx)(e.p,{children:"\u5c06\u8def\u7531\u7684 key \u8bbe\u7f6e\u6210\u8def\u7531\u7684\u8df3\u8f6c\u5730\u5740"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const items = [\r\n    {\r\n        label: '\u9996\u9875',\r\n        key: '/',\r\n        icon: <HomeOutlined/>,\r\n    },\r\n    {\r\n        label: '\u6587\u7ae0\u7ba1\u7406',\r\n        key: '/article',\r\n        icon: <DiffOutlined/>,\r\n    },\r\n    {\r\n        label: '\u521b\u5efa\u6587\u7ae0',\r\n        key: '/publish',\r\n        icon: <EditOutlined/>,\r\n    },\r\n]\r\nconst GeekLayout = () => {\r\n    const navigate = useNavigate();\r\n    const onMenuClick = (router) => {\r\n        console.log(router)\r\n        navigate(router.key)\r\n    }\r\n    return (\r\n        <Layout>\r\n            \x3c!--\u7701\u7565--\x3e\r\n            <Layout>\r\n                <Sider width={200} className=\"site-layout-background\">\r\n                    <Menu\r\n                        mode=\"inline\"\r\n                        theme=\"dark\"\r\n                        defaultSelectedKeys={['1']}\r\n                        items={items}\r\n                        onClick={onMenuClick}\r\n                        style={{height: '100%', borderRight: 0}}></Menu>\r\n                </Sider>\r\n                <Layout className=\"layout-content\" style={{padding: 20}}>\r\n                    <Outlet/>\r\n                </Layout>\r\n            </Layout>\r\n        </Layout>\r\n    )\r\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u83dc\u5355\u70b9\u51fb\u9ad8\u4eae",children:"\u83dc\u5355\u70b9\u51fb\u9ad8\u4eae"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:" ueslocation"}),"\u83b7\u53d6\u5f53\u524d\u7684\u8def\u7531\u4f4d\u7f6e,\u5e76\u4e14\u5c06",(0,t.jsx)(e.code,{children:"MENU"}),"\u4e2d\u7684\u5c5e\u6027",(0,t.jsx)(e.code,{children:"defaultSelectedKeys"})," -> ",(0,t.jsx)(e.code,{children:"SelectedKeys"}),"\u5185\u5bb9\u4e3a\u83b7\u53d6\u5230\u7684 pathname"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const GeekLayout = () => {\r\n    const navigate = useNavigate();\r\n    const onMenuClick = (router) => {\r\n        console.log(router)\r\n        navigate(router.key)\r\n    }\r\n    // \u83b7\u53d6\u5230\u5f53\u524d\u70b9\u51fb\u7684\u8def\u7531\r\n    const location = useLocation();\r\n    const selectedKey = location.pathname;\r\n    return (\r\n        <Layout>\r\n            <Header className="header">\r\n          \x3c!--\u7701\u7565--\x3e\r\n            </Header>\r\n            <Layout>\r\n                <Sider width={200} className="site-layout-background">\r\n                    <Menu\r\n                        mode="inline"\r\n                        theme="dark"\r\n                        SelectedKeys={selectedKey}\r\n                        items={items}\r\n                        onClick={onMenuClick}\r\n                        style={{height: \'100%\', borderRight: 0}}></Menu>\r\n                </Sider>\r\n  \x3c!--\u7701\u7565--\x3e\r\n            </Layout>\r\n        </Layout>\r\n    )\r\n}\r\nexport default GeekLayout\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220160701656.png",alt:"image-20241220160701656"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5c55\u793a\u4e2a\u4eba\u4fe1\u606f",children:"\u5c55\u793a\u4e2a\u4eba\u4fe1\u606f"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u5b9e\u73b0\u6b65\u9aa4"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u5728 Redux \u7684 store \u4e2d\u7f16\u5199\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u76f8\u5173\u903b\u8f91"}),"\n",(0,t.jsx)(e.li,{children:"\u5728 Layout \u7ec4\u4ef6\u4e2d\u89e6\u53d1 action \u7684\u6267\u884c"}),"\n",(0,t.jsx)(e.li,{children:"\u5728 Layout \u7ec4\u4ef6\u4f7f\u7528\u4f7f\u7528 store \u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7528\u6237\u540d\u7684\u6e32\u67d3"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["\u4fee\u6539 ",(0,t.jsx)(e.code,{children:"store/module/user.js"})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createSlice } from "@reduxjs/toolkit";\r\nimport { getToken, request, setToken as _setToken } from "@/utils";\r\n\r\nconst userStore = createSlice({\r\n  name: "user",\r\n  // \u6570\u636e\u72b6\u6001\r\n  initialState: {\r\n    token: getToken() || "",\r\n    userInfo: {},\r\n  },\r\n  // \u540c\u6b65\u4fee\u6539\u65b9\u6cd5\r\n  reducers: {\r\n    setToken(state, action) {\r\n      state.token = action.payload;\r\n      _setToken(action.payload);\r\n    },\r\n    setUserInfo(state, action) {\r\n      state.userInfo = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// \u89e3\u6784\u51faactionCreater\r\nconst { setToken, setUserInfo } = userStore.actions;\r\n\r\n// \u83b7\u53d6reducer\u51fd\u6570\r\nconst userReducer = userStore.reducer;\r\n\r\n// \u5f02\u6b65\u65b9\u6cd5\u5c01\u88c5\r\nconst fetchLogin = (loginForm) => {\r\n  return async (dispatch) => {\r\n    const res = await request.post("/authorizations", loginForm);\r\n    dispatch(setToken(res.data.token));\r\n  };\r\n};\r\nconst fetchUserInfo = () => {\r\n  return async (dispatch) => {\r\n    const res = await request.get("/user/profile");\r\n    dispatch(setUserInfo(res.data));\r\n  };\r\n};\r\nexport { fetchLogin, fetchUserInfo };\r\n\r\nexport default userReducer;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4e3b\u9875\u9762\u5e03\u5c40\u663e\u793a"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u65b0\u589e\u7684\u4ee3\u7801 \u9700\u8981\u53bb\u4fee\u6539 header \u91cc\u7684 user-name \u7684\u5185\u5bb9\u6539\u4e3a\u6211\u4eec\u83b7\u53d6\u5230\u7684 username"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'    const dispatch = useDispatch()\r\n    const name = useSelector(state => state.user.userInfo.name)\r\n    useEffect(() => {\r\n        dispatch(fetchUserInfo())\r\n    }, [dispatch])\r\n\r\n<Header className="header">\r\n                <div className="logo"/>\r\n                <div className="user-info">\r\n                    <span className="user-name">{name}</span>\r\n                    <span className="user-logout">\r\n            <Popconfirm title="\u662f\u5426\u786e\u8ba4\u9000\u51fa\uff1f" okText="\u9000\u51fa" cancelText="\u53d6\u6d88">\r\n              <LogoutOutlined/> \u9000\u51fa\r\n            </Popconfirm>\r\n          </span>\r\n                </div>\r\n            </Header>\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241220161204553.png",alt:"image-20241220161204553"})}),"\n",(0,t.jsx)(e.h3,{id:"\u9000\u51fa\u767b\u5f55",children:"\u9000\u51fa\u767b\u5f55"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9700\u8981\u4e8c\u6b21\u786e\u8ba4\u9000\u51fa\u767b\u5f55"}),"\n",(0,t.jsx)(e.li,{children:"\u6e05\u9664\u7528\u6237\u4fe1\u606f"}),"\n",(0,t.jsx)(e.li,{children:"\u8df3\u8f6c\u56de login \u9875\u9762"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u7ed1\u5b9a\u4e8b\u4ef6"}),"\n",(0,t.jsxs)(e.p,{children:["\u5728",(0,t.jsx)(e.code,{children:"layout.jsx"}),"\u4e2d\u627e\u5230\u9000\u51fa\u76f8\u5173\u7684\u7ec4\u4ef6",(0,t.jsx)(e.code,{children:"Popconfirm"})]}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u4e2a\u7ec4\u4ef6\u6709\u662f\u5426\u786e\u8ba4\u4e8b\u4ef6\u7684\u7ed1\u5b9a\u65b9\u6cd5 ",(0,t.jsx)(e.code,{children:"onConfirm={onConfirm}"})]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u200b \u5728",(0,t.jsx)(e.code,{children:"store"}),"\u6587\u4ef6\u5939\u4e0b",(0,t.jsx)(e.code,{children:"user.js"}),"\u7684",(0,t.jsx)(e.code,{children:"reducer"}),"\u4e2d\u589e\u52a0\u6e05\u9664\u7528\u6237\u4fe1\u606f\u7684\u65b9\u6cd5"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u540c\u6b65\u4fee\u6539\u65b9\u6cd5\r\n    reducers: {\r\n        clearUserInfo(state) {\r\n            state.token = ''\r\n            state.userInfo = {}\r\n            clearToken()\r\n        }\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u54cd\u5e94\u4e8b\u4ef6\u65b9\u6cd5\u4e2d\u8c03\u7528\u65b9\u6cd5 \u6e05\u9664\u7528\u6237\u4fe1\u606f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const onConfirm = () => {\r\n  dispatch(clearUserInfo());\r\n  navigate("/login");\r\n};\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226160632157.png",alt:"image-20241226160632157"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u70b9\u51fb\u786e\u8ba4\u9000\u51fa\u540e \u6210\u529f\u88ab\u5b9a\u5411\u5230\u767b\u5f55\u9875\u9762"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226160656121.png",alt:"image-20241226160656121"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5904\u7406\u5931\u6548-token",children:"\u5904\u7406\u5931\u6548 token"}),"\n",(0,t.jsx)(e.p,{children:"\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\u4ee5\u53ca\u63a7\u5236\u6027\u80fd token \u4e00\u822c\u90fd\u4f1a\u6709\u4e00\u4e2a\u6709\u6548\u65f6\u95f4, \u901a\u5e38\u540e\u7aef token \u5931\u6548\u90fd\u4f1a\u8fd4\u56de 401 \u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76d1\u63a7\u540e\u7aef\u8fd4\u56de\u7684\u72b6\u6001\u7801 \u6765\u505a\u540e\u7eed\u64cd\u4f5c \u5982 \u9000\u51fa\u767b\u5f55 \u6216 \u7eed\u8d39 token"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226160857875.png",alt:"image-20241226160857875"})}),"\n",(0,t.jsx)(e.p,{children:"\u6765\u5230 request \u5de5\u5177\u7c7b\u4e2d\u7684\u54cd\u5e94\u62e6\u622a\u5668 \u62ff\u5230\u54cd\u5e94\u7ed3\u679c\u5e76\u4e14\u6821\u9a8c\u72b6\u6001\u7801\u662f\u5426\u662f 401"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'request.interceptors.response.use(\r\n  (response) => {\r\n    // 2xx \u8303\u56f4\u5185\u7684\u72b6\u6001\u7801\u90fd\u4f1a\u89e6\u53d1\u8be5\u51fd\u6570\u3002\r\n    // \u5bf9\u54cd\u5e94\u6570\u636e\u505a\u70b9\u4ec0\u4e48\r\n    return response.data;\r\n  },\r\n  (error) => {\r\n    // \u8d85\u51fa 2xx \u8303\u56f4\u7684\u72b6\u6001\u7801\u90fd\u4f1a\u89e6\u53d1\u8be5\u51fd\u6570\u3002\r\n    // 401\u4ee3\u8868token\u5931\u6548 \u9700\u8981\u6e05\u9664\u5f53\u524dtoken\r\n    if (error.response.status === 401) {\r\n      clearToken();\r\n      // \u8fd9\u91cc\u6709\u95ee\u9898 \u662f\u56e0\u4e3a\u4f7f\u7528createBrownRouter\u521b\u5efa\u7684\u5b9e\u4f8b\u65e0\u6cd5\u4f7f\u7528navigate,\u6682\u65f6\u5148\u8fd9\u4e48\u5199 \u540e\u7eed\u4f1a\u4fee\u6539\r\n      router.navigate("/login").then(() => {\r\n        window.location.reload();\r\n      });\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5982\u4f55\u67e5\u770b\u6548\u679c?"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u63a7\u5236\u53f0\u5c06\u672c\u5730\u7684 token \u4fee\u6539\u51e0\u4f4d \u5237\u65b0\u5c31\u53ef\u4ee5\u89e6\u53d1 401 \u4e4b\u540e\u67e5\u770b\u6548\u679c\u662f\u5426\u6210\u529f"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u4e3b\u9875\u53ef\u89c6\u5316\u56fe\u8868",children:"\u4e3b\u9875\u53ef\u89c6\u5316\u56fe\u8868"}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"echarts"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm i echarts\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u57fa\u7840 demo"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u4ece\u5b98\u65b9\u6587\u6863\u590d\u5236\u4e2a demo \u8fdb\u6765"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { useEffect, useRef } from "react";\r\nimport * as echarts from "echarts";\r\n\r\nexport const Home = () => {\r\n  const chartRef = useRef(null);\r\n  useEffect(() => {\r\n    // 1. \u751f\u6210\u5b9e\u4f8b\r\n    const myChart = echarts.init(chartRef.current);\r\n    // 2. \u51c6\u5907\u56fe\u8868\u53c2\u6570\r\n    const option = {\r\n      xAxis: {\r\n        type: "category",\r\n        data: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],\r\n      },\r\n      yAxis: {\r\n        type: "value",\r\n      },\r\n      series: [\r\n        {\r\n          data: [120, 200, 150, 80, 70, 110, 130],\r\n          type: "bar",\r\n        },\r\n      ],\r\n    };\r\n    // 3. \u6e32\u67d3\u53c2\u6570\r\n    myChart.setOption(option);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div ref={chartRef} style={{ width: "400px", height: "300px" }} />\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.h4,{id:"\u5c01\u88c5-echarts-\u7ec4\u4ef6",children:"\u5c01\u88c5 echarts \u7ec4\u4ef6"}),"\n",(0,t.jsx)(e.p,{children:"\u5c06\u5185\u5bb9\u62bd\u8c61\u51fa\u6765,\u5c06\u4e0d\u4e00\u6837\u7684\u90e8\u5206\u62bd\u8c61\u4e3a\u53c2\u6570\u9002\u914d"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226162624923.png",alt:"image-20241226162624923"})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u5c06\u56fe\u6807\u4ee3\u7801\u63d0\u53d6\u51fa\u6765 \u5f00\u59cb\u4fee\u6539: \u5c06 title, x \u6570\u636e, y \u6570\u636e, \u6837\u5f0f\u4f5c\u4e3a\u53c2\u6570"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { useEffect, useRef } from "react";\r\nimport * as echarts from "echarts";\r\n\r\nconst BarChart = ({\r\n  title,\r\n  xData,\r\n  sData,\r\n  style = { width: "400px", height: "300px" },\r\n}) => {\r\n  const chartRef = useRef(null);\r\n  useEffect(() => {\r\n    // 1. \u751f\u6210\u5b9e\u4f8b\r\n    const myChart = echarts.init(chartRef.current);\r\n    // 2. \u51c6\u5907\u56fe\u8868\u53c2\u6570\r\n    const option = {\r\n      title: {\r\n        text: title,\r\n      },\r\n      xAxis: {\r\n        type: "category",\r\n        data: xData,\r\n      },\r\n      yAxis: {\r\n        type: "value",\r\n      },\r\n      series: [\r\n        {\r\n          data: sData,\r\n          type: "bar",\r\n        },\r\n      ],\r\n    };\r\n    // 3. \u6e32\u67d3\u53c2\u6570\r\n    myChart.setOption(option);\r\n  }, [sData, xData]);\r\n  return <div ref={chartRef} style={style}></div>;\r\n};\r\n\r\nexport { BarChart };\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539 home \u5185\u5bb9"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { BarChart } from "@/pages/Home/components/BarChat";\r\n\r\nexport const Home = () => {\r\n  return (\r\n    <div>\r\n      <BarChart\r\n        title={"\u4e09\u4e2a\u6846\u67b6\u6ee1\u610f\u5ea6"}\r\n        xData={["Vue", "React", "Angular"]}\r\n        sData={[2000, 5000, 1000]}\r\n      />\r\n\r\n      <BarChart\r\n        title={"\u4e09\u4e2a\u6846\u67b6\u4f7f\u7528\u6570\u91cf"}\r\n        xData={["Vue", "React", "Angular"]}\r\n        sData={[200, 500, 100]}\r\n        style={{ width: "500px", height: "400px" }}\r\n      />\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.h2,{id:"api-\u5c01\u88c5",children:"API \u5c01\u88c5"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u4f18\u5316\u9879\u76ee\u683c\u5f0f, \u9700\u8981\u5c06\u63a5\u53e3\u8bf7\u6c42\u7ef4\u62a4\u5728\u4e00\u4e2a\u56fa\u5b9a\u7684\u6a21\u5757\u91cc,\u4f46\u662f\u5982\u4f55\u7f16\u5199\u6bcf\u4e2a\u56e2\u961f\u90fd\u6709\u533a\u522b \u4ec5\u63d0\u4f9b\u53c2\u8003"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226164312404.png",alt:"image-20241226164312404"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226163642447.png",alt:"image-20241226163642447"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u7528\u6237\u76f8\u5173\u7684\u6240\u6709\u8bf7\u6c42\r\nimport { request } from "@/utils";\r\n\r\n//\u767b\u5f55\u8bf7\u6c42\r\nexport function loginAPI(formData) {\r\n  return request({\r\n    url: "/authorizations",\r\n    method: "POST",\r\n    data: formData,\r\n  });\r\n}\r\n\r\n// \u83b7\u53d6\u7528\u6237\u4fe1\u606f\r\nexport function getProfileAPI() {\r\n  return request({\r\n    url: "/user/profile",\r\n    method: "GET",\r\n  });\r\n}\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539 store \u4e2d user.js \u7684\u8c03\u7528\u65b9\u5f0f"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u5f02\u6b65\u65b9\u6cd5\u5c01\u88c5\r\nconst fetchLogin = (loginForm) => {\r\n  return async (dispatch) => {\r\n    const res = await loginAPI(loginForm);\r\n    dispatch(setToken(res.data.token));\r\n  };\r\n};\r\nconst fetchUserInfo = () => {\r\n  return async (dispatch) => {\r\n    const res = await getProfileAPI();\r\n    dispatch(setUserInfo(res.data));\r\n  };\r\n};\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6587\u7ae0\u53d1\u5e03",children:"\u6587\u7ae0\u53d1\u5e03"}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u7840\u6587\u7ae0\u7ed3\u6784",children:"\u57fa\u7840\u6587\u7ae0\u7ed3\u6784"}),"\n",(0,t.jsx)(e.p,{children:"\u5f00\u53d1\u4e09\u4e2a\u6b65\u9aa4:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u57fa\u7840\u7684\u6587\u7ae0\u53d1\u5e03"}),"\n",(0,t.jsx)(e.li,{children:"\u5c01\u9762\u4e0a\u4f20"}),"\n",(0,t.jsx)(e.li,{children:"\u5e26\u5c01\u9762\u7684\u6587\u7ae0"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u9759\u6001\u7ed3\u6784"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"publish/index.js"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import {\r\n  Card,\r\n  Breadcrumb,\r\n  Form,\r\n  Button,\r\n  Radio,\r\n  Input,\r\n  Upload,\r\n  Space,\r\n  Select,\r\n} from "antd";\r\nimport { PlusOutlined } from "@ant-design/icons";\r\nimport { Link } from "react-router-dom";\r\nimport "./index.scss";\r\n\r\nconst { Option } = Select;\r\n\r\nconst Publish = () => {\r\n  return (\r\n    <div className="publish">\r\n      <Card\r\n        title={\r\n          <Breadcrumb\r\n            items={[\r\n              { title: <Link to={"/"}>\u9996\u9875</Link> },\r\n              { title: "\u53d1\u5e03\u6587\u7ae0" },\r\n            ]}\r\n          />\r\n        }\r\n      >\r\n        <Form\r\n          labelCol={{ span: 4 }}\r\n          wrapperCol={{ span: 16 }}\r\n          initialValues={{ type: 1 }}\r\n        >\r\n          <Form.Item\r\n            label="\u6807\u9898"\r\n            name="title"\r\n            rules={[{ required: true, message: "\u8bf7\u8f93\u5165\u6587\u7ae0\u6807\u9898" }]}\r\n          >\r\n            <Input placeholder="\u8bf7\u8f93\u5165\u6587\u7ae0\u6807\u9898" style={{ width: 400 }} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label="\u9891\u9053"\r\n            name="channel_id"\r\n            rules={[{ required: true, message: "\u8bf7\u9009\u62e9\u6587\u7ae0\u9891\u9053" }]}\r\n          >\r\n            <Select placeholder="\u8bf7\u9009\u62e9\u6587\u7ae0\u9891\u9053" style={{ width: 400 }}>\r\n              <Option value={0}>\u63a8\u8350</Option>\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label="\u5185\u5bb9"\r\n            name="content"\r\n            rules={[{ required: true, message: "\u8bf7\u8f93\u5165\u6587\u7ae0\u5185\u5bb9" }]}\r\n          ></Form.Item>\r\n\r\n          <Form.Item wrapperCol={{ offset: 4 }}>\r\n            <Space>\r\n              <Button size="large" type="primary" htmlType="submit">\r\n                \u53d1\u5e03\u6587\u7ae0\r\n              </Button>\r\n            </Space>\r\n          </Form.Item>\r\n        </Form>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Publish;\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"index.scss"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-css",children:".publish {\r\n  position: relative;\r\n}\r\n\r\n.ant-upload-list {\r\n  .ant-upload-list-picture-card-container,\r\n  .ant-upload-select {\r\n    width: 146px;\r\n    height: 146px;\r\n  }\r\n}\r\n\r\n.publish-quill {\r\n  .ql-editor {\r\n    min-height: 300px;\r\n  }\r\n}\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226165048854.png",alt:"image-20241226165048854"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5bcc\u6587\u672c\u7f16\u8f91\u5668",children:"\u5bcc\u6587\u672c\u7f16\u8f91\u5668"}),"\n",(0,t.jsx)(e.p,{children:"\u5bfc\u5165\u4f9d\u8d56:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm i react-quill@2.0.0-beta.2\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5f00\u53d1\u65b9\u5f0f:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u5b89\u88c5\u4f9d\u8d56 \u5bfc\u5165\u7f16\u8f91\u5668\u548c\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,t.jsx)(e.li,{children:"\u6e32\u67d3\u7ec4\u4ef6\u8c03\u6574\u7f16\u8f91\u5668\u6837\u5f0f\u548c\u6570\u636e\u94fe\u63a5"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u9700\u8981\u653e\u5165\u5bcc\u6587\u672c\u7f16\u8f91\u5668\u7684\u4f4d\u7f6e\u653e\u5165\u4ee3\u7801"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'//\u5728\u6587\u7ae0\u5934\u90e8\u5bfc\u5165\u9700\u8981\u7684\u6837\u5f0f\r\nimport "react-quill/dist/quill.snow.css";\r\n\r\n{\r\n  /*\u5bcc\u6587\u672c\u7f16\u8f91\u5668*/\r\n}\r\n<Form.Item\r\n  label="\u5185\u5bb9"\r\n  name="content"\r\n  rules={[{ required: true, message: "\u8bf7\u8f93\u5165\u6587\u7ae0\u5185\u5bb9" }]}\r\n>\r\n  {" "}\r\n  <ReactQuill\r\n    className="publish-quill"\r\n    theme="snow"\r\n    placeholder="\u8bf7\u8f93\u5165\u6587\u7ae0\u5185\u5bb9"\r\n  />\r\n</Form.Item>;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226165938872.png",alt:"image-20241226165938872"})}),"\n",(0,t.jsx)(e.h3,{id:"\u9891\u9053\u6570\u636e\u6e32\u67d3",children:"\u9891\u9053\u6570\u636e\u6e32\u67d3"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u6dfb\u52a0\u65b0\u7684\u63a5\u53e3\u5230 ",(0,t.jsx)(e.code,{children:"apis"})]}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528 useState \u7ef4\u62a4\u6570\u636e"}),"\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"useEffect"}),"\u5c06\u6570\u636e\u5b58\u5165 state"]}),"\n",(0,t.jsx)(e.li,{children:"\u7ed1\u5b9a\u5230\u4e0b\u62c9\u6846"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6dfb\u52a0 apis"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226172159279.png",alt:"image-20241226172159279"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { request } from "@/utils";\r\n\r\n// \u83b7\u53d6\u6587\u7ae0\u9891\u9053\u5217\u8868\r\nexport function getChannels() {\r\n  return request({\r\n    url: "/channels",\r\n    method: "GET",\r\n  });\r\n}\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u53d1\u5e03\u754c\u9762"}),"\n"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528 usestate \u7ef4\u62a4\u5217\u8868 \u5e76\u4e14\u4f7f\u7528 useEffect \u8bf7\u6c42\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:"\u6e32\u67d3\u6570\u636e"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const [channels, setChannels] = useState([]);\r\nuseEffect(() => {\r\n  async function getChannelList() {\r\n    const res = await getChannels();\r\n    setChannels(res.data.channels);\r\n  }\r\n\r\n  getChannelList();\r\n}, []);\r\n\r\nreturn (\r\n  <Form.Item\r\n    label="\u9891\u9053"\r\n    name="channel_id"\r\n    rules={[{ required: true, message: "\u8bf7\u9009\u62e9\u6587\u7ae0\u9891\u9053" }]}\r\n  >\r\n    <Select placeholder="\u8bf7\u9009\u62e9\u6587\u7ae0\u9891\u9053" style={{ width: 300 }}>\r\n      {channels.map((item) => (\r\n        <Option key={item.id} value={item.id}>\r\n          {item.name}\r\n        </Option>\r\n      ))}\r\n    </Select>\r\n  </Form.Item>\r\n);\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u63d0\u4ea4\u63a5\u53e3"}),"\n"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528 form \u7ec4\u4ef6\u6536\u96c6\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:"\u6839\u636e\u6587\u6863\u5904\u7406\u8868\u5355\u6570\u636e"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u7531\u4e8e react \u548c\u5bcc\u6587\u672c\u7684\u517c\u5bb9\u95ee\u9898 \u6211\u4eec\u9700\u8981\u624b\u52a8\u7684\u83b7\u53d6\u5230\u5bcc\u6587\u672c\u7684\u5185\u5bb9\u5c06\u4ed6\u653e\u5165\u5230\u5bf9\u5e94\u8868\u5355\u5c5e\u6027\u7684 value \u4e2d"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'    const [form] = Form.useForm();\r\n    const onFinish = (formValue) => {\r\n        console.log(formValue)\r\n    }\r\n    const onRichTextChange = (value) => {\r\n        form.setFieldsValue({content: value});\r\n    };\r\nreturn(\r\n           {/*\u5bcc\u6587\u672c\u7f16\u8f91\u5668*/}\r\n                    <Form.Item\r\n                        label="\u5185\u5bb9"\r\n                        name="content"\r\n                        rules={[{required: true, message: \'\u8bf7\u8f93\u5165\u6587\u7ae0\u5185\u5bb9\'}]}\r\n                    > <ReactQuill\r\n                        className="publish-quill"\r\n                        theme="snow"\r\n                        placeholder="\u8bf7\u8f93\u5165\u6587\u7ae0\u5185\u5bb9"\r\n                        onChange={onRichTextChange}\r\n                    ></ReactQuill></Form.Item>)\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226180920253.png",alt:"image-20241226180920253"})}),"\n",(0,t.jsx)(e.h3,{id:"\u53d1\u5e03\u57fa\u7840\u6587\u7ae0",children:"\u53d1\u5e03\u57fa\u7840\u6587\u7ae0"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u6587\u7ae0 apis \u4e2d\u65b0\u589e\u8bf7\u6c42\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u63d0\u4ea4\u6587\u7ae0\u8868\u5355\r\nexport function createArticleAPI(data) {\r\n  return request({\r\n    url: "/mp/articles?draft=false",\r\n    method: "POST",\r\n    data,\r\n  });\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u63d0\u4ea4\u8868\u5355"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const onFinish = (formValue) => {\r\n  const { channel_id, content, title } = formValue;\r\n  const reqData = {\r\n    content,\r\n    title,\r\n    cover: {\r\n      type: 0,\r\n      images: [],\r\n    },\r\n    channel_id,\r\n  };\r\n  //   \u63d0\u4ea4\u6570\u636e\r\n  createArticleAPI(reqData);\r\n};\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20241226181425586.png",alt:"image-20241226181425586"})}),"\n",(0,t.jsx)(e.h3,{id:"\u4e0a\u4f20\u5c01\u9762",children:"\u4e0a\u4f20\u5c01\u9762"}),"\n",(0,t.jsx)(e.h4,{id:"\u57fa\u7840\u4e0a\u4f20",children:"\u57fa\u7840\u4e0a\u4f20"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u4e0a\u4f20\u5c0f\u7ec4\u4ef6 \u7c7b\u4f3c\u4e0b\u56fe:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103160106608.png",alt:"image-20250103160106608"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u7ed3\u6784\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5c06\u4ee3\u7801\u653e\u5165 ",(0,t.jsx)(e.code,{children:"publish\u7ec4\u4ef6"}),"\u5185\u5bb9\u6807\u7b7e\u7684\u4e0a\u9762 ,"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u7f16\u5199 upload \u7684\u4e0a\u4f20\u5730\u5740"}),"\n",(0,t.jsx)(e.li,{children:"\u4e0a\u4f20\u540e\u540e\u7aef\u56de\u7ed9\u5230\u6211\u4eec\u4e00\u4e2a\u6587\u4ef6\u5217\u8868\u6211\u4eec\u9700\u8981\u4fdd\u5b58\u7528\u4e8e\u6dfb\u52a0\u6587\u7ae0\u4fe1\u606f"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { useState } from "react";\r\n\r\nconst Publish = () => {\r\n  // \u4e0a\u4f20\u56fe\u7247\r\n  const [imageList, setImageList] = useState([]);\r\n  const onUploadChange = (info) => {\r\n    setImageList(info.fileList);\r\n  };\r\n  return (\r\n    <Form.Item label="\u5c01\u9762">\r\n      <Form.Item name="type">\r\n        <Radio.Group>\r\n          <Radio value={1}>\u5355\u56fe</Radio>\r\n          <Radio value={3}>\u4e09\u56fe</Radio>\r\n          <Radio value={0}>\u65e0\u56fe</Radio>\r\n        </Radio.Group>\r\n      </Form.Item>\r\n      <Upload\r\n        name="image"\r\n        listType="picture-card"\r\n        showUploadList\r\n        action={"http://geek.itheima.net/v1_0/upload"}\r\n        onChange={onUploadChange}\r\n      >\r\n        <div style={{ marginTop: 8 }}>\r\n          <PlusOutlined />\r\n        </div>\r\n      </Upload>\r\n    </Form.Item>\r\n  );\r\n};\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103161651056.png",alt:"image-20250103161651056"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0a\u4f20\u6210\u529f\u4e86"}),"\n",(0,t.jsx)(e.h4,{id:"\u5207\u6362\u5c01\u9762\u7c7b\u578b",children:"\u5207\u6362\u5c01\u9762\u7c7b\u578b"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u6839\u636e\u5c01\u9762\u7684\u662f\u4e09\u4e2a\u5355\u9009\u6846\u7684\u9009\u9879\u6765\u51b3\u5b9a\u662f\u5426\u9700\u8981\u663e\u793a\u4e0a\u4f20\u56fe\u6807"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9009\u62e9\u5355\u56fe\u6216\u8005\u4e09\u56fe\u5c31\u5c55\u793a\u4e0a\u4f20\u56fe\u6807"}),"\n",(0,t.jsx)(e.li,{children:"\u9009\u62e9\u65e0\u56fe \u5c31\u9690\u85cf"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u901a\u8fc7 Radio \u7ec4\u4ef6\u7684",(0,t.jsx)(e.code,{children:"onChange"}),"\u56de\u8c03\u51fd\u6570\u5c31\u53ef\u4ee5\u62ff\u5230\u6211\u4eec\u7684\u5bf9\u5e94\u9009\u9879 ,"]}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u6837\u5728\u9009\u62e9\u65e0\u56fe\u7684\u65f6\u5019 \u4e0a\u4f20\u7ec4\u4ef6\u5c31\u4f1a\u9690\u85cf"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u8bb0\u5f55\u56fe\u7247\u4e0a\u4f20\u7c7b\u578b\u9009\u62e9\r\nconst [imageType, setImageType] = useState(0);\r\n// \u7c7b\u578b\u9009\u62e9\u56de\u8c03\r\nconst onTypeChange = (value) => {\r\n  setImageType(value.target.value);\r\n};\r\n\r\n<Form.Item label="\u5c01\u9762">\r\n  <Form.Item name="type">\r\n    <Radio.Group onChange={onTypeChange}>\r\n      <Radio value={1}>\u5355\u56fe</Radio>\r\n      <Radio value={3}>\u4e09\u56fe</Radio>\r\n      <Radio value={0}>\u65e0\u56fe</Radio>\r\n    </Radio.Group>\r\n  </Form.Item>\r\n  {imageType > 0 && (\r\n    <Upload\r\n      name="image"\r\n      listType="picture-card"\r\n      showUploadList\r\n      action={"http://geek.itheima.net/v1_0/upload"}\r\n      onChange={onUploadChange}\r\n    >\r\n      <div style={{ marginTop: 8 }}></div>\r\n    </Upload>\r\n  )}\r\n</Form.Item>;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u65e0\u56fe:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103162658047.png",alt:"image-20250103162658047"})}),"\n",(0,t.jsx)(e.p,{children:"\u6709\u56fe:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103162707227.png",alt:"image-20250103162707227"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u7684\u9759\u6001\u6a21\u7248\u6709\u4e00\u4e2a\u9ed8\u8ba4\u5c5e\u6027 type \u662f 1 \u8fd9\u4f1a\u5bfc\u81f4\u4e0a\u4f20\u7ec4\u4ef6\u7684\u663e\u793a\u6709\u95ee\u9898,\u6539\u4e3a\u548c state \u4e00\u6837\u7684 0 \u5373\u53ef"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103162833115.png",alt:"image-20250103162833115"})}),"\n",(0,t.jsx)(e.h4,{id:"\u63a7\u5236\u4e0a\u4f20\u56fe\u7247\u7684\u6570\u91cf",children:"\u63a7\u5236\u4e0a\u4f20\u56fe\u7247\u7684\u6570\u91cf"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u63a7\u5236 \u5982:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5355\u56fe:\u5c31\u4e00\u5f20"}),"\n",(0,t.jsx)(e.li,{children:"\u4e09\u56fe:\u5c31\u4e09\u5f20"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u53ea\u9700\u8981\u5c06\u4e0a\u4f20\u7ed1\u5b9a\u7684 type \u663e\u793a\u4ed6\u7684\u6700\u5927\u6570\u91cf\u5c31\u884c\u4e86,"}),"\n",(0,t.jsx)(e.p,{children:"ps: \u95ee\u9898 \u5b89\u5168\u6027\u4e0d\u9ad8 \u800c\u4e14\u4e4b\u524d\u66ff\u6362\u6389\u7684\u56fe\u7247\u8fd8\u662f\u4f1a\u5360\u7528\u4fe1\u606f"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103163750884.png",alt:"image-20250103163750884"})}),"\n",(0,t.jsx)(e.h3,{id:"\u53d1\u8868\u5e26\u56fe\u7247\u7684\u6587\u7ae0",children:"\u53d1\u8868\u5e26\u56fe\u7247\u7684\u6587\u7ae0"}),"\n",(0,t.jsxs)(e.p,{children:["\u6211\u4eec\u4e4b\u524d\u4e0a\u4f20\u57fa\u7840\u6587\u7ae0\u7684\u65f6\u5019 \u6709\u4e00\u4e2a\u5c5e\u6027 : ",(0,t.jsx)(e.code,{children:"cover"}),"\u662f\u7a7a\u767d\u7684 \u73b0\u5728\u6211\u4eec\u9700\u8981\u5c06 imagelist \u548c\u8fd9\u4e2a cover \u7ed1\u5b9a \u5c31\u53ef\u4ee5\u4e0a\u4f20\u5c01\u9762\u4e86"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6211\u4eec\u9700\u8981\u4ece\u65b0\u7ec4\u88c5\u4e00\u4e0b\u56fe\u7247\u5217\u8868\u7684\u4fe1\u606f \u4e0a\u4f20\u53ea\u9700\u8981\u6211\u4eec\u63d0\u4f9b url"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["\u4fee\u6539\u65b9\u6cd5 ",(0,t.jsx)(e.code,{children:"onFinish"})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const onFinish = (formValue) => {\r\n  // \u5224\u65adtype\u548c\u56fe\u7247\u6570\u91cf\u662f\u5426\u76f8\u7b49\r\n  if (imageList.length !== imageType) {\r\n    return message.warning("\u5c01\u9762\u7c7b\u578b\u548c\u56fe\u7247\u6570\u91cf\u4e0d\u5339\u914d");\r\n  }\r\n  const { channel_id, content, title } = formValue;\r\n  const reqData = {\r\n    content,\r\n    title,\r\n    cover: {\r\n      type: imageType,\r\n      images: imageList.map((item) => item.response.data.url),\r\n    },\r\n    channel_id,\r\n  };\r\n  //   \u63d0\u4ea4\u6570\u636e\r\n  createArticleAPI(reqData).then((data) => {\r\n    if (data.message === "OK") {\r\n      message.success("\u6587\u7ae0\u53d1\u5e03\u6210\u529f");\r\n      form.resetFields();\r\n      setImageType(0);\r\n    }\r\n  });\r\n};\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103164257941.png",alt:"image-20250103164257941"})}),"\n",(0,t.jsx)(e.p,{children:"\u63d0\u4ea4\u4e4b\u540e\u7684\u4fe1\u606f"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103164446703.png",alt:"image-20250103164446703"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0a\u4f20\u6210\u529f"}),"\n",(0,t.jsx)(e.h4,{id:"\u6821\u9a8c\u7c7b\u578b",children:"\u6821\u9a8c\u7c7b\u578b"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u907f\u514d \u4e09\u56fe\u5c01\u9762\u53ea\u4e0a\u4f20\u4e86\u4e24\u5f20\u56fe\u7247\u7684\u60c5\u51b5 \u6240\u4ee5\u8fd8\u9700\u8981\u5728\u4e0a\u4f20\u65b9\u6cd5\u4e2d\u589e\u52a0\u4e00\u4e9b\u5224\u65ad"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const onFinish = (formValue) => {\r\n  // \u5224\u65adtype\u548c\u56fe\u7247\u6570\u91cf\u662f\u5426\u76f8\u7b49\r\n  if (imageList.length !== imageType) {\r\n    return message.warning("\u5c01\u9762\u7c7b\u578b\u548c\u56fe\u7247\u6570\u91cf\u4e0d\u5339\u914d");\r\n  }\r\n  const { channel_id, content, title } = formValue;\r\n  const reqData = {\r\n    content,\r\n    title,\r\n    cover: {\r\n      type: imageType,\r\n      images: imageList.map((item) => item.response.data.url),\r\n    },\r\n    channel_id,\r\n  };\r\n  //   \u63d0\u4ea4\u6570\u636e\r\n  createArticleAPI(reqData);\r\n};\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u6587\u7ae0\u5217\u8868",children:"\u6587\u7ae0\u5217\u8868"}),"\n",(0,t.jsx)(e.h3,{id:"\u653e\u5165\u7ed3\u6784",children:"\u653e\u5165\u7ed3\u6784"}),"\n",(0,t.jsx)(e.p,{children:"\u5c0f\u7ec6\u8282:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u5bfc\u5165\u8bed\u8a00\u5305 \u8ba9\u65e5\u671f\u9009\u62e9\u53ef\u4ee5\u8bc6\u522b\u4e2d\u6587"}),"\n",(0,t.jsxs)(e.li,{children:["Select \u7ec4\u4ef6\u914d\u5408 Form.Item \u4f7f\u7528\u65f6\uff0c\u5982\u4f55\u914d\u7f6e\u9ed8\u8ba4\u9009\u4e2d\u9879\r\n",(0,t.jsx)(e.code,{children:"<Form initialValues={{ status: null }} >"})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { Link } from "react-router-dom";\r\n// \u5bfc\u5165\u8d44\u6e90\r\nimport {\r\n  Breadcrumb,\r\n  Button,\r\n  Card,\r\n  DatePicker,\r\n  Form,\r\n  Radio,\r\n  Select,\r\n  Space,\r\n  Table,\r\n  Tag,\r\n} from "antd";\r\nimport locale from "antd/es/date-picker/locale/zh_CN";\r\nimport { DeleteOutlined, EditOutlined } from "@ant-design/icons";\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nexport const Article = () => {\r\n  // \u51c6\u5907\u5217\u6570\u636e\r\n  const columns = [\r\n    {\r\n      title: "\u5c01\u9762",\r\n      dataIndex: "cover",\r\n      width: 120,\r\n      render: (cover) => {\r\n        return (\r\n          <img\r\n            src={cover.images[0] || "img404"}\r\n            width={80}\r\n            height={60}\r\n            alt=""\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: "\u6807\u9898",\r\n      dataIndex: "title",\r\n      width: 220,\r\n    },\r\n    {\r\n      title: "\u72b6\u6001",\r\n      dataIndex: "status",\r\n      render: (data) => <Tag color="green">\u5ba1\u6838\u901a\u8fc7</Tag>,\r\n    },\r\n    {\r\n      title: "\u53d1\u5e03\u65f6\u95f4",\r\n      dataIndex: "pubdate",\r\n    },\r\n    {\r\n      title: "\u9605\u8bfb\u6570",\r\n      dataIndex: "read_count",\r\n    },\r\n    {\r\n      title: "\u8bc4\u8bba\u6570",\r\n      dataIndex: "comment_count",\r\n    },\r\n    {\r\n      title: "\u70b9\u8d5e\u6570",\r\n      dataIndex: "like_count",\r\n    },\r\n    {\r\n      title: "\u64cd\u4f5c",\r\n      render: (data) => {\r\n        return (\r\n          <Space size="middle">\r\n            <Button type="primary" shape="circle" icon={<EditOutlined />} />\r\n            <Button\r\n              type="primary"\r\n              danger\r\n              shape="circle"\r\n              icon={<DeleteOutlined />}\r\n            />\r\n          </Space>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  // \u51c6\u5907\u8868\u683cbody\u6570\u636e\r\n  const data = [\r\n    {\r\n      id: "8218",\r\n      comment_count: 0,\r\n      cover: {\r\n        images: [],\r\n      },\r\n      like_count: 0,\r\n      pubdate: "2019-03-11 09:00:00",\r\n      read_count: 2,\r\n      status: 2,\r\n      title: "wkwebview\u79bb\u7ebf\u5316\u52a0\u8f7dh5\u8d44\u6e90\u89e3\u51b3\u65b9\u6848",\r\n    },\r\n  ];\r\n  return (\r\n    <div>\r\n      <Card\r\n        title={\r\n          <Breadcrumb\r\n            items={[\r\n              { title: <Link to={"/"}>\u9996\u9875</Link> },\r\n              { title: "\u6587\u7ae0\u5217\u8868" },\r\n            ]}\r\n          />\r\n        }\r\n        style={{ marginBottom: 20 }}\r\n      >\r\n        <Form initialValues={{ status: "" }}>\r\n          <Form.Item label="\u72b6\u6001" name="status">\r\n            <Radio.Group>\r\n              <Radio value={""}>\u5168\u90e8</Radio>\r\n              <Radio value={0}>\u8349\u7a3f</Radio>\r\n              <Radio value={2}>\u5ba1\u6838\u901a\u8fc7</Radio>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n\r\n          <Form.Item label="\u9891\u9053" name="channel_id">\r\n            <Select\r\n              placeholder="\u8bf7\u9009\u62e9\u6587\u7ae0\u9891\u9053"\r\n              defaultValue="lucy"\r\n              style={{ width: 120 }}\r\n            >\r\n              <Option value="jack">Jack</Option>\r\n              <Option value="lucy">Lucy</Option>\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item label="\u65e5\u671f" name="date">\r\n            {/* \u4f20\u5165locale\u5c5e\u6027 \u63a7\u5236\u4e2d\u6587\u663e\u793a*/}\r\n            <RangePicker locale={locale}></RangePicker>\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Button type="primary" htmlType="submit" style={{ marginLeft: 40 }}>\r\n              \u7b5b\u9009\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Card>\r\n      {/*\u8868\u683c\u533a\u57df*/}\r\n      <Card title={`\u6839\u636e\u7b5b\u9009\u6761\u4ef6\u5171\u67e5\u8be2\u5230 count \u6761\u7ed3\u679c\uff1a`}>\r\n        <Table rowKey="id" columns={columns} dataSource={data} />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u9891\u9053\u6a21\u5757\u6e32\u67d3",children:"\u9891\u9053\u6a21\u5757\u6e32\u67d3"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u8fd9\u6b21\u91c7\u7528 \u81ea\u5b9a\u4e49\u4e1a\u52a1 hook \u7684\u65b9\u5f0f\u5b9e\u73b0\u83b7\u53d6\u9891\u9053\u4fe1\u606f"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u521b\u5efa\u4e00\u4e2a use \u6253\u5934\u7684\u51fd\u6570"}),"\n",(0,t.jsx)(e.li,{children:"\u5728\u51fd\u6570\u4e2d\u5c01\u88c5\u4e1a\u52a1\u903b\u8f91\u5e76\u4e14\u5bfc\u51fa\u72b6\u6001\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:"\u7ec4\u4ef6\u4e2d\u5bfc\u5165\u51fd\u6570\u548c\u6267\u884c\u89e3\u6784\u72b6\u6001\u6570\u636e\u4f7f\u7528"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103171229511.png",alt:"image-20250103171229511"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u5c01\u88c5\u83b7\u53d6\u9891\u9053\u5217\u8868\u7684\u903b\u8f91\r\nimport { useEffect, useState } from "react";\r\nimport { getChannels } from "@/apis/article";\r\n\r\nfunction useChannel() {\r\n  //     1. \u83b7\u53d6\u9891\u9053\u5217\u8868\u7684\u6240\u6709\u903b\u8f91\r\n  const [channels, setChannels] = useState([]);\r\n  useEffect(() => {\r\n    async function getChannelList() {\r\n      const res = await getChannels();\r\n      setChannels(res.data.channels);\r\n    }\r\n\r\n    getChannelList();\r\n  }, []);\r\n  //     2. \u628a\u6570\u636e\u5bfc\u51fa\r\n  return { channels };\r\n}\r\n\r\nexport { useChannel };\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u6837\u5c31\u53ef\u4ee5\u53bb\u6539\u9020\u4e00\u4e0b\u4e4b\u524d\u7684 publish \u83b7\u53d6\u9891\u9053\u7684\u903b\u8f91 \u4e5f\u53ef\u4ee5\u5728\u65b0\u7684\u7ec4\u4ef6\u4e2d\u76f4\u63a5\u4f7f\u7528\u9891\u9053\u6570\u636e"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5c06\u6570\u636e\u653e\u5165\u6587\u7ae0\u7f16\u8f91\u4e2d"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u627e\u5230\u9891\u9053\u6807\u7b7e \u4fee\u6539 options"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"{\r\n  channels.map((item) => <Option value={item.id}>{item.name}</Option>);\r\n}\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250103171814720.png",alt:"image-20250103171814720"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6e32\u67d3\u6587\u7ae0\u5217\u8868\u6570\u636e",children:"\u6e32\u67d3\u6587\u7ae0\u5217\u8868\u6570\u636e"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u58f0\u660e\u8bf7\u6c42\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.li,{children:"useEffect \u62ff\u5230\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:"\u6e32\u67d3\u6570\u636e"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["\u8bf7\u6c42\u65b9\u6cd5 ",(0,t.jsx)(e.code,{children:"/apis/article.js "})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'//\u83b7\u53d6\u6587\u7ae0\u5217\u8868\r\nexport function getArticleAPI(params) {\r\n  return request({\r\n    url: "/mp/articles",\r\n    method: "GET",\r\n    params,\r\n  });\r\n}\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"Article \u7ec4\u4ef6"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { Link } from "react-router-dom";\r\n// \u5bfc\u5165\u8d44\u6e90\r\nimport {\r\n  Breadcrumb,\r\n  Button,\r\n  Card,\r\n  DatePicker,\r\n  Form,\r\n  Radio,\r\n  Select,\r\n  Space,\r\n  Table,\r\n  Tag,\r\n} from "antd";\r\nimport locale from "antd/es/date-picker/locale/zh_CN";\r\nimport { useChannel } from "@/hooks/useChannel";\r\nimport { useEffect, useState } from "react";\r\nimport { getArticleAPI } from "@/apis/article";\r\nimport { DeleteOutlined, EditOutlined } from "@ant-design/icons";\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nexport const Article = () => {\r\n  // \u83b7\u53d6\u9891\u9053\u6570\u636e\r\n  const { channels } = useChannel();\r\n  // \u51c6\u5907\u5217\u6570\u636e\r\n  const columns = [\r\n    {\r\n      title: "\u5c01\u9762",\r\n      dataIndex: "cover",\r\n      width: 120,\r\n      render: (cover) => {\r\n        return (\r\n          <img\r\n            src={cover.images[0] || "img404"}\r\n            width={80}\r\n            height={60}\r\n            alt=""\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: "\u6807\u9898",\r\n      dataIndex: "title",\r\n      width: 220,\r\n    },\r\n    {\r\n      title: "\u72b6\u6001",\r\n      dataIndex: "status",\r\n      render: (data) => <Tag color="green">\u5ba1\u6838\u901a\u8fc7</Tag>,\r\n    },\r\n    {\r\n      title: "\u53d1\u5e03\u65f6\u95f4",\r\n      dataIndex: "pubdate",\r\n    },\r\n    {\r\n      title: "\u9605\u8bfb\u6570",\r\n      dataIndex: "read_count",\r\n    },\r\n    {\r\n      title: "\u8bc4\u8bba\u6570",\r\n      dataIndex: "comment_count",\r\n    },\r\n    {\r\n      title: "\u70b9\u8d5e\u6570",\r\n      dataIndex: "like_count",\r\n    },\r\n    {\r\n      title: "\u64cd\u4f5c",\r\n      render: (data) => {\r\n        return (\r\n          <Space size="middle">\r\n            <Button type="primary" shape="circle" icon={<EditOutlined />} />\r\n            <Button\r\n              type="primary"\r\n              danger\r\n              shape="circle"\r\n              icon={<DeleteOutlined />}\r\n            />\r\n          </Space>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  // \u83b7\u53d6\u6587\u7ae0\u5217\u8868\r\n  const [list, setList] = useState([]);\r\n  useEffect(() => {\r\n    async function getList() {\r\n      const res = await getArticleAPI();\r\n      setList(res.data.results);\r\n    }\r\n\r\n    getList();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <Card\r\n        title={\r\n          <Breadcrumb\r\n            items={[\r\n              { title: <Link to={"/"}>\u9996\u9875</Link> },\r\n              { title: "\u6587\u7ae0\u5217\u8868" },\r\n            ]}\r\n          />\r\n        }\r\n        style={{ marginBottom: 20 }}\r\n      >\r\n        <Form initialValues={{ status: "" }}>\r\n          <Form.Item label="\u72b6\u6001" name="status">\r\n            <Radio.Group>\r\n              <Radio value={""}>\u5168\u90e8</Radio>\r\n              <Radio value={0}>\u8349\u7a3f</Radio>\r\n              <Radio value={2}>\u5ba1\u6838\u901a\u8fc7</Radio>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n\r\n          <Form.Item label="\u9891\u9053" name="channel_id">\r\n            <Select placeholder="\u8bf7\u9009\u62e9\u6587\u7ae0\u9891\u9053" style={{ width: 120 }}>\r\n              {channels.map((item) => (\r\n                <Option value={item.id}>{item.name}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item label="\u65e5\u671f" name="date">\r\n            {/* \u4f20\u5165locale\u5c5e\u6027 \u63a7\u5236\u4e2d\u6587\u663e\u793a*/}\r\n            <RangePicker locale={locale}></RangePicker>\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Button type="primary" htmlType="submit" style={{ marginLeft: 40 }}>\r\n              \u7b5b\u9009\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Card>\r\n      {/*\u8868\u683c\u533a\u57df*/}\r\n      <Card title={`\u6839\u636e\u7b5b\u9009\u6761\u4ef6\u5171\u67e5\u8be2\u5230 ${list.length} \u6761\u7ed3\u679c\uff1a`}>\r\n        <Table rowKey="id" columns={columns} dataSource={list} />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u6587\u7ae0\u72b6\u6001",children:"\u6587\u7ae0\u72b6\u6001"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u6839\u636e\u4e0d\u540c\u7684\u6587\u7ae0\u72b6\u6001\u663e\u793a\u4e0d\u540c\u7684 tag , \u6211\u4eec\u5728\u7528\u679a\u4e3e\u6e32\u67d3\u7684\u65b9\u5f0f\u5b9e\u73b0\u8fd9\u4e2a\u591a\u79cd\u72b6\u6001\u7684\u663e\u793a,"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u4e4b\u524d\u7684\u4ee3\u7801\u4e2d\u6709\u4e13\u95e8\u63a7\u5236\u6bcf\u4e00\u5217\u663e\u793a\u7684\u6570\u7ec4"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104155009184.png",alt:"image-20250104155009184"})}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u6211\u4eec\u5c31\u53ef\u4ee5\u6839\u636e \u62ff\u5230\u7684\u6570\u636e \u5229\u7528 ",(0,t.jsx)(e.code,{children:"render"}),"\u5c5e\u6027 \u6765\u6e32\u67d3\u51fa\u6765\u9700\u8981\u7684 tag"]}),"\n",(0,t.jsx)(e.p,{children:"\u901a\u8fc7\u63a5\u53e3\u6587\u6863\u6211\u4eec\u77e5\u9053\u76ee\u524d\u652f\u6301\u4e24\u79cd\u72b6\u6001 :"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"1 \u5f85\u5ba1\u6838"}),"\n",(0,t.jsx)(e.li,{children:"2 \u901a\u8fc7"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6587\u7ae0\u5217\u8868\u7ec4\u4ef6\u4e2d\u6dfb\u52a0"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u679a\u4e3e\u4ee3\u7801"}),"\n",(0,t.jsx)(e.li,{children:"\u5e76\u4e14\u5c06\u72b6\u6001\u5bf9\u8c61\u7684 render \u5173\u8054\u5230\u8f93\u51fa\u679a\u4e3e\u5185\u5bb9\u5373\u53ef"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"    // \u6587\u7ae0\u72b6\u6001\u679a\u4e3e\r\n    const status = {\r\n        1:<Tag color={\"warning\"}>\u5f85\u5ba1\u6838</Tag>,\r\n        2:<Tag color={\"success\"}>\u5ba1\u6838\u901a\u8fc7</Tag>\r\n    }\r\n\r\n            {\r\n\r\n            title: '\u72b6\u6001',\r\n            dataIndex: 'status',\r\n            render: data => status[data]\r\n        }\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104155609389.png",alt:"image-20250104155609389"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6587\u7ae0\u7b5b\u9009",children:"\u6587\u7ae0\u7b5b\u9009"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u6839\u636e :"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9891\u9053"}),"\n",(0,t.jsx)(e.li,{children:"\u65e5\u671f"}),"\n",(0,t.jsx)(e.li,{children:"\u72b6\u6001"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u6765\u7b5b\u9009\u9700\u8981\u7684\u6587\u7ae0"}),"\n",(0,t.jsx)(e.p,{children:"\u672c\u8d28\u5c31\u662f\u7ed9\u8bf7\u6c42\u5217\u8868\u7684\u63a5\u53e3\u4f20\u9012\u4e0d\u540c\u7684\u53c2\u6570"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u63a5\u53e3\u6587\u6863\u7684\u53c2\u6570"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104155926390.png",alt:"image-20250104155926390"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u67e5\u8be2\u7b5b\u9009\u53c2\u6570\r\nconst [reqData, setReqData] = useState({\r\n  status: "",\r\n  channel_id: "",\r\n  begin_pubdate: "",\r\n  end_pubdate: "",\r\n  page: 1,\r\n  per_page: 4,\r\n});\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u5229\u7528 useEffect \u7684\u673a\u5236 \u7ef4\u62a4\u7684\u4f9d\u8d56\u9879\u6709\u53d8\u52a8 \u5c31\u4f1a\u91cd\u65b0\u6267\u884c\u5185\u90e8\u4ee3\u7801 ,\u62c9\u53d6\u6587\u7ae0\u6570\u636e \u6240\u4ee5\u6211\u4eec\u9700\u8981\u5c06 reqdata \u653e\u5165\u4e4b\u524d\u8bf7\u6c42\u5217\u8868\u7684\u53c2\u6570\u4e2d\u4e2a,\u4e4b\u524d\u8fd9\u4e2a\u53c2\u6570\u662f\u6ca1\u6709\u4f20\u9012\u7684"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u5b8c\u6574\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u67e5\u8be2\u7b5b\u9009\u53c2\u6570\r\nconst [reqData, setReqData] = useState({\r\n  status: "",\r\n  channel_id: "",\r\n  begin_pubdate: "",\r\n  end_pubdate: "",\r\n  page: 1,\r\n  per_page: 4,\r\n});\r\nconst onReqFinish = (formValue) => {\r\n  // 1. \u51c6\u5907\u53c2\u6570\r\n  const { channel_id, date, status } = formValue;\r\n  setReqData({\r\n    status,\r\n    channel_id,\r\n    begin_pubdate: date[0].format("YYYY-MM-DD"),\r\n    end_pubdate: date[1].format("YYYY-MM-DD"),\r\n  });\r\n};\r\n// \u83b7\u53d6\u9891\u9053\u6570\u636e\r\nconst { channels } = useChannel();\r\n// \u83b7\u53d6\u6587\u7ae0\u5217\u8868\r\nconst [list, setList] = useState([]);\r\nuseEffect(() => {\r\n  async function getList() {\r\n    const res = await getArticleAPI(reqData);\r\n    setList(res.data.results);\r\n  }\r\n\r\n  getList();\r\n}, [reqData]);\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104161050120.png",alt:"image-20250104161050120"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5206\u9875\u5b9e\u73b0",children:"\u5206\u9875\u5b9e\u73b0"}),"\n",(0,t.jsx)(e.p,{children:"\u5206\u9875\u516c\u5f0f : \u9875\u6570 = \u603b\u6570/\u6bcf\u6761\u6570"}),"\n",(0,t.jsx)(e.p,{children:"\u601d\u8def : \u5c06\u9875\u6570\u4f5c\u4e3a\u8bf7\u6c42\u53c2\u6570\u4ece\u65b0\u6e32\u67d3\u6587\u7ae0\u5217\u8868"}),"\n",(0,t.jsxs)(e.p,{children:["\u627e\u5230\u6587\u7ae0\u5217\u8868\u5bf9\u5e94\u7684",(0,t.jsx)(e.code,{children:"table"}),"\u6807\u7b7e \u914d\u7f6e ",(0,t.jsx)(e.code,{children:"pagination"}),"\u5c5e\u6027"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u8865\u5145 \u7ef4\u62a4\u4e00\u4e2a count"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104164504872.png",alt:"image-20250104164504872"})}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u8bf7\u6c42\u6587\u7ae0\u5217\u8868\u7684\u65f6\u5019 \u628a\u8fd9\u4e2a\u5c5e\u6027\u653e\u5165 count \u7ef4\u62a4\u5373\u53ef"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"useEffect(() => {\r\n  async function getList() {\r\n    const res = await getArticleAPI(reqData);\r\n    setList(res.data.results);\r\n    setCount(res.data.total_count);\r\n  }\r\n\r\n  getList();\r\n}, [reqData]);\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u7b80\u5355\u7684\u5206\u9875\u5c31\u5b8c\u6210\u4e86 :"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u8bbe\u7f6e\u603b\u6570"}),"\n",(0,t.jsx)(e.li,{children:"\u6bcf\u9875\u6570\u91cf"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'{\r\n  /*\u8868\u683c\u533a\u57df*/\r\n}\r\n<Card title={`\u6839\u636e\u7b5b\u9009\u6761\u4ef6\u5171\u67e5\u8be2\u5230 ${count} \u6761\u7ed3\u679c\uff1a`}>\r\n  <Table\r\n    rowKey="id"\r\n    columns={columns}\r\n    dataSource={list}\r\n    pagination={{\r\n      total: count,\r\n      pageSize: reqData.per_page,\r\n    }}\r\n  />\r\n</Card>;\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104164656351.png",alt:"image-20250104164656351"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6839\u636e\u5bf9\u5e94\u7684\u9875\u6570\u6765\u8bf7\u6c42\u5bf9\u5e94\u6587\u7ae0"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"pagination"}),"\u4e2d\u4f7f\u7528 onchange \u4e8b\u4ef6\u6765\u5b8c\u6210\u5bf9\u5e94\u9875\u6570\u7684\u8bf7\u6c42"]}),"\n",(0,t.jsx)(e.p,{children:"\u6807\u7b7e\u6539\u52a8:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<Table\r\n  rowKey="id"\r\n  columns={columns}\r\n  dataSource={list}\r\n  pagination={{\r\n    total: count,\r\n    pageSize: reqData.per_page,\r\n    onChange: onPageChange,\r\n  }}\r\n/>\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u65b0\u589e\u65b9\u6cd5:"}),"\n",(0,t.jsx)(e.p,{children:"page \u53c2\u6570\u4f1a\u62ff\u5230\u70b9\u51fb\u7684\u5bf9\u5e94\u9875\u6570 ,\u6839\u636e\u7279\u6027\u6211\u4eec\u53ea\u9700\u8981\u6539\u53d8\u53c2\u6570 \u5c31\u4f1a\u89e6\u53d1 useEffect \u6765\u66f4\u65b0\u6570\u636e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const onPageChange = (page) => {\r\n  setReqData({\r\n    ...reqData,\r\n    page: page,\r\n  });\r\n};\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6587\u7ae0\u5220\u9664",children:"\u6587\u7ae0\u5220\u9664"}),"\n",(0,t.jsxs)(e.p,{children:["\u5728 ",(0,t.jsx)(e.code,{children:"/APIS/Article.js"}),"\u65b0\u589e\u8bf7\u6c42\u65b9\u6cd5"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'//\u5220\u9664\u6587\u7ae0\r\nexport function deleteArticleAPI(data) {\r\n  return request({\r\n    url: `/mp/articles/${data.id}`,\r\n    method: "DELETE",\r\n  });\r\n}\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6dfb\u52a0\u9759\u6001\u6587\u4ef6"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5728\u884c\u6570\u636e\u6570\u7ec4\u4e2d\u627e\u5230 \u64cd\u4f5c \u6dfb\u52a0\u786e\u8ba4\u7ec4\u4ef6 \u7ed1\u5b9a",(0,t.jsx)(e.code,{children:"onConfirm"}),"\u4e8b\u4ef6"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<Popconfirm\r\n  title="\u786e\u8ba4\u5220\u9664\u8be5\u6761\u6587\u7ae0\u5417?"\r\n  onConfirm={() => delArticle(data)}\r\n  okText="\u786e\u8ba4"\r\n  cancelText="\u53d6\u6d88"\r\n>\r\n  <Button type="primary" danger shape="circle" icon={<DeleteOutlined />} />\r\n</Popconfirm>\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4e8b\u4ef6\u4ee3\u7801"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const delArticle = async (data) => {\r\n  await deleteArticleAPI(data);\r\n  // \u66f4\u65b0\u5217\u8868\r\n  setReqData({\r\n    ...reqData,\r\n  });\r\n};\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u7f16\u8f91\u6587\u7ae0",children:"\u7f16\u8f91\u6587\u7ae0"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u70b9\u51fb\u7f16\u8f91\u6309\u94ae\u7684\u65f6\u5019 \u9700\u8981\u643a\u5e26\u6587\u7ae0 id \u8df3\u8f6c\u5230\u6587\u7ae0\u7f16\u5199\u9875\u9762,"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const navigate = useNavigate();\r\n//\u6837\u5f0f\u4ee3\u7801\r\n<Button\r\n  type="primary"\r\n  shape="circle"\r\n  icon={<EditOutlined />}\r\n  onClick={() => navigate(`/publish?id=${data.id}`)}\r\n/>;\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104171000631.png",alt:"image-20250104171000631"})}),"\n",(0,t.jsx)(e.h3,{id:"\u8f7d\u5165\u6587\u7ae0\u6570\u636e",children:"\u8f7d\u5165\u6587\u7ae0\u6570\u636e"}),"\n",(0,t.jsxs)(e.p,{children:["\u901a\u8fc7\u4f20\u5165\u7684 id \u83b7\u53d6\u5230\u6587\u7ae0\u6570\u636e \u4f7f\u7528\u8868\u5355\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u65b9\u6cd5 ",(0,t.jsx)(e.code,{children:"setFieldsValue"}),"\u586b\u8fdb\u53bb\u5373\u53ef"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5728 ",(0,t.jsx)(e.code,{children:"/APIS/Article.js"}),"\u65b0\u589e\u8bf7\u6c42\u65b9\u6cd5"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"//\u83b7\u53d6\u6587\u7ae0\u6570\u636e\r\nexport function getArticleById(id) {\r\n  return request({\r\n    url: `/mp/articles/${id}`,\r\n  });\r\n}\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528 \u94a9\u5b50\u6765\u505a\u5230\u5237\u65b0\u5c31\u56de\u586b\u6570\u636e"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u8f7d\u5165\u6587\u7ae0\u6570\u636e\r\nconst [searchParams] = useSearchParams();\r\n// \u6587\u7ae0\u6570\u636e\r\nconst articleId = searchParams.get("id");\r\nuseEffect(() => {\r\n  async function getArticleDetail() {\r\n    const res = await getArticleById(articleId);\r\n    const { cover, ...infoValue } = res.data;\r\n    form.setFieldsValue({ ...infoValue, type: cover.type });\r\n    setImageType(cover.type);\r\n    setImageList(cover.images.map((url) => ({ url })));\r\n  }\r\n\r\n  if (articleId) {\r\n    getArticleDetail();\r\n  }\r\n}, [articleId, form]);\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u9700\u8981\u5728 \u4e0a\u4f20\u6846\u52a0\u5165\u4e00\u4e2a\u5c5e\u6027 ",(0,t.jsx)(e.code,{children:"fileList"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'{\r\n  imageType > 0 && (\r\n    <Upload\r\n      name="image"\r\n      listType="picture-card"\r\n      showUploadList\r\n      action={"http://geek.itheima.net/v1_0/upload"}\r\n      onChange={onUploadChange}\r\n      maxCount={imageType}\r\n      fileList={imageList}\r\n    >\r\n      <div style={{ marginTop: 8 }}>\r\n        <PlusOutlined />\r\n      </div>\r\n    </Upload>\r\n  );\r\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u6839\u636e-id-\u5c55\u793a\u72b6\u6001",children:"\u6839\u636e id \u5c55\u793a\u72b6\u6001"}),"\n",(0,t.jsx)(e.p,{children:"\u627e\u5230 title \u4e2d\u7684\u53d1\u5e03\u6587\u7ae0 \u5224\u65ad\u662f\u5426\u6709 id"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"            <Card\r\n                title={\r\n                    <Breadcrumb items={[\r\n                        {title: <Link to={'/'}>\u9996\u9875</Link>},\r\n                        {title: `${articleId ? '\u7f16\u8f91\u6587\u7ae0' : '\u53d1\u5e03\u6587\u7ae0'}`}\r\n                    ]}\r\n                    />\r\n                }\r\n            >\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u66f4\u65b0\u6587\u7ae0",children:"\u66f4\u65b0\u6587\u7ae0"}),"\n",(0,t.jsx)(e.p,{children:"\u505a\u5b8c\u5185\u5bb9\u4fee\u6539\u540e \u9700\u8981\u786e\u8ba4\u66f4\u65b0\u6587\u7ae0\u5185\u5bb9 \u5e76\u4e14\u6821\u5bf9\u6587\u7ae0\u6570\u636e \u7136\u540e\u66f4\u65b0\u6587\u7ae0"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u9002\u914d url \u53c2\u6570 \u56e0\u4e3a\u6211\u4eec\u7684\u56fe\u7247\u6bcf\u4e2a\u63a5\u53e3\u7684\u4f20\u9012\u9700\u8981\u7684\u683c\u5f0f\u4e0d\u540c"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u65b0\u589e\u66f4\u65b0\u6587\u7ae0\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"/apis/article.js"})}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u4fee\u6539\u6587\u7ae0\u8868\u5355\r\nexport function updateArticleAPI(data) {\r\n  return request({\r\n    url: `/mp/articles/${data.id}?draft=false`,\r\n    method: "PUT",\r\n    data,\r\n  });\r\n}\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539 onfinish \u65b9\u6cd5"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const onFinish = (formValue) => {\r\n  // \u5224\u65adtype\u548c\u56fe\u7247\u6570\u91cf\u662f\u5426\u76f8\u7b49\r\n  if (imageList.length !== imageType) {\r\n    return message.warning("\u5c01\u9762\u7c7b\u578b\u548c\u56fe\u7247\u6570\u91cf\u4e0d\u5339\u914d");\r\n  }\r\n  const { channel_id, content, title } = formValue;\r\n  const reqData = {\r\n    content,\r\n    title,\r\n    cover: {\r\n      type: imageType,\r\n      // \u7f16\u8f91url\u7684\u65f6\u5019\u4e5f\u9700\u8981\u505a\u5904\u7406\r\n      images: imageList.map((item) => {\r\n        if (item.response) {\r\n          return item.response.data.url;\r\n        } else {\r\n          return item.url;\r\n        }\r\n      }),\r\n    },\r\n    channel_id,\r\n  };\r\n  //   \u63d0\u4ea4\u6570\u636e\r\n  // \u9700\u8981\u5224\u65ad \u65b0\u589e\u548c\u4fee\u6539\u63a5\u53e3\u7684\u8c03\u7528\r\n  if (articleId) {\r\n    updateArticleAPI({ ...reqData, id: articleId }).then((data) => {\r\n      if (data.message === "OK") {\r\n        message.success("\u6587\u7ae0\u4fee\u6539\u6210\u529f");\r\n      }\r\n    });\r\n  } else {\r\n    createArticleAPI(reqData).then((data) => {\r\n      if (data.message === "OK") {\r\n        message.success("\u6587\u7ae0\u53d1\u5e03\u6210\u529f");\r\n        form.resetFields();\r\n        setImageType(0);\r\n      }\r\n    });\r\n  }\r\n};\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u6548\u679c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104181320356.png",alt:"image-20250104181320356"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6253\u5305\u4f18\u5316",children:"\u6253\u5305\u4f18\u5316"}),"\n",(0,t.jsx)(e.p,{children:"CRA \u81ea\u5e26\u7684\u6253\u5305\u547d\u4ee4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm run build\r\n\r\n# \u9759\u6001\u670d\u52a1\u5668\r\nnpm install -g serve\r\n#\u542f\u52a8\r\nserve -s build\r\n\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e4b\u540e\u5c31\u53ef\u4ee5\u5728\u9879\u76ee\u6587\u4ef6\u5939\u770b\u5230"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104185436568.png",alt:"image-20250104185436568"})}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9700\u8981\u5b89\u88c5\u4e00\u4e2a\u672c\u5730\u670d\u52a1\u5668 \u5c31\u53ef\u4ee5\u8dd1\u8d77\u6765\u6253\u5305\u597d\u7684\u9879\u76ee\u4e86"}),"\n",(0,t.jsx)(e.h3,{id:"\u914d\u7f6e\u8def\u7531\u61d2\u52a0\u8f7d",children:"\u914d\u7f6e\u8def\u7531\u61d2\u52a0\u8f7d"}),"\n",(0,t.jsx)(e.p,{children:"\u5c31\u662f\u4f7f\u8def\u7531\u5728\u9700\u8981 js \u7684\u65f6\u5019 \u624d\u4f1a\u83b7\u53d6 \u53ef\u4ee5\u63d0\u9ad8\u9879\u76ee\u7684\u9996\u6b21\u542f\u52a8\u65f6\u95f4"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u628a\u8def\u7531\u4fee\u6539\u4e3a React \u63d0\u4f9b\u7684 lazy \u51fd\u6570\u8fdb\u884c\u52a8\u6001\u5bfc\u5165"}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528 react \u5185\u7f6e\u7684 Suspense \u7ec4\u4ef6 \u5305\u88f9\u8def\u7531\u4e2d\u7684 element"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5c06\u8def\u7531\u4e2d\u7ec4\u4ef6\u7684\u5bfc\u5165\u65b9\u5f0f\u6539\u4e3a lazy"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'import { createBrowserRouter } from "react-router-dom";\r\n\r\nimport { Login } from "@/pages/Login";\r\nimport { AuthRoute } from "@/components/AuthRoute";\r\nimport GeekLayout from "@/pages/Layout";\r\nimport { lazy, Suspense } from "react";\r\n\r\n// \u4f7f\u7528 lazy\u8fdb\u884c\u5bfc\u5165\r\n\r\nconst Home = lazy(() => import("@/pages/Home"));\r\nconst Article = lazy(() => import("@/pages/Article"));\r\nconst Publish = lazy(() => import("@/pages/Publish"));\r\n\r\nconst router = createBrowserRouter([\r\n  {\r\n    path: "/",\r\n    element: (\r\n      <AuthRoute>\r\n        <GeekLayout />\r\n      </AuthRoute>\r\n    ),\r\n    children: [\r\n      {\r\n        path: "/",\r\n        element: (\r\n          <Suspense fallback={"\u52a0\u8f7d\u4e2d"}>\r\n            <Home></Home>\r\n          </Suspense>\r\n        ),\r\n      },\r\n      {\r\n        path: "article",\r\n        element: (\r\n          <Suspense fallback={"\u52a0\u8f7d\u4e2d"}>\r\n            <Article></Article>\r\n          </Suspense>\r\n        ),\r\n      },\r\n      {\r\n        path: "publish",\r\n        element: (\r\n          <Suspense fallback={"\u52a0\u8f7d\u4e2d"}>\r\n            <Publish></Publish>\r\n          </Suspense>\r\n        ),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: "/login",\r\n    element: <Login />,\r\n  },\r\n]);\r\nexport default router;\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u53ea\u80fd\u770b\u770b\u8bed\u6cd5\u4e86 \u76ee\u524d\u6709 React18 \u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u63d0\u793a\u6211\u4f7f\u7528\u7684\u4e0d\u5bf9"}),"\n",(0,t.jsx)(e.h3,{id:"cdn",children:"CDN"}),"\n",(0,t.jsx)(e.p,{children:"\u610f\u4e49\u5c31\u662f \u52a0\u8f7d\u79bb\u672c\u5730\u6700\u8fd1\u7684\u670d\u52a1\u5668\u4e0a\u7684\u6587\u4ef6"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://img.doomwatcher.cn/img/image-20250104191954563.png",alt:"image-20250104191954563"})}),"\n",(0,t.jsx)(e.h2,{id:"hooks-2",children:"Hooks"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:" ueslocation"}),"\u83b7\u53d6\u5f53\u524d\u7684\u8def\u7531\u4f4d\u7f6e"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u83b7\u53d6\u5230\u5f53\u524d\u70b9\u51fb\u7684\u8def\u7531\r\nconst location = useLocation();\r\nconst selectedKey = location.pathname;\n"})})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>a});var s=r(6540);const t={},i=s.createContext(t);function c(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);